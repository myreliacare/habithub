<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
 <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
 <meta http-equiv="Pragma" content="no-cache">
 <meta http-equiv="Expires" content="0">
 <!-- Version 2.0 - Resources Edit/Delete Fix -->
 <meta name="mobile-web-app-capable" content="yes">
 <meta name="apple-mobile-web-app-capable" content="yes">
 <title>Kasey's Habit Hub</title>
 <link rel="preconnect" href="https://fonts.googleapis.com">
 <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
 <link href="https://fonts.googleapis.com/css2?family=Cormorant:wght@300;400;500;600;700&family=Dancing+Script:wght@400;500;600;700&display=swap" rel="stylesheet">
 <style>
 * {
 word-wrap: break-word;
 margin: 0;
 padding: 0;
 box-sizing: border-box;
 -webkit-tap-highlight-color: transparent;
 }

 html {
 width: 100%;
 height: 100%;
 background: #3d2f31 !important;
 }

 body {
 font-family: 'Cormorant', Georgia, 'Times New Roman', serif;
 background: #3d2f31 !important;
 min-height: 100vh;
 padding: 80px 16px 16px;
 color: #e0e0e0;
 position: relative;
 width: 100%;
 overflow-x: hidden;
 -webkit-overflow-scrolling: touch;
 }

 .container {
 max-width: 800px;
 margin: 0 auto;
 position: relative;
 }

 .sync-status {
 position: absolute;
 top: 140px;
 right: 24px;
 background: #3d2f31;
 border: 1px solid #444;
 padding: 8px;
 border-radius: 50%;
 z-index: 1000;
 width: 32px;
 height: 32px;
 display: flex;
 align-items: center;
 justify-content: center;
 }

 .sync-dot {
 width: 12px;
 height: 12px;
 border-radius: 50%;
 background: #666;
 }

 .sync-status.synced .sync-dot {
 background: #7ba886;
 animation: pulse 2s infinite;
 }

 .sync-status.connecting .sync-dot {
 background: #999;
 animation: pulse 1s infinite;
 }

 .sync-status.error .sync-dot {
 background: #d67373;
 }

 @keyframes pulse {
 0%, 100% { opacity: 1; }
 50% { opacity: 0.5; }
 }

 .btn {
 background: transparent;
 border: 1px solid #444;
 color: #999;
 padding: 8px 16px;
 cursor: pointer;
 font-size: 0.85rem;
 font-weight: 600;
 transition: all 0.2s ease;
 font-family: inherit;
 text-decoration: none;
 display: inline-block;
 }

 .btn:hover {
 background: #b59197;
 color: #f2ebe0;
 border-color: #b59197;
 }

 

 

 

 

 

 .hub-tab {
 display: none;
 }

 .hub-tab.active {
 display: block;
 }

 .section {
 background: #EBE0D6;
 border: 1px solid #b59197;
 padding: 24px;
 margin-bottom: 24px;
 max-width: 800px;
 margin-left: auto;
 margin-right: auto;
 }

 .section-title {
 font-size: 0.85rem;
 font-weight: 700;
 letter-spacing: 0.15em;
 text-transform: uppercase;
 color: #b59197;
 margin-bottom: 20px;
 text-align: center;
 }

 .bingo-section {
 background: #EBE0D6;
 padding: 20px 16px;
 border: 1px solid #b59197;
 margin-bottom: 16px;
 }

 h1 {
 text-align: center;
 color: #b59197;
 margin-bottom: 4px;
 font-size: 0.85rem;
 font-weight: 600;
 letter-spacing: 0.15em;
 text-transform: uppercase;
 }

 .main-title {
 text-align: center;
 color: #b59197;
 margin-bottom: 16px;
 font-family: 'Dancing Script', cursive;
 font-size: 2.8rem;
 font-weight: 400;
 letter-spacing: 0.02em;
 line-height: 1.2;
 }

 .subtitle {
 text-align: center;
 color: #999999;
 margin-bottom: 16px;
 font-size: 0.85rem;
 font-weight: 500;
 }

 .date-display {
 text-align: center;
 color: #999999;
 margin-bottom: 20px;
 font-size: 0.85rem;
 font-weight: 500;
 }

 .bingo-grid {
 display: grid;
 grid-template-columns: repeat(4, 1fr);
 gap: 0;
 margin-bottom: 20px;
 border: 2px solid #a3b899;
 max-width: 500px;
 margin-left: auto;
 margin-right: auto;
 }

 .bingo-cell {
 aspect-ratio: 1;
 display: flex;
 align-items: center;
 justify-content: center;
 text-align: center;
 font-size: 0.95rem;
 font-weight: 750;
 cursor: pointer;
 transition: all 0.2s ease;
 padding: 8px;
 background: #EBE0D6;
 color: #b59197;
 position: relative;
 line-height: 1.3;
 border: 1px solid #a3b899;
 }

 .bingo-cell.completed {
 background: #b59197;
 color: #f2ebe0;
 }
 .bingo-cell.in-bingo {
 background: #a3b899;
 color: #f2ebe0;
 }

 .bingo-cell.free-space {
 background: #b59197;
 color: #f2ebe0;
 font-weight: 700;
 cursor: default;
 text-transform: uppercase;
 letter-spacing: 0.1em;
 font-size: 0.85rem;
 }

 .controls {
 display: flex;
 gap: 12px;
 justify-content: center;
 margin-bottom: 20px;
 flex-wrap: wrap;
 }

 .controls .btn {
 padding: 10px 20px;
 font-size: 0.85rem;
 font-weight: 700;
 background: #a3b899;
 border: 1px solid #a3b899;
 color: #1c1c1c;
 }

 .stats {
 text-align: center;
 padding: 16px;
 background: #EBE0D6;
 display: flex;
 justify-content: space-around;
 gap: 20px;
 }

 .stats-item {
 color: #999999;
 font-size: 0.85rem;
 font-weight: 700;
 }

 .stats-item span {
 color: #b59197;
 font-size: 1.8rem;
 font-weight: 750;
 display: block;
 margin-bottom: 4px;
 }

 .celebration {
 position: fixed;
 top: 50%;
 left: 50%;
 transform: translate(-50%, -50%);
 background: #3d2f31;
 padding: 40px;
 box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
 text-align: center;
 display: none;
 z-index: 1000;
 border: 1px solid #4a4a4a;
 }

 .celebration.show {
 display: block;
 }

 .celebration h2 {
 color: #b59197;
 margin-bottom: 12px;
 font-size: 2rem;
 font-weight: 400;
 letter-spacing: 0.1em;
 }

 .celebration p {
 color: #999;
 margin-bottom: 24px;
 }

 .confetti {
 position: fixed;
 width: 10px;
 height: 10px;
 background: #b59197;
 position: fixed;
 left: 50%;
 animation: confetti-fall 3s linear forwards;
 z-index: 9999;
 }

 @keyframes confetti-fall {
 to {
 transform: translateY(100vh) rotate(720deg);
 opacity: 0;
 }
 }

 .resource-category {
 margin-bottom: 1px;
 }

 .resource-header {
 background: #3d2f31;
 padding: 14px 14px;
 cursor: pointer;
 display: flex;
 justify-content: space-between;
 align-items: center;
 transition: background 0.2s;
 border: 1px solid #333;
 }

 .resource-header:hover {
 background: #333;
 }

 .resource-name {
 color: #b59197;
 font-size: 1.1rem;
 font-weight: 600;
 }

 .resource-arrow {
 color: #999;
 transition: transform 0.2s;
 }

 .resource-category.active .resource-arrow {
 transform: rotate(180deg);
 color: #b59197;
 }

 .resource-content {
 display: none;
 background: #3d2f31;
 padding: 8px 6px;
 border: 1px solid #333;
 border-top: none;
 }

 .resource-category.active .resource-content {
 display: block;
 }

 /* Exercise Day Collapsible Sections */
 .exercise-day {
 margin-bottom: 12px;
 }

 .exercise-day-header {
 background: #EBE0D6;
 padding: 12px 10px;
 border-left: 3px solid #b59197;
 cursor: pointer;
 display: flex;
 justify-content: space-between;
 align-items: center;
 transition: background 0.2s;
 }

 .exercise-day-header:hover {
 background: #f2ebe0;
 }

 .exercise-day-title {
 color: #b59197;
 font-size: 1.1rem;
 font-weight: 600;
 margin: 0;
 }

 .exercise-day-arrow {
 color: #b59197;
 font-size: 1.2rem;
 transition: transform 0.3s;
 }

 .exercise-day.active .exercise-day-arrow {
 transform: rotate(180deg);
 }

 .exercise-day-content {
 display: none;
 background: #EBE0D6;
 padding: 6px 4px;
 border-left: 3px solid #b59197;
 border-top: none;
 }

 .exercise-day.active .exercise-day-content {
 display: block;
 }

 /* Override inline white boxes to reduce padding */
 .exercise-day-content > div {
 padding: 8px 10px !important;
 margin-bottom: 6px !important;
 border: none !important;
 background: rgba(255,255,255,0.85) !important;
 }
 .exercise-day-content ol,
 .exercise-day-content ul {
 padding-left: 14px !important;
 line-height: 1.45 !important;
 }
 .exercise-day-content li {
 font-size: 0.85rem;
 margin-bottom: 4px;
 }
 .exercise-day-content h3 {
 font-size: 1rem;
 margin: 0 0 6px 0;
 }

 /* Collapsible Tapping Section */
 .tapping-collapsible {
 margin-top: 12px;
 }

 .tapping-header {
 background: #b59197;
 padding: 10px 14px;
 cursor: pointer;
 display: flex;
 justify-content: space-between;
 align-items: center;
 border-radius: 3px;
 transition: background 0.2s;
 }

 .tapping-header:hover {
 background: #a57f85;
 }

 .tapping-header-text {
 color: #f2ebe0;
 font-size: 0.9rem;
 font-weight: 600;
 margin: 0;
 }

 .tapping-arrow {
 color: #f2ebe0;
 font-size: 1rem;
 transition: transform 0.3s;
 }

 .tapping-collapsible.active .tapping-arrow {
 transform: rotate(180deg);
 }

 .tapping-content {
 display: none;
 padding: 12px;
 background: #f5f0ed;
 border-left: 3px solid #b59197;
 }

 .tapping-collapsible.active .tapping-content {
 display: block;
 }

 .resource-item {
 background: #EBE0D6;
 padding: 12px;
 margin-bottom: 10px;
 display: flex;
 justify-content: space-between;
 align-items: flex-start;
 gap: 12px;
 border-left: 3px solid #b59197;
 }

 .resource-item-content {
 flex: 1;
 }

 .resource-item-title {
 color: #b59197;
 font-size: 1rem;
 font-weight: 700;
 margin-bottom: 4px;
 }

 .resource-item-link {
 color: #7a6668;
 font-size: 0.85rem;
 font-weight: 500;
 word-break: break-all;
 text-decoration: none;
 display: block;
 margin-bottom: 6px;
 }

 .resource-item-link:hover {
 text-decoration: underline;
 }

 .resource-item-note {
 color: #7a6668;
 font-size: 0.85rem;
 line-height: 1.4;
 font-style: italic;
 }

 .resource-item-actions {
 display: flex;
 gap: 4px;
 }

 .resource-video-toggle {
 display: inline-flex;
 align-items: center;
 gap: 6px;
 background: transparent;
 border: 1px solid #b59197;
 color: #b59197;
 padding: 4px 10px;
 font-size: 0.8rem;
 cursor: pointer;
 margin-top: 6px;
 border-radius: 4px;
 font-family: inherit;
 }
 .resource-video-toggle:hover {
 background: rgba(181,145,151,0.1);
 }
 .resource-video-toggle .toggle-arrow {
 display: inline-block;
 transition: transform 0.2s;
 font-size: 0.7rem;
 }
 .resource-video-toggle.open .toggle-arrow {
 transform: rotate(90deg);
 }
 .resource-video-wrapper {
 display: none;
 margin-top: 8px;
 }
 .resource-video-wrapper.open {
 display: block;
 }

 .add-resource-btn {
 background: transparent;
 border: 1px solid #444;
 color: #999;
 padding: 8px 16px;
 cursor: pointer;
 font-size: 0.85rem;
 transition: all 0.2s ease;
 margin-top: 12px;
 font-family: inherit;
 }

 .add-resource-btn:hover {
 background: #b59197;
 color: #f2ebe0;
 border-color: #b59197;
 }

 .empty-state {
 text-align: center;
 color: #666;
 padding: 20px;
 }

 .add-event-btn {
 width: 100%;
 margin-top: 12px;
 background: transparent;
 border: 1px solid #444;
 color: #999;
 padding: 8px 16px;
 cursor: pointer;
 font-size: 0.85rem;
 transition: all 0.2s ease;
 font-family: inherit;
 }

 .add-event-btn:hover {
 background: #b59197;
 color: #f2ebe0;
 border-color: #b59197;
 }

 .event-form {
 display: none;
 position: fixed;
 top: 50%;
 left: 50%;
 transform: translate(-50%, -50%);
 background: #3d2f31;
 padding: 20px;
 border: 1px solid #b59197;
 z-index: 1001;
 max-width: 500px;
 width: 90%;
 max-height: 80vh;
 overflow-y: auto;
 box-shadow: 0 4px 20px rgba(0,0,0,0.5);
 }

 .event-form.active {
 display: block;
 }

 .event-form-overlay {
 display: none;
 position: fixed;
 top: 0;
 left: 0;
 right: 0;
 bottom: 0;
 background: rgba(0, 0, 0, 0.7);
 z-index: 1000;
 }

 .event-form-overlay.active {
 display: block;
 }

 .form-group {
 margin-bottom: 15px;
 }

 .form-group label {
 display: block;
 color: #999;
 font-size: 0.85rem;
 font-weight: 600;
 margin-bottom: 6px;
 text-transform: uppercase;
 letter-spacing: 0.05em;
 }

 .form-group input,
 .form-group textarea {
 width: 100%;
 background: #3d2f31;
 border: 1px solid #444;
 color: #b59197;
 padding: 10px;
 font-size: 1rem;
 font-family: inherit;
 }

 .form-actions {
 display: flex;
 gap: 10px;
 justify-content: flex-end;
 }

 .form-actions button[type="submit"] {
 border-color: #b59197;
 color: #b59197;
 background: transparent;
 padding: 8px 16px;
 cursor: pointer;
 font-size: 0.85rem;
 transition: all 0.2s ease;
 font-family: inherit;
 }

 .form-actions button[type="submit"]:hover {
 background: #b59197;
 color: #f2ebe0;
 }

 .video-grid {
 display: grid;
 grid-template-columns: repeat(3, 1fr);
 gap: 3px;
 margin-top: 16px;
 }

 .video-thumb {
 position: relative;
 aspect-ratio: 1;
 overflow: hidden;
 cursor: pointer;
 background: #3d2f31;
 }

 .video-thumb video,
 .video-thumb img {
 width: 100%;
 height: 100%;
 object-fit: cover;
 display: block;
 }

 .video-thumb-overlay {
 position: absolute;
 bottom: 0;
 left: 0;
 right: 0;
 padding: 6px 8px;
 background: linear-gradient(transparent, rgba(0,0,0,0.7));
 color: #fff;
 font-size: 0.7rem;
 font-weight: 600;
 white-space: nowrap;
 overflow: hidden;
 text-overflow: ellipsis;
 }

 .video-thumb-play {
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translate(-50%, -50%);
 width: 36px;
 height: 36px;
 background: rgba(181,145,151,0.85);
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 pointer-events: none;
 }

 .video-thumb-play::after {
 content: '';
 display: block;
 width: 0;
 height: 0;
 border-style: solid;
 border-width: 7px 0 7px 12px;
 border-color: transparent transparent transparent #fff;
 margin-left: 2px;
 }

 .video-link-thumb {
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 width: 100%;
 height: 100%;
 background: linear-gradient(135deg, #3d2f31 0%, #5a4345 100%);
 color: #b59197;
 text-decoration: none;
 padding: 12px;
 text-align: center;
 }

 .video-link-icon {
 font-size: 1.6rem;
 margin-bottom: 4px;
 }

 .video-link-label {
 font-size: 0.65rem;
 color: #999;
 overflow: hidden;
 text-overflow: ellipsis;
 white-space: nowrap;
 max-width: 100%;
 }

 /* Video Detail Modal */
 .video-detail-modal {
 display: none;
 position: fixed;
 top: 0; left: 0; right: 0; bottom: 0;
 background: rgba(0,0,0,0.92);
 z-index: 10000;
 padding: 0;
 flex-direction: column;
 }
 .video-detail-modal.active {
 display: flex;
 }
 .video-detail-header {
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 14px 16px;
 flex-shrink: 0;
 }
 .video-detail-title {
 color: #b59197;
 font-size: 1rem;
 font-weight: 700;
 flex: 1;
 margin-right: 12px;
 overflow: hidden;
 text-overflow: ellipsis;
 white-space: nowrap;
 }
 .video-detail-close {
 background: none;
 border: none;
 color: #999;
 font-size: 1.8rem;
 cursor: pointer;
 padding: 0 4px;
 line-height: 1;
 }
 .video-detail-body {
 flex: 1;
 display: flex;
 align-items: center;
 justify-content: center;
 padding: 0 8px;
 overflow: hidden;
 }
 .video-detail-body video {
 max-width: 100%;
 max-height: 100%;
 background: #000;
 }
 .video-detail-footer {
 padding: 12px 16px;
 display: flex;
 justify-content: space-between;
 align-items: center;
 flex-shrink: 0;
 }
 .video-detail-tags {
 display: flex;
 flex-wrap: wrap;
 gap: 6px;
 flex: 1;
 }

 .video-tag {
 background: #3d2f31;
 color: #999;
 padding: 4px 10px;
 font-size: 0.75rem;
 border: 1px solid #444;
 }

 .video-detail-delete {
 background: transparent;
 border: 1px solid #c97a7a;
 color: #c97a7a;
 padding: 6px 14px;
 cursor: pointer;
 font-size: 0.8rem;
 font-family: inherit;
 margin-left: 12px;
 }

 .prompt-question {
 background: #3d2f31;
 padding: 20px;
 margin-bottom: 20px;
 border-left: 3px solid #b59197;
 }

 .prompt-label {
 font-size: 0.85rem;
 font-weight: 600;
 color: #999;
 text-transform: uppercase;
 letter-spacing: 0.05em;
 margin-bottom: 8px;
 }

 .prompt-text {
 color: #b59197;
 font-size: 1.25rem;
 font-weight: 500;
 line-height: 1.5;
 font-style: italic;
 }

 .answer-box {
 background: #3d2f31;
 padding: 20px;
 margin-bottom: 20px;
 }

 .answer-person {
 font-size: 0.85rem;
 font-weight: 600;
 color: #b59197;
 text-transform: uppercase;
 letter-spacing: 0.05em;
 margin-bottom: 12px;
 }

 .answer-text {
 color: #e0e0e0;
 line-height: 1.6;
 font-size: 1.05rem;
 white-space: pre-wrap;
 }

 .todo-container {
 background: #3d2f31;
 border: 1px solid #b59197;
 padding: 24px;
 margin-bottom: 24px;
 }

 .todo-input-group {
 display: flex;
 gap: 8px;
 margin-bottom: 20px;
 }

 .todo-input {
 flex: 1;
 background: #3d2f31;
 border: 1px solid #444;
 color: #b59197;
 padding: 12px;
 font-size: 1rem;
 font-family: inherit;
 }

 .todo-add-btn {
 background: transparent;
 border: 1px solid #b59197;
 color: #b59197;
 padding: 12px 24px;
 cursor: pointer;
 font-size: 0.85rem;
 font-weight: 600;
 transition: all 0.2s ease;
 font-family: inherit;
 }

 .todo-add-btn:hover {
 background: #b59197;
 color: #f2ebe0;
 }

 .todo-list {
 display: flex;
 flex-direction: column;
 gap: 12px;
 }

 .todo-item {
 background: #EBE0D6;
 padding: 16px;
 display: flex;
 align-items: center;
 gap: 12px;
 border-left: 3px solid #b59197;
 transition: all 0.2s ease;
 }

 .todo-item.completed {
 opacity: 0.6;
 border-left-color: #666;
 }

 .todo-checkbox {
 width: 20px;
 height: 20px;
 cursor: pointer;
 accent-color: #b59197;
 }

 .todo-text {
 flex: 1;
 color: #3d2f31;
 font-size: 1rem;
 line-height: 1.4;
 
 font-weight: 600;}

 .todo-item.completed .todo-text {
 text-decoration: line-through;
 color: #7a6668;
 }

 .todo-delete {
 background: transparent;
 border: 1px solid #b59197;
 color: #b59197;
 padding: 6px 12px;
 cursor: pointer;
 font-size: 0.85rem;
 font-weight: 600;
 transition: all 0.2s ease;
 font-family: inherit;
 }

 .todo-delete:hover {
 background: #d67373;
 color: #f2ebe0;
 border-color: #d67373;
 }

 .todo-empty {
 text-align: center;
 color: #666;
 padding: 40px 20px;
 font-size: 1rem;
 font-style: italic;
 }

 @media (max-width: 768px) {
 .btn, button {
 font-size: 0.85rem;
 padding: 8px 12px;
 }

 .bingo-grid {
 max-width: 100%;
 gap: 2px;
 }

 .bingo-cell {
 aspect-ratio: auto;
 min-height: 90px;
 font-size: 0.85rem;
 font-weight: 750;
 padding: 8px 4px;
 line-height: 1.3;
 }

 .bingo-cell.free-space {
 font-size: 0.85rem;
 font-weight: 700;
 }

 .controls {
 flex-direction: row;
 }

 .controls .btn {
 width: auto;
 min-width: unset;
 }

 .sync-status {
 top: 80px;
 right: 16px;
 width: 28px;
 height: 28px;
 padding: 6px;
 }

 .sync-dot {
 width: 10px;
 height: 10px;
 }
 }

 @media (max-width: 480px) {
 body {
 padding: 8px;
 }

 .container {
 padding: 0;
 }

 .bingo-section {
 padding: 10px 6px;
 }

 .main-title {
 font-size: 2rem;
 margin-bottom: 10px;
 font-weight: 400;
 }

 .subtitle {
 font-size: 0.85rem;
 margin-bottom: 10px;
 font-weight: 500;
 }

 .date-display {
 font-size: 0.85rem;
 margin-bottom: 12px;
 font-weight: 500;
 }

 .bingo-grid {
 gap: 2px;
 margin-bottom: 12px;
 }

 .bingo-cell {
 aspect-ratio: auto;
 min-height: 80px;
 font-size: 0.8rem;
 font-weight: 750;
 padding: 6px 3px;
 line-height: 1.3;
 }

 .bingo-cell.free-space {
 font-size: 0.85rem;
 font-weight: 700;
 letter-spacing: 0.05em;
 }

 .controls {
 gap: 8px;
 }

 .controls .btn {
 padding: 8px 12px;
 font-size: 0.75rem;
 }

 .stats {
 padding: 12px;
 gap: 12px;
 }

 .stats-item {
 font-size: 0.75rem;
 }

 .stats-item span {
 font-size: 1.2rem;
 }
 }

 /* Habits Editor Modal */
 .habits-modal-overlay {
 position: fixed; top: 0; left: 0; right: 0; bottom: 0;
 background: rgba(0, 0, 0, 0.8); z-index: 2000;
 display: none; align-items: center; justify-content: center;
 padding: 20px;
 }
 .habits-modal-overlay.visible { display: flex; }
 .habits-modal {
 background: #3d2f31; border: 1px solid rgba(181, 145, 151, 0.4);
 width: 100%; max-width: 500px; max-height: 85vh;
 overflow-y: auto; padding: 24px;
 }
 .habits-modal-header {
 display: flex; justify-content: space-between; align-items: center;
 margin-bottom: 20px; padding-bottom: 12px;
 border-bottom: 1px solid rgba(181, 145, 151, 0.2);
 }
 .habits-modal-title { font-size: 1.1rem; color: #f2ebe0; }
 .habits-modal-close {
 background: transparent; border: none; color: #c9a9a6;
 font-size: 1.5rem; cursor: pointer; padding: 0; line-height: 1;
 }
 .habits-modal-close:hover { color: #f2ebe0; }
 .habits-list { margin-bottom: 20px; max-height: 400px; overflow-y: auto; }
 .habit-item {
 display: flex; align-items: center; gap: 10px;
 padding: 10px 12px; margin-bottom: 6px;
 background: rgba(20, 20, 20, 0.4);
 border-left: 2px solid #b59197;
 }
 .habit-item input {
 flex: 1; background: transparent; border: none;
 color: #f2ebe0; font-size: 0.85rem; font-family: inherit;
 padding: 4px 0;
 }
 .habit-item input:focus { outline: none; }
 .habit-delete {
 background: transparent; border: none;
 color: rgba(201, 169, 166, 0.5); cursor: pointer;
 font-size: 1rem; padding: 4px 8px;
 }
 .habit-delete:hover { color: #c9a9a6; }
 .add-habit-row { display: flex; gap: 8px; margin-bottom: 16px; }
 .add-habit-row input {
 flex: 1; background: rgba(20, 20, 20, 0.5);
 border: 1px solid rgba(181, 145, 151, 0.3); color: #f2ebe0;
 padding: 10px 12px; font-size: 0.85rem; font-family: inherit;
 }
 .add-habit-row input:focus { outline: none; border-color: rgba(181, 145, 151, 0.5); }
 .add-habit-row input::placeholder { color: rgba(242, 235, 224, 0.4); }
 .add-habit-btn {
 background: #b59197; border: none; color: #f2ebe0;
 padding: 10px 16px; cursor: pointer; font-size: 0.85rem; font-family: inherit;
 }
 .add-habit-btn:hover { background: #c9a9a6; }
 .habits-modal-actions {
 display: flex; gap: 10px; justify-content: flex-end;
 padding-top: 16px; border-top: 1px solid rgba(181, 145, 151, 0.2);
 }
 .habits-save-btn {
 background: #b59197; border: none; color: #f2ebe0;
 padding: 10px 20px; cursor: pointer; font-size: 0.85rem; font-family: inherit;
 }
 .habits-save-btn:hover { background: #c9a9a6; }
 .habits-cancel-btn {
 background: transparent; border: 1px solid rgba(181, 145, 151, 0.4);
 color: #c9a9a6; padding: 10px 20px; cursor: pointer;
 font-size: 0.85rem; font-family: inherit;
 }
 .habits-cancel-btn:hover { border-color: rgba(181, 145, 151, 0.6); }
 .habit-count { font-size: 0.75rem; color: rgba(242, 235, 224, 0.5); margin-bottom: 12px; }


 .journal-back-btn {
 position: absolute;
 top: 20px;
 left: 20px;
 background: transparent;
 border: 1px solid #b59197;
 color: #b59197;
 padding: 10px 20px;
 cursor: pointer;
 font-size: 0.9rem;
 font-family: inherit;
 transition: all 0.2s ease;
 }

 .journal-back-btn:hover {
 background: #b59197;
 color: #fff;
 }
 /* Journal styles */
 .journal-locked {
 position: fixed;
 top: 56px;
 left: 0;
 width: 100%;
 height: calc(100% - 56px);
 background: rgba(235, 224, 214, 0.98);
 display: flex;
 align-items: center;
 justify-content: center;
 z-index: 9000;
 }

 .journal-password-box {
 background: #fff;
 padding: 40px;
 border: 2px solid #b59197;
 box-shadow: 0 10px 40px rgba(181, 145, 151, 0.3);
 text-align: center;
 max-width: 400px;
 }

 .journal-lock-icon-DISABLED {
 font-size: 3rem;
 color: #b59197;
 margin-bottom: 20px;
 }

 .journal-password-title {
 font-family: 'Dancing Script', cursive;
 font-size: 2rem;
 color: #b59197;
 margin-bottom: 12px;
 font-weight: 500;
 }

 .journal-password-subtitle {
 color: #999;
 font-size: 0.85rem;
 margin-bottom: 24px;
 }

 .journal-password-input {
 width: 100%;
 padding: 12px;
 border: 2px solid #b59197;
 background: #3d2f31;
 color: #f2ebe0;
 font-size: 1rem;
 text-align: center;
 font-family: inherit;
 margin-bottom: 16px;
 }

 .journal-password-input:focus {
 outline: none;
 border-color: #b59197;
 box-shadow: 0 0 0 2px rgba(181, 145, 151, 0.2);
 }

 .journal-unlock-btn {
 background: #b59197;
 color: #fff;
 border: none;
 padding: 12px 32px;
 font-size: 1rem;
 font-weight: 600;
 cursor: pointer;
 transition: all 0.2s;
 font-family: inherit;
 }

 .journal-unlock-btn:hover {
 background: #c5a1a7;
 }

 .journal-error {
 color: #d67373;
 font-size: 0.85rem;
 margin-top: 8px;
 display: none;
 }

 .journal-error.show {
 display: block;
 }

 .journal-header {
 text-align: center;
 margin-bottom: 32px;
 }

 .journal-title {
 font-family: 'Dancing Script', cursive;
 font-size: 2.5rem;
 color: #b59197;
 margin-bottom: 8px;
 font-weight: 500;
 }

 .journal-subtitle {
 color: #7ba886;
 font-size: 0.85rem;
 font-style: italic;
 }

 .journal-entry-form {
 background: #fff;
 padding: 24px;
 margin-bottom: 24px;
 border: 2px solid #b59197;
 box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
 }

 .journal-form-date {
 font-family: 'Dancing Script', cursive;
 font-size: 1.5rem;
 color: #b59197;
 margin-bottom: 16px;
 font-weight: 500;
 }

 .journal-textarea {
 width: 100%;
 min-height: 200px;
 padding: 16px;
 border: 1px solid #b59197;
 background: #F7EBF0;
 color: #b59197;
 font-size: 1rem;
 line-height: 1.8;
 font-family: inherit;
 resize: vertical;
 }

 .journal-textarea:focus {
 outline: none;
 border-color: #b59197;
 box-shadow: 0 0 0 2px rgba(181, 145, 151, 0.2);
 }

 .journal-textarea::placeholder {
 color: rgba(181, 145, 151, 0.5);
 }

 .journal-save-btn {
 background: #b59197;
 color: #fff;
 border: none;
 padding: 12px 28px;
 font-size: 0.85rem;
 font-weight: 600;
 cursor: pointer;
 transition: all 0.2s;
 font-family: inherit;
 margin-top: 12px;
 }

 .journal-save-btn:hover {
 background: #c5a1a7;
 }

 .journal-entries {
 margin-top: 32px;
 }

 .journal-entry {
 background: #fff;
 padding: 24px;
 margin-bottom: 20px;
 border-left: 4px solid #b59197;
 box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
 position: relative;
 }

 .journal-entry-date {
 font-family: 'Dancing Script', cursive;
 font-size: 1.3rem;
 color: #b59197;
 margin-bottom: 12px;
 font-weight: 500;
 }

 .journal-entry-time {
 font-size: 0.8rem;
 color: #7ba886;
 margin-left: 8px;
 }

 .journal-entry-text {
 color: #e0d2d0;
 line-height: 1.8;
 white-space: pre-wrap;
 font-size: 1rem;
 }

 .journal-entry-delete {
 position: absolute;
 top: 16px;
 right: 16px;
 background: transparent;
 border: 1px solid #b59197;
 color: #b59197;
 padding: 6px 12px;
 font-size: 0.75rem;
 cursor: pointer;
 transition: all 0.2s;
 font-family: inherit;
 }

 .journal-entry-delete:hover {
 background: #d67373;
 color: #b59197;
 border-color: #d67373;
 }

 .journal-empty {
 text-align: center;
 padding: 60px 20px;
 color: #999;
 font-style: italic;
 }

 .journal-heart {
 color: #b59197;
 margin: 0 4px;
 }

 
 /* Top Navigation Bar */
 .top-nav {
 position: fixed;
 top: 0; left: 0; right: 0;
 background: #2a1f21;
 border-bottom: 1px solid rgba(163, 184, 153, 0.2);
 z-index: 9999;
 padding: 0 24px;
 font-family: 'Philosopher', Georgia, serif;
 }
 .nav-container {
 max-width: 1200px;
 margin: 0 auto;
 display: flex;
 align-items: center;
 justify-content: space-between;
 height: 56px;
 }
 .nav-logo {
 font-size: 1.1rem;
 font-weight: 700;
 color: #a3b899;
 text-decoration: none;
 white-space: nowrap;
 }
 .nav-links { display: flex; gap: 28px; align-items: center; }
 .nav-link {
 color: rgba(242, 235, 224, 0.6);
 text-decoration: none;
 font-size: 0.88rem;
 font-weight: 500;
 white-space: nowrap;
 transition: color 0.2s;
 }
 .nav-link:hover { color: #f2ebe0; }
 .nav-link.active { color: #a3b899; }

 @media (max-width: 768px) {
 body {
 padding-top: 80px;
 }

 .btn, button {
 font-size: 0.85rem;
 padding: 8px 12px;
 }

 #currentDayDisplay {
 min-width: 180px !important;
 font-size: 1rem !important;
 }
 }

 @media (max-width: 480px) {
 #currentDayDisplay {
 min-width: 160px !important;
 font-size: 0.95rem !important;
 }
 }


 /* Section Navigation Dropdown */
 .section-nav-dropdown {
 margin-bottom: 24px;
 }

 .section-dropdown {
 width: 100%;
 background: #EBE0D6;
 border: 2px solid #b59197;
 color: #3d2f31;
 padding: 14px 16px;
 font-size: 1rem;
 font-weight: 600;
 font-family: inherit;
 cursor: pointer;
 appearance: none;
 background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23b59197' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
 background-repeat: no-repeat;
 background-position: right 16px center;
 padding-right: 40px;
 }

 .section-dropdown:hover {
 background: #f2ebe0;
 border-color: #b59197;
 }

 .section-dropdown:focus {
 outline: none;
 border-color: #b59197;
 box-shadow: 0 0 0 2px rgba(181, 145, 151, 0.2);
 }

 .section-dropdown option {
 background: #EBE0D6;
 color: #3d2f31;
 padding: 10px;
 }

 /* Wellness Schedule Styles */
 .day-card {
 background: #EBE0D6;
 border: 1px solid #b59197;
 margin-bottom: 12px;
 border-radius: 4px;
 overflow: hidden;
 width: 100%;
 max-width: 760px;
 margin-left: auto;
 margin-right: auto;
 text-align: left;
 }

 .day-header {
 padding: 20px;
 cursor: pointer;
 display: flex;
 justify-content: space-between;
 align-items: center;
 transition: background 0.2s;
 }

 .day-header:hover {
 background: rgba(181, 145, 151, 0.1);
 }

 .day-name {
 font-size: 1.3rem;
 font-weight: 600;
 color: #3d2f31;
 }

 .day-preview {
 color: #7a6668;
 font-size: 0.9rem;
 margin-top: 4px;
 }

 .arrow {
 color: #b59197;
 font-size: 1.2rem;
 transition: transform 0.3s;
 }

 .day-card.expanded .arrow {
 transform: rotate(180deg);
 }

 .day-details {
 max-height: 0;
 overflow: hidden;
 transition: max-height 0.3s ease;
 background: #f2ebe0;
 }

 .day-card.expanded .day-details {
 max-height: 3000px;
 }

 .schedule-section {
 padding: 20px;
 border-top: 1px solid rgba(181, 145, 151, 0.2);
 }

 .section-header {
 color: #b59197;
 font-size: 1rem;
 text-transform: uppercase;
 letter-spacing: 0.1em;
 margin-bottom: 12px;
 font-weight: 600;
 }

 .schedule-item {
 background: #EBE0D6;
 padding: 12px;
 margin-bottom: 8px;
 border-left: 3px solid #a3b899;
 display: flex;
 align-items: flex-start;
 gap: 12px;
 }

 .schedule-time {
 color: #7a6668;
 font-weight: 600;
 min-width: 80px;
 font-size: 0.9rem;
 }

 .schedule-content {
 flex: 1;
 }

 .schedule-title {
 color: #3d2f31;
 font-weight: 600;
 margin-bottom: 4px;
 font-size: 1rem;
 }

 .schedule-details {
 color: #3d2f31;
 font-size: 0.95rem;
 line-height: 1.5;
 }

 .schedule-details strong {
 color: #b59197;
 font-weight: 700;
 }

 .schedule-details em {
 color: #7a6668;
 font-style: italic;
 }

 /* Exercise Phase Styles */
 .exercise-phase-card {
 background: #f2ebe0;
 border: 1px solid #b59197;
 padding: 20px;
 margin-bottom: 16px;
 border-radius: 4px;
 }

 .phase-header {
 color: #b59197;
 font-size: 1.1rem;
 font-weight: 700;
 margin-bottom: 8px;
 text-transform: uppercase;
 letter-spacing: 0.05em;
 }

 .phase-goal {
 color: #7a6668;
 font-size: 0.9rem;
 font-style: italic;
 margin-bottom: 16px;
 }

 .exercise-day {
 background: #EBE0D6;
 padding: 12px;
 margin-bottom: 8px;
 border-left: 3px solid #a3b899;
 color: #3d2f31;
 font-size: 0.95rem;
 }

 .exercise-day strong {
 color: #3d2f31;
 font-weight: 700;
 }

 .exercise-details {
 color: #7a6668;
 font-size: 0.85rem;
 margin-top: 4px;
 font-style: italic;
 }

 
 img {
 max-width: 100%;
 height: auto;
 }

 /* ===== HAMBURGER MENU ===== */
 .nav-refresh {
        display: block;
        background: none;
        border: none;
        color: #b59197;
        font-size: 1.4rem;
        cursor: pointer;
        padding: 2px 0;
        z-index: 10001;
        line-height: 1;
    }
    .nav-refresh:active {
        transform: rotate(180deg);
        transition: transform 0.3s;
    }
    .nav-hamburger {
     display: none;
     background: none;
     border: none;
     cursor: pointer;
     padding: 10px;
     z-index: 10001;
 }
 .nav-hamburger span {
     display: block;
     width: 24px;
     height: 2px;
     background: #a3b899;
     margin: 5px 0;
     transition: all 0.3s ease;
 }
 .nav-hamburger.open span:nth-child(1) { transform: rotate(45deg) translate(5px, 5px); }
 .nav-hamburger.open span:nth-child(2) { opacity: 0; }
 .nav-hamburger.open span:nth-child(3) { transform: rotate(-45deg) translate(5px, -5px); }
 .nav-overlay {
     display: none;
     position: fixed;
     top: 0; left: 0; right: 0; bottom: 0;
     background: #2a1f21;
     z-index: 10000;
     flex-direction: column;
     align-items: center;
     justify-content: center;
     gap: 8px;
 }
 .nav-overlay.open { display: flex; }
 .nav-link-mobile {
     color: rgba(242, 235, 224, 0.7);
     text-decoration: none;
     font-size: 1.3rem;
     font-family: 'Philosopher', Georgia, serif;
     font-weight: 500;
     padding: 18px 40px;
     transition: color 0.2s;
     display: block;
     width: 100%;
     text-align: center;
 }
 .nav-link-mobile:hover { color: #f2ebe0; }
 .nav-link-mobile.active { color: #a3b899; }
 @media (max-width: 768px) {
     .nav-hamburger { display: block; }
     .nav-links { display: none; }
 }

 @keyframes spin { to { transform: rotate(360deg); } }


        /* ===== NAV OVERRIDE - GOLD STANDARD ===== */
        .top-nav {
            position: fixed !important;
            top: 0 !important; left: 0 !important; right: 0 !important;
            background: #2a1f21 !important;
            border-bottom: 1px solid rgba(163, 184, 153, 0.2) !important;
            z-index: 9999 !important;
            padding: 0 24px !important;
            font-family: 'Philosopher', Georgia, serif !important;
        }
        .nav-container {
            max-width: 1200px !important;
            margin: 0 auto !important;
            display: flex !important;
            align-items: center !important;
            justify-content: space-between !important;
            height: 56px !important;
        }
        .nav-logo {
            font-size: 1.1rem !important;
            font-weight: 700 !important;
            color: #a3b899 !important;
            text-decoration: none !important;
            white-space: nowrap !important;
        }
        .nav-links { display: flex !important; gap: 28px !important; align-items: center !important; }
        .nav-link {
            color: rgba(242, 235, 224, 0.6) !important;
            text-decoration: none !important;
            font-size: 0.88rem !important;
            font-weight: 500 !important;
            white-space: nowrap !important;
            transition: color 0.2s !important;
            letter-spacing: normal !important;
            display: inline !important;
            min-height: auto !important;
            min-width: auto !important;
        }
        .nav-link:hover { color: #f2ebe0 !important; }
        .nav-link.active { color: #a3b899 !important; }
        .nav-hamburger {
            display: none !important;
            background: none !important;
            border: none !important;
            cursor: pointer !important;
            padding: 10px !important;
            z-index: 10001 !important;
        }
        .nav-hamburger span {
            display: block !important; width: 24px !important; height: 2px !important;
            background: #a3b899 !important; margin: 5px 0 !important;
            transition: all 0.3s ease !important;
            border-radius: 0 !important;
        }
        .nav-hamburger.open span:nth-child(1) { transform: rotate(45deg) translate(5px, 5px) !important; }
        .nav-hamburger.open span:nth-child(2) { opacity: 0 !important; }
        .nav-hamburger.open span:nth-child(3) { transform: rotate(-45deg) translate(5px, -5px) !important; }
        .nav-overlay {
            display: none !important;
            position: fixed !important;
            top: 0 !important; left: 0 !important; right: 0 !important; bottom: 0 !important;
            background: #2a1f21 !important;
            z-index: 10000 !important;
            flex-direction: column !important;
            align-items: center !important;
            justify-content: center !important;
            gap: 0 !important;
            opacity: 1 !important;
        }
        .nav-overlay.open { display: flex !important; }
        .nav-link-mobile {
            color: rgba(242, 235, 224, 0.7) !important;
            text-decoration: none !important;
            font-size: 1.05rem !important;
            font-family: 'Philosopher', Georgia, serif !important;
            font-weight: 500 !important;
            padding: 12px 40px !important;
            transition: color 0.2s !important;
            display: block !important;
            width: 100% !important;
            text-align: center !important;
            letter-spacing: normal !important;
        }
        .nav-link-mobile:hover { color: #f2ebe0 !important; }
        .nav-link-mobile.active { color: #a3b899 !important; }
        @media (max-width: 768px) {
            .nav-hamburger { display: block !important; }
            .nav-links { display: none !important; }
            .nav-container { height: 56px !important; }
            .nav-logo { font-size: 1.1rem !important; }
            .top-nav { padding: 0 24px !important; }
        }
        @media (max-width: 480px) {
            .nav-container { height: 56px !important; }
            .nav-logo { font-size: 1.1rem !important; }
            .top-nav { padding: 0 24px !important; }
        }
        /* ===== END NAV OVERRIDE ===== */
        /* ===== MOBILE OPTIMIZATION ===== */
        html, body {
            overflow-x: hidden !important;
            max-width: 100vw !important;
        }
        /* Prevent iOS auto-zoom on input focus */
        @media screen and (max-width: 768px) {
            input, textarea, select {
                font-size: 16px !important;
            }
            /* Wider resource content on mobile */
            .section {
                padding: 14px 10px;
            }
            .resource-content {
                padding: 4px 2px;
            }
            .exercise-day-content {
                padding: 8px 6px;
            }
            .exercise-day-content > div {
                padding: 8px !important;
            }
            .exercise-day-header {
                padding: 10px 10px;
            }
            .exercise-day-title {
                font-size: 0.95rem;
            }
        }
        /* ===== END MOBILE OPTIMIZATION ===== */
 /* ===== SPELL BOOK ===== */
 .spellbook-header {
 text-align: center;
 padding: 20px 0 8px;
 }
 .spellbook-header-top {
 display: flex;
 align-items: center;
 justify-content: center;
 gap: 16px;
 margin-bottom: 6px;
 }
 .spellbook-moon {
 width: 68px;
 height: 68px;
 margin: 0 auto 10px;
 }
 .spellbook-title {
 font-family: 'Dancing Script', cursive;
 font-size: 2rem;
 color: #a8c99b;
 margin-bottom: 0;
 line-height: 1.1;
 }
 .spellbook-moon-badge {
 display: flex;
 align-items: center;
 gap: 8px;
 background: rgba(122,138,110,0.1);
 border: 1px solid rgba(168,201,155,0.2);
 border-radius: 20px;
 padding: 8px 16px 8px 10px;
 }
 .spellbook-moon-badge .moon-phase-name {
 font-family: 'Dancing Script', cursive;
 font-size: 1.1rem;
 color: #a8c99b;
 margin: 0;
 line-height: 1.2;
 }
 .spellbook-moon-badge .moon-phase-illumination {
 font-size: 0.72rem;
 color: #c4d9b5;
 letter-spacing: 0.08em;
 text-transform: uppercase;
 margin: 0;
 }
 .spellbook-moon-detail {
 font-size: 0.78rem;
 color: #c8b8bb;
 font-style: italic;
 line-height: 1.5;
 max-width: 340px;
 margin: 6px auto 0;
 text-align: center;
 }
 .spellbook-subtitle {
 font-size: 0.82rem;
 color: #8fa87a;
 letter-spacing: 0.15em;
 text-transform: uppercase;
 margin-bottom: 4px;
 }
 .spellbook-divider {
 text-align: center;
 color: #8fa87a;
 font-size: 0.9rem;
 letter-spacing: 8px;
 margin: 12px 0 16px;
 opacity: 0.6;
 }
 .spellbook-categories {
 display: flex;
 flex-wrap: wrap;
 gap: 8px;
 justify-content: center;
 margin-bottom: 20px;
 }
 .spell-cat-btn {
 background: transparent;
 border: 1px solid rgba(168,201,155,0.4);
 color: #b5d4a4;
 padding: 6px 16px;
 font-family: inherit;
 font-size: 0.78rem;
 cursor: pointer;
 letter-spacing: 0.05em;
 transition: all 0.2s;
 }
 .spell-cat-btn:hover, .spell-cat-btn.active {
 background: #6d8a5e;
 color: #f2ebe0;
 border-color: #6d8a5e;
 }
 .spell-sub-btn {
 background: transparent;
 border: 1px solid rgba(122,138,110,0.25);
 color: #8fa87a;
 padding: 4px 11px;
 font-family: inherit;
 font-size: 0.7rem;
 cursor: pointer;
 letter-spacing: 0.03em;
 transition: all 0.2s;
 }
 .spell-sub-btn.active {
 background: #8fa87a;
 color: #f2ebe0;
 border-color: #8fa87a;
 }
 .spell-card {
 background: #f0efe8;
 border: 1px solid rgba(122,138,110,0.2);
 padding: 18px;
 margin-bottom: 14px;
 position: relative;
 border-left: 3px solid #8fa87a;
 }
 .spell-card-header {
 display: flex;
 justify-content: space-between;
 align-items: flex-start;
 margin-bottom: 6px;
 }
 .spell-card-title {
 font-family: 'Dancing Script', cursive;
 font-size: 1.2rem;
 color: #4a5c3f;
 line-height: 1.3;
 }
 .spell-card-tag {
 font-size: 0.68rem;
 color: #6d8a5e;
 border: 1px solid rgba(122,138,110,0.35);
 padding: 2px 8px;
 letter-spacing: 0.05em;
 text-transform: uppercase;
 white-space: nowrap;
 }
 .spell-card-intent {
 font-size: 0.85rem;
 color: #6b5a5e;
 font-style: italic;
 margin-bottom: 8px;
 padding-left: 12px;
 border-left: 2px solid rgba(122,138,110,0.3);
 }
 .spell-card-section-label {
 font-size: 0.72rem;
 color: #8fa87a;
 text-transform: uppercase;
 letter-spacing: 0.1em;
 margin: 10px 0 4px;
 font-weight: 600;
 }
 .spell-card-body {
 font-size: 0.85rem;
 color: #4a3b3e;
 line-height: 1.6;
 white-space: pre-wrap;
 }
 .spell-card-notes {
 font-size: 0.82rem;
 color: #8fa87a;
 font-style: italic;
 margin-top: 8px;
 padding: 8px 12px;
 background: rgba(122,138,110,0.08);
 }
 .spell-card-actions {
 display: flex;
 gap: 6px;
 margin-top: 10px;
 justify-content: flex-end;
 }
 .spell-card-actions button {
 background: none;
 border: 1px solid rgba(122,138,110,0.25);
 color: #8fa87a;
 padding: 3px 10px;
 font-size: 0.72rem;
 cursor: pointer;
 font-family: inherit;
 }
 .spell-card-actions button:hover {
 border-color: #6d8a5e;
 color: #6d8a5e;
 }
 .spell-form-overlay {
 display: none;
 position: fixed;
 top: 0; left: 0; right: 0; bottom: 0;
 background: rgba(0,0,0,0.7);
 z-index: 10001;
 overflow-y: auto;
 }
 .spell-form-overlay.active { display: block; }
 .spell-form {
 background: #f2ebe0;
 max-width: 550px;
 margin: 30px auto;
 border: 2px solid #8fa87a;
 }
 .spell-form-header {
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 14px 18px;
 border-bottom: 1px solid rgba(122,138,110,0.25);
 background: rgba(122,138,110,0.06);
 }
 .spell-form-header h3 {
 margin: 0;
 font-family: 'Dancing Script', cursive;
 font-size: 1.3rem;
 color: #4a5c3f;
 }
 .spell-form-close {
 background: none;
 border: none;
 font-size: 1.5rem;
 color: #8fa87a;
 cursor: pointer;
 }
 .spell-form-body {
 padding: 16px 18px;
 }
 .spell-form-body label {
 display: block;
 font-size: 0.78rem;
 color: #6d8a5e;
 text-transform: uppercase;
 letter-spacing: 0.08em;
 margin-bottom: 4px;
 margin-top: 12px;
 font-weight: 600;
 }
 .spell-form-body label:first-child { margin-top: 0; }
 .spell-form-body input,
 .spell-form-body select,
 .spell-form-body textarea {
 width: 100%;
 padding: 8px 10px;
 border: 1px solid rgba(122,138,110,0.25);
 background: #fff;
 font-family: inherit;
 font-size: 0.85rem;
 color: #3d2f31;
 box-sizing: border-box;
 }
 .spell-form-body input:focus,
 .spell-form-body select:focus,
 .spell-form-body textarea:focus {
 outline: none;
 border-color: #8fa87a;
 }
 .spell-form-body textarea { min-height: 70px; resize: vertical; }
 .spell-form-footer {
 display: flex;
 justify-content: flex-end;
 gap: 8px;
 padding: 12px 18px;
 border-top: 1px solid rgba(122,138,110,0.2);
 }
 .spell-form-footer button {
 padding: 8px 20px;
 font-family: inherit;
 font-size: 0.85rem;
 cursor: pointer;
 border: none;
 }
 .spell-form-footer .spell-cancel { background: #ddd; color: #666; }
 .spell-form-footer .spell-save { background: #6d8a5e; color: #f2ebe0; font-weight: 600; }
 .spell-empty {
 text-align: center;
 color: #b5d4a4;
 font-style: italic;
 padding: 50px 20px;
 font-size: 0.9rem;
 line-height: 1.8;
 }
 .spell-sub-filters {
 display: flex;
 flex-wrap: wrap;
 gap: 6px;
 justify-content: center;
 margin-bottom: 16px;
 }
 .spell-sub-btn {
 background: transparent;
 border: 1px solid rgba(168,201,155,0.35);
 color: #b5d4a4;
 padding: 4px 10px;
 font-family: inherit;
 font-size: 0.7rem;
 cursor: pointer;
 letter-spacing: 0.04em;
 transition: all 0.2s;
 }
 .spell-sub-btn.active, .spell-sub-btn:hover {
 background: #7a9b6a;
 color: #fff;
 border-color: #7a9b6a;
 }
 .corr-card {
 border-left-color: #6d8a5e;
 }
 .corr-tag {
 background: rgba(168,201,155,0.15) !important;
 color: #4a6a3e !important;
 }
 .corr-element {
 font-size: 0.75rem;
 color: #4a6a3e;
 font-weight: 600;
 letter-spacing: 0.05em;
 margin: 4px 0 8px;
 }
 .spell-expandable {
 cursor: pointer;
 }
 .spell-card-details {
 display: none;
 margin-top: 10px;
 padding-top: 10px;
 border-top: 1px solid rgba(122,138,110,0.15);
 }
 .spell-open .spell-card-details {
 display: block;
 }
 .spell-card-expand-icon {
 font-size: 0.65rem;
 color: #a8c99b;
 letter-spacing: 0.06em;
 text-transform: uppercase;
 margin-top: 6px;
 opacity: 0.7;
 }
 .spell-open .spell-card-expand-icon {
 display: none;
 }
 .spell-search {
 width: 100%;
 padding: 10px 14px;
 border: 1px solid rgba(168,201,155,0.3);
 background: rgba(255,255,255,0.95);
 font-family: inherit;
 font-size: 0.85rem;
 color: #3d2f31;
 box-sizing: border-box;
 margin-bottom: 16px;
 }
 .spell-search:focus { outline: none; border-color: #8fa87a; }
 .spell-search::placeholder { color: #b5c9a8; }
 /* Moon phase styles now in spellbook-moon-badge */

 /* ===== ROUTINE EDITOR ===== */
 .routine-editor-overlay { display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.7); z-index:10001; overflow-y:auto; }
 .routine-editor-overlay.active { display:block; }
 .routine-editor { background:#f2ebe0; max-width:600px; margin:20px auto; border:2px solid #b59197; }
 .routine-editor-header { display:flex; justify-content:space-between; align-items:center; padding:14px 18px; border-bottom:1px solid rgba(181,145,151,0.3); }
 .routine-editor-header h2 { margin:0; font-size:1.1rem; color:#3d2f31; }
 .routine-editor-close { background:none; border:none; font-size:1.6rem; color:#b59197; cursor:pointer; line-height:1; }
 .routine-editor-body { padding:14px 18px; max-height:65vh; overflow-y:auto; }
 .routine-block-label { font-weight:700; color:#b59197; font-size:0.85rem; text-transform:uppercase; letter-spacing:0.05em; margin:14px 0 8px; border-bottom:1px solid rgba(181,145,151,0.2); padding-bottom:4px; }
 .routine-block-label:first-child { margin-top:0; }
 .routine-item-edit { background:#fff; padding:10px 12px; margin-bottom:6px; border:1px solid rgba(181,145,151,0.15); }
 .routine-edit-row { display:flex; gap:6px; margin-bottom:4px; }
 .routine-edit-row input { padding:5px 8px; border:1px solid #ddd; font-family:inherit; font-size:0.82rem; background:#fff; color:#3d2f31; }
 .routine-edit-row .re-time { width:90px; flex:none; }
 .routine-edit-row .re-title { flex:1; min-width:0; }
 .routine-edit-details { width:100%; padding:5px 8px; border:1px solid #ddd; font-family:inherit; font-size:0.8rem; min-height:32px; resize:vertical; color:#6b5a5e; background:#fff; box-sizing:border-box; }
 .routine-edit-details:disabled { background:#f0ebe6; color:#aaa; font-style:italic; }
 .routine-edit-actions { display:flex; gap:4px; margin-top:4px; }
 .routine-edit-actions button { background:none; border:1px solid #ddd; padding:2px 8px; font-size:0.72rem; cursor:pointer; font-family:inherit; color:#888; }
 .routine-edit-actions button:hover { border-color:#b59197; color:#b59197; }
 .routine-edit-actions .re-del:hover { border-color:#c97a7a; color:#c97a7a; }
 .routine-add-item { background:none; border:1px dashed rgba(181,145,151,0.4); color:#b59197; padding:6px; width:100%; cursor:pointer; font-family:inherit; font-size:0.82rem; margin-bottom:10px; }
 .routine-add-item:hover { border-color:#b59197; background:rgba(181,145,151,0.05); }
 .routine-editor-footer { display:flex; justify-content:flex-end; gap:8px; padding:12px 18px; border-top:1px solid rgba(181,145,151,0.2); }
 .routine-editor-footer button { padding:8px 20px; font-family:inherit; font-size:0.85rem; cursor:pointer; border:none; }
 .routine-editor-footer .re-cancel { background:#ddd; color:#666; }
 .routine-editor-footer .re-save { background:#a3b899; color:#1c1c1c; font-weight:600; }
 </style>
</head>

<script>
 window.firebaseReady = false;
 window.firebaseError = null;
</script>

<script type="module">
 import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
 import { getFirestore, collection, doc, setDoc, getDoc, getDocs, deleteDoc, onSnapshot } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
 import { getStorage, ref, uploadBytes, getDownloadURL, deleteObject } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js';

 try {
 const firebaseConfig = {
 apiKey: "AIzaSyCDda9sPwSY-RQ5rrM5THOvcLtHvcPRYd4",
 authDomain: "our-habit-hub.firebaseapp.com",
 projectId: "our-habit-hub",
 storageBucket: "our-habit-hub.firebasestorage.app",
 messagingSenderId: "78555830496",
 appId: "1:78555830496:web:3e457e54729cc11b825885"
 };

 const app = initializeApp(firebaseConfig);
 const db = getFirestore(app);
 const storage = getStorage(app);

 window.db = db;
 window.firebaseStorage = storage;
 window.firebaseStorageImports = { ref, uploadBytes, getDownloadURL, deleteObject };
 window.firestoreImports = { collection, doc, setDoc, getDoc, getDocs, deleteDoc, onSnapshot };
 window.firebaseReady = true;
 window.dispatchEvent(new Event('firebaseReady'));
 } catch (error) {
 window.firebaseReady = false;
 window.firebaseError = error.message;
 }
</script>
<body>
 <!-- Top Navigation Bar -->
    <nav class="top-nav">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">Our Life Hub</a>
            <div class="nav-links">
                <a href="index.html" class="nav-link">Home</a>
                <a href="kasey-hub.html" class="nav-link active">Kasey</a>
                <a href="charlie-hub.html" class="nav-link">Charlie</a>
                <a href="our-dreams.html" class="nav-link">Us ♡</a>
                <a href="meal-plan.html" class="nav-link">Meals</a>
                <a href="settings.html" class="nav-link">Settings</a>
            </div>
            <div style="display:flex;align-items:center;gap:2px;"><button class="nav-refresh" onclick="location.reload(true)" aria-label="Refresh" title="Refresh page">↻</button>
            <button class="nav-hamburger" id="navHamburger" onclick="toggleNav()" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button></div>
        </div>
    </nav>
    <div class="nav-overlay" id="navOverlay" onclick="toggleNav()">
        <a href="index.html" class="nav-link-mobile">Home</a>
        <a href="kasey-hub.html" class="nav-link-mobile active">Kasey</a>
        <a href="charlie-hub.html" class="nav-link-mobile">Charlie</a>
        <a href="our-dreams.html" class="nav-link-mobile">Us ♡</a>
        <a href="meal-plan.html" class="nav-link-mobile">Meals</a>
        <a href="settings.html" class="nav-link-mobile">Settings</a>
    </div>


 <div class="container">
 <div class="section-nav-dropdown">
 <select id="sectionSelect" class="section-dropdown" onchange="switchTabFromDropdown()">
 <option value="bingo">Habits & Wellness</option>
 <option value="todo">To-Do List</option>
 <option value="resources">Resources</option>
 <option value="videos">Video Hub</option>
 <option value="journal">Journal</option>
 <option value="prompt">Daily Prompt</option>
 <option value="spellbook">Spell Book</option>
 </select>
 </div>

 <!-- BINGO TAB -->
 <div id="bingo-tab" class="hub-tab active">
 <!-- My Daily Wellness Schedule -->
 <div class="section" style="margin-bottom: 24px; text-align: center;">
 
 <!-- Day Navigation -->
 <div style="display: flex; justify-content: center; align-items: center; gap: 8px; margin-bottom: 20px; flex-wrap: wrap;">
 <button onclick="changeDay(-1)" style="background: transparent; border: 1px solid #b59197; color: #b59197; padding: 6px 12px; cursor: pointer; font-size: 0.85rem; font-family: inherit; white-space: nowrap;">←</button>
 <div id="currentDayDisplay" style="color: #b59197; font-weight: 600; font-size: 1.1rem; min-width: 220px; text-align: center;"></div>
 <button onclick="changeDay(1)" style="background: transparent; border: 1px solid #b59197; color: #b59197; padding: 6px 12px; cursor: pointer; font-size: 0.85rem; font-family: inherit; white-space: nowrap;">→</button>
 </div>
 <div style="font-family:'Dancing Script',cursive; font-size:1.8rem; color:#b59197; margin-bottom:18px;">Kasey's Wellness Routine</div>

 <!-- Day-specific schedules -->
 <div id="dailyScheduleContainer" style="display: flex; flex-direction: column; align-items: center;"></div>
 <button onclick="openRoutineEditor()" style="background:#b59197; color:#fff; border:none; padding:8px 20px; font-family:inherit; font-size:0.85rem; cursor:pointer; margin-top:16px;">Edit Routine</button>
 </div>

 <div class="bingo-section">
 <div class="main-title" style="margin-top: 12px;">Daily Habits Bingo</div>
 <p class="subtitle">Click squares to mark complete • Get 4 in a row to win</p>
 <div class="date-display" id="dateDisplay"></div>
 
 <div class="bingo-grid" id="bingoGrid"></div>
 
 <div class="controls">
 <button class="btn" onclick="resetBoard()">Reset Today</button>
 <button class="btn" onclick="shuffleBoard()">Shuffle Habits</button>
 </div>

 <div class="stats">
 <div class="stats-item">
 <span id="completedCount">0</span>
 Complete
 </div>
 <div class="stats-item">
 <span id="bingoCount">0</span>
 Bingos
 </div>
 </div>
 </div>
 </div>

 <!-- TO-DO LIST TAB -->
 <div id="todo-tab" class="hub-tab">
 <div class="todo-container">
 <h2 class="section-title">Current To-Dos</h2>
 
 <div class="todo-input-group">
 <input 
 type="text" 
 id="todoInput" 
 class="todo-input" 
 placeholder="Add a new task..."
 onkeypress="if(event.key === 'Enter') addTodo()"
 >
 <button class="todo-add-btn" onclick="addTodo()">Add</button>
 </div>

 <div id="todoList" class="todo-list">
 <div class="todo-empty">No tasks yet. Add your first one above!</div>
 </div>
 </div>

 <div class="todo-container" style="margin-top: 24px; border-left: 3px solid #7ba886;">
 <h2 class="section-title" style="color: #7ba886;">Future To-Dos</h2>
 <p style="font-size: 0.8rem; color: rgba(123,168,134,0.7); margin-bottom: 12px;">Things to get to when the time is right</p>
 
 <div class="todo-input-group">
 <input 
 type="text" 
 id="futureTodoInput" 
 class="todo-input" 
 placeholder="Add a future task..."
 onkeypress="if(event.key === 'Enter') addFutureTodo()"
 >
 <button class="todo-add-btn" onclick="addFutureTodo()" style="background: #7ba886; border-color: #7ba886;">Add</button>
 </div>

 <div id="futureTodoList" class="todo-list">
 <div class="todo-empty">No future tasks yet.</div>
 </div>
 </div>
 </div>

 <!-- RESOURCES TAB -->
 <div id="resources-tab" class="hub-tab">
 <div class="section">
 <h2 class="section-title">Habit Resources</h2>
 
 <!-- Dynamic Resources Heading -->


 <!-- Dynamic Resources Heading -->

 <div class="event-form-overlay" id="resourceFormOverlay" onclick="hideAddResourceForm()"></div>
 <div class="event-form" id="resourceForm">
 <form onsubmit="event.preventDefault(); addResource(event);">
 <input type="hidden" id="resourceCategory" name="category">
 <div class="form-group">
 <label>Title</label>
 <input type="text" name="title" required>
 </div>
 <div class="form-group">
 <label>Upload Image/Video (optional)</label>
 <input type="file" name="file" accept="image/*,video/*" id="resourceFile" onchange="handleResourceUpload()">
 <div style="text-align: center; color: #999; margin: 8px 0; font-size: 0.85rem;">&mdash; OR &mdash;</div>
 </div>
 <div class="form-group">
 <label>Link (optional)</label>
 <input type="url" name="link" id="resourceLink">
 </div>
 <div class="form-group">
 <label>Notes (optional)</label>
 <textarea name="note" rows="3"></textarea>
 </div>
 <div class="form-actions">
 <button type="button" class="btn" onclick="hideAddResourceForm()">Cancel</button>
 <button type="submit" class="btn">Save Resource</button>
 </div>
 </form>
 </div>
 
 <div class="resource-category">
 <div class="resource-header" onclick="toggleResource(event, 'meditate')">
 <span class="resource-name">Meditate</span>
 <span class="resource-arrow">&#9660;</span>
 </div>
 <div class="resource-content" id="meditate-content">
 <div id="meditate-items"></div>
 <button class="add-resource-btn" onclick="showAddResourceForm('meditate')">+ Add Resource</button>
 </div>
 </div>

 <div class="resource-category">
 <div class="resource-header" onclick="toggleResource(event, 'exercise')">
 <span class="resource-name">Exercise</span>
 <span class="resource-arrow">&#9660;</span>
 </div>
 <div class="resource-content" id="exercise-content">
 
 <!-- Daily Corrective Warm-Up (Do Before Every Workout) -->
 <div class="exercise-day">
 <div class="exercise-day-header" onclick="this.parentElement.classList.toggle('active')">
 <div>
 <h3 class="exercise-day-title">Daily Corrective Warm-Up</h3>
 <p style="color: #7a6668; margin: 4px 0 0 0; font-style: italic; font-size: 0.9rem;">8 min | Perform before all workouts</p>
 </div>
 <span class="exercise-day-arrow">&#9660;</span>
 </div>
 <div class="exercise-day-content">
 <div style="background: #fff; padding: 16px; border: 1px solid #d4b5ba;">
 <ol style="color: #3d2f31; line-height: 2; padding-left: 20px;">
 <li><strong>Diaphragmatic breathing + TrA engagement</strong> — Supine, knees bent. Inhale through nose, ribcage expands laterally. Exhale, gently draw belly to spine (20% effort). Hold 5 sec. <em>10 breaths</em></li>
 <li><strong>Chin tucks</strong> — Supine, tongue on roof of mouth. Gentle "double chin" nodding. Hold 10 sec. <em>10 reps</em></li>
 <li><strong>Pelvic tilts</strong> — Supine, knees bent. Flatten low back to floor, then release. <em>10 reps, 5-sec holds</em></li>
 <li><strong>Cat-cow with Schroth breathing</strong> — Quadruped. Cow: breathe into concave side. Cat: exhale fully. <em>8 slow cycles</em></li>
 <li><strong>Scapular setting</strong> — Prone, arms at sides. Squeeze shoulder blades "back and down." Hold 6 sec. <em>10 reps</em></li>
 </ol>
 </div>
 </div>
 </div>

 <!-- MONDAY -->
 <div class="exercise-day">
 <div class="exercise-day-header" onclick="this.parentElement.classList.toggle('active')">
 <div>
 <h3 class="exercise-day-title">MONDAY: Corrective + Pilates Core</h3>
 <p style="color: #7a6668; margin: 4px 0 0 0; font-style: italic; font-size: 0.9rem;">45 min | Foam roller, band, yoga block</p>
 </div>
 <span class="exercise-day-arrow">&#9660;</span>
 </div>
 <div class="exercise-day-content">
 <div style="background: #fff; padding: 16px; margin-bottom: 12px; border: 1px solid #d4b5ba;">
 <h4 style="color: #3d2f31; margin-bottom: 10px; font-size: 1.05rem;">Myofascial Release (8 min)</h4>
 <ul style="color: #3d2f31; line-height: 1.8; padding-left: 20px;">
 <li><strong>Thoracic spine foam rolling</strong> — Roller under shoulder blades, gentle extensions. <em>3 min</em></li>
 <li><strong>Pec release with lacrosse ball</strong> — Against wall at chest height. <em>90 sec each side</em></li>
 <li><strong>Upper trap/levator release</strong> — Ball between shoulder blade and spine. <em>2 min</em></li>
 </ul>
 </div>

 <div style="background: #fff; padding: 16px; margin-bottom: 12px; border: 1px solid #d4b5ba;">
 <h4 style="color: #3d2f31; margin-bottom: 10px; font-size: 1.05rem;">Corrective Stretches (6 min)</h4>
 <ul style="color: #3d2f31; line-height: 1.8; padding-left: 20px;">
 <li><strong>Doorway pec stretch</strong> — Forearm on frame at 90°. <em>30 sec × 2 each side</em></li>
 <li><strong>Upper trap stretch</strong> — Ear to shoulder, gentle hand assist. <em>30 sec each side</em></li>
 <li><strong>Chin tuck with levator stretch</strong> — Tuck chin, rotate toward armpit. <em>30 sec each side</em></li>
 </ul>
 </div>

 <div style="background: #fff; padding: 16px; margin-bottom: 12px; border: 1px solid #d4b5ba;">
 <h4 style="color: #3d2f31; margin-bottom: 10px; font-size: 1.05rem;">Pilates Core Activation (20 min)</h4>
 <ul style="color: #3d2f31; line-height: 1.8; padding-left: 20px;">
 <li><strong>Dead bug with TrA</strong> — Maintain low back contact with floor. <em>3 sets × 8 each side</em></li>
 <li><strong>Modified hundred</strong> — Knees at 90°. Arm pumps: inhale 5, exhale 5. <em>50-100 pumps</em></li>
 <li><strong>Bird-dog</strong> — No rotation through pelvis. 5-sec holds. <em>3 sets × 10 each side</em></li>
 <li><strong>Modified side plank (from knee)</strong> — Keep body straight. <em>Hold 20-30 sec × 3 each side</em></li>
 <li><strong>Bridge with marching</strong> — Lift hips, alternate lifting feet 2 inches. <em>3 sets × 8 each side</em></li>
 <li><strong>Prone Y raises</strong> — Lift arms 2-3 inches, squeeze lower traps. <em>Hold 3 sec × 12 reps</em></li>
 </ul>
 </div>

 <div style="background: #fff; padding: 16px; margin-bottom: 12px; border: 1px solid #d4b5ba;">
 <h4 style="color: #3d2f31; margin-bottom: 10px; font-size: 1.05rem;">Scoliosis-Specific Work (8 min)</h4>
 <ul style="color: #3d2f31; line-height: 1.8; padding-left: 20px;">
 <li><strong>Schroth elongation stretch</strong> — Stand tall, arms overhead. Breathe into concave side. <em>5 breaths × 3 sets</em></li>
 <li><strong>Side-lying rotation</strong> — Convex side down, top arm reaches up. <em>8 reps each side</em></li>
 <li><strong>Asymmetrical kneeling stretch</strong> — Opposite arm overhead, lean away. <em>30 sec × 2 each side</em></li>
 </ul>
 </div>

 <div style="background: #f5f0ed; padding: 12px; border-left: 3px solid #b59197;">
 <p style="color: #3d2f31; margin: 0;"><strong>Cool-down (3 min):</strong> Child's pose (60 sec), partial hang from pull-up bar (30-60 sec)</p>
 </div>
 </div>
 </div>

 <!-- TUESDAY -->
 <div class="exercise-day">
 <div class="exercise-day-header" onclick="this.parentElement.classList.toggle('active')">
 <div>
 <h3 class="exercise-day-title">TUESDAY: Upper Body Strength + Mobility</h3>
 <p style="color: #7a6668; margin: 4px 0 0 0; font-style: italic; font-size: 0.9rem;">45 min | Dumbbells, band, pull-up bar, parallel bars</p>
 </div>
 <span class="exercise-day-arrow">&#9660;</span>
 </div>
 <div class="exercise-day-content">
 <div style="background: #fff; padding: 16px; margin-bottom: 12px; border: 1px solid #d4b5ba;">
 <h4 style="color: #3d2f31; margin-bottom: 10px; font-size: 1.05rem;">Myofascial Release (4 min)</h4>
 <ul style="color: #3d2f31; line-height: 1.8; padding-left: 20px;">
 <li><strong>Lat foam rolling</strong> — Side-lying, armpit to mid-ribcage. <em>90 sec each side</em></li>
 <li><strong>Posterior shoulder ball release</strong> — Rear delt/infraspinatus. <em>60 sec each side</em></li>
 </ul>
 </div>

 <div style="background: #fff; padding: 16px; margin-bottom: 12px; border: 1px solid #d4b5ba;">
 <h4 style="color: #3d2f31; margin-bottom: 10px; font-size: 1.05rem;">Strength Circuit (25 min) — 3 rounds, 60-90 sec rest</h4>
 <ol style="color: #3d2f31; line-height: 1.8; padding-left: 20px;">
 <li><strong>Band pull-aparts</strong> — Squeeze shoulder blades. <em>15 reps</em></li>
 <li><strong>Dumbbell rows (single arm, supported)</strong> — Keep core braced, no rotation. <em>10 reps each arm</em></li>
 <li><strong>Wall slides</strong> — Arms in "goal post," maintain wall contact. <em>12 reps</em></li>
 <li><strong>Face pulls with band</strong> — Pull to face, externally rotate shoulders. <em>12 reps</em></li>
 <li><strong>Assisted pull-up negatives or inverted rows</strong> — 5-sec slow lowers OR inverted rows. <em>5 negatives or 8 rows</em></li>
 <li><strong>Prone T raises</strong> — Arms out, thumbs up. Squeeze middle traps. <em>12 reps, 2-sec holds</em></li>
 </ol>
 </div>

 <div style="background: #fff; padding: 16px; margin-bottom: 12px; border: 1px solid #d4b5ba;">
 <h4 style="color: #3d2f31; margin-bottom: 10px; font-size: 1.05rem;">Deep Neck Flexor Strengthening (5 min)</h4>
 <ul style="color: #3d2f31; line-height: 1.8; padding-left: 20px;">
 <li><strong>Supine chin tuck with head lift</strong> — Lift head 1 inch. <em>Hold 5-10 sec × 8 reps</em></li>
 <li><strong>Prone chin tuck</strong> — Forehead on block, tuck against gravity. <em>8 reps × 5-sec holds</em></li>
 </ul>
 </div>

 <div style="background: #f5f0ed; padding: 12px; border-left: 3px solid #b59197;">
 <p style="color: #3d2f31; margin: 0;"><strong>Cool-down (3 min):</strong> Thread the needle (8 reps each side), chest opener over foam roller (60 sec)</p>
 </div>
 </div>
 </div>

 <!-- WEDNESDAY -->
 <div class="exercise-day">
 <div class="exercise-day-header" onclick="this.parentElement.classList.toggle('active')">
 <div>
 <h3 class="exercise-day-title">WEDNESDAY: Active Recovery Yoga Flow</h3>
 <p style="color: #7a6668; margin: 4px 0 0 0; font-style: italic; font-size: 0.9rem;">40 min | Yoga blocks (2), foam roller | Hold 5-8 breaths</p>
 </div>
 <span class="exercise-day-arrow">&#9660;</span>
 </div>
 <div class="exercise-day-content">
 <div style="background: #fff; padding: 16px; margin-bottom: 12px; border: 1px solid #d4b5ba;">
 <h4 style="color: #3d2f31; margin-bottom: 10px; font-size: 1.05rem;">Sequence 1: Spinal Mobility</h4>
 <ul style="color: #3d2f31; line-height: 1.8; padding-left: 20px;">
 <li><strong>Tabletop circles</strong> — Make circles with ribcage. <em>8 each direction</em></li>
 <li><strong>Puppy pose</strong> — Chest toward floor, blocks under forehead if needed</li>
 <li><strong>Thread the needle</strong> — Each side, 5 breaths</li>
 <li><strong>Modified sphinx pose</strong> — Gentle thoracic extension, avoid lumbar hyperextension</li>
 </ul>
 </div>

 <div style="background: #fff; padding: 16px; margin-bottom: 12px; border: 1px solid #d4b5ba;">
 <h4 style="color: #3d2f31; margin-bottom: 10px; font-size: 1.05rem;">Sequence 2: Hip Opening (Toe-Safe)</h4>
 <ul style="color: #3d2f31; line-height: 1.8; padding-left: 20px;">
 <li><strong>90-90 hip stretch</strong> — Both legs at 90°, lean toward front shin. <em>5 breaths each side</em></li>
 <li><strong>Figure-four stretch</strong> — Supine, ankle crossed over knee. <em>8 breaths each side</em></li>
 <li><strong>Happy baby</strong> — Hold outer feet, gentle rock side to side</li>
 <li><strong>Supine spinal twist</strong> — Knees to one side, arms in T. <em>5 breaths each side</em></li>
 </ul>
 </div>

 <div style="background: #fff; padding: 16px; margin-bottom: 12px; border: 1px solid #d4b5ba;">
 <h4 style="color: #3d2f31; margin-bottom: 10px; font-size: 1.05rem;">Sequence 3: Standing Balance (Modified)</h4>
 <ul style="color: #3d2f31; line-height: 1.8; padding-left: 20px;">
 <li><strong>Tree pose</strong> — Foot on ankle/calf (NOT knee). Keep standing foot flat. <em>30 sec each side</em></li>
 <li><strong>Warrior II</strong> — Back foot flat, toes forward. <em>5 breaths each side</em></li>
 </ul>
 </div>

 <div style="background: #fff; padding: 16px; margin-bottom: 12px; border: 1px solid #d4b5ba;">
 <h4 style="color: #3d2f31; margin-bottom: 10px; font-size: 1.05rem;">Restorative Holds (8 min)</h4>
 <ul style="color: #3d2f31; line-height: 1.8; padding-left: 20px;">
 <li><strong>Legs up the wall</strong> — <em>3 minutes</em></li>
 <li><strong>Supported fish pose</strong> — Roller under thoracic spine, knees bent. <em>3 minutes</em></li>
 <li><strong>Savasana with breathing</strong> — <em>2 minutes</em></li>
 </ul>
 </div>

 <div style="background: #f5f0ed; padding: 12px; border-left: 3px solid #b59197;">
 <p style="color: #3d2f31; margin: 0;"><strong>Foot Mobility (2 min):</strong> Ankle circles (10 each direction), towel scrunches (1 min), toe spreads (5 sec × 5 reps)</p>
 </div>
 </div>
 </div>

 <!-- THURSDAY -->
 <div class="exercise-day">
 <div class="exercise-day-header" onclick="this.parentElement.classList.toggle('active')">
 <div>
 <h3 class="exercise-day-title">THURSDAY: Corrective + Lower Body Strength</h3>
 <p style="color: #7a6668; margin: 4px 0 0 0; font-style: italic; font-size: 0.9rem;">50 min | Dumbbells, band, stepper platform, yoga block</p>
 </div>
 <span class="exercise-day-arrow">&#9660;</span>
 </div>
 <div class="exercise-day-content">
 <div style="background: #fff; padding: 16px; margin-bottom: 12px; border: 1px solid #d4b5ba;">
 <h4 style="color: #3d2f31; margin-bottom: 10px; font-size: 1.05rem;">Myofascial Release (6 min)</h4>
 <ul style="color: #3d2f31; line-height: 1.8; padding-left: 20px;">
 <li><strong>Glute/piriformis with ball</strong> — Sit on ball, cross ankle over knee. <em>2 min each side</em></li>
 <li><strong>Hip flexor/TFL foam rolling</strong> — Side-lying, roller at hip. <em>90 sec each side</em></li>
 </ul>
 </div>

 <div style="background: #fff; padding: 16px; margin-bottom: 12px; border: 1px solid #d4b5ba;">
 <h4 style="color: #3d2f31; margin-bottom: 10px; font-size: 1.05rem;">Hip Mobility (6 min)</h4>
 <ul style="color: #3d2f31; line-height: 1.8; padding-left: 20px;">
 <li><strong>Kneeling hip flexor stretch</strong> — Tuck pelvis, lean forward. <em>30 sec × 2 each side</em></li>
 <li><strong>90-90 hip transitions</strong> — Flow between rotations. <em>8 transitions</em></li>
 <li><strong>Frog stretch</strong> — Knees wide, rock hips back. <em>60 seconds</em></li>
 </ul>
 </div>

 <div style="background: #fff; padding: 16px; margin-bottom: 12px; border: 1px solid #d4b5ba;">
 <h4 style="color: #3d2f31; margin-bottom: 10px; font-size: 1.05rem;">Strength Circuit (22 min) — 3 rounds, 60 sec rest</h4>
 <ol style="color: #3d2f31; line-height: 1.8; padding-left: 20px;">
 <li><strong>Glute bridges</strong> — Drive through heels, squeeze at top. <em>15 reps</em></li>
 <li><strong>Clamshells with band</strong> — Band above knees, open top knee. <em>15 reps each side</em></li>
 <li><strong>Wall sit</strong> — Feet flat, no toe push. <em>Hold 30-45 seconds</em></li>
 <li><strong>Side-lying hip abduction</strong> — Lift and lower with control. <em>12 reps each side</em></li>
 <li><strong>Step-up (heel emphasis)</strong> — Push through heel, not toes. <em>10 each leg</em></li>
 <li><strong>Romanian deadlift</strong> — Light weight, hinge at hips. <em>10 reps</em></li>
 </ol>
 </div>

 <div style="background: #fff; padding: 16px; margin-bottom: 12px; border: 1px solid #d4b5ba;">
 <h4 style="color: #3d2f31; margin-bottom: 10px; font-size: 1.05rem;">Scoliosis-Specific Hip Work (5 min)</h4>
 <ul style="color: #3d2f31; line-height: 1.8; padding-left: 20px;">
 <li><strong>Single-leg bridge</strong> — Keep pelvis level, hold 3 sec at top. <em>8 reps each side</em></li>
 <li><strong>Side plank hip dips (from knee)</strong> — Lower and lift hip. <em>8 reps each side</em></li>
 </ul>
 </div>

 <div style="background: #f5f0ed; padding: 12px; border-left: 3px solid #b59197;">
 <p style="color: #3d2f31; margin: 0;"><strong>Cool-down (3 min):</strong> Modified pigeon (block under hip, 60 sec each side), supine twist (30 sec each side), partial hang (45 sec)</p>
 </div>
 </div>
 </div>

 <!-- FRIDAY -->
 <div class="exercise-day">
 <div class="exercise-day-header" onclick="this.parentElement.classList.toggle('active')">
 <div>
 <h3 class="exercise-day-title">FRIDAY: Rest or Gentle Walking</h3>
 <p style="color: #7a6668; margin: 4px 0 0 0; font-style: italic; font-size: 0.9rem;">Rest day or 20-30 min walk</p>
 </div>
 <span class="exercise-day-arrow">&#9660;</span>
 </div>
 <div class="exercise-day-content">
 <p style="color: #3d2f31; margin-bottom: 12px;">Complete rest day OR optional 20-30 minute comfortable treadmill walk with minimal incline.</p>
 <div style="background: #fff; padding: 16px; border: 1px solid #d4b5ba;">
 <p style="color: #3d2f31; margin-bottom: 10px;"><strong>If walking:</strong> Wear supportive shoes with rocker soles. Keep pace conversational.</p>
 <p style="color: #3d2f31; margin-bottom: 0;"><strong>Optional pain-relief:</strong> Heat on tight areas, 5 min diaphragmatic breathing, gentle chin tucks (10 reps)</p>
 </div>
 </div>
 </div>

 <!-- SATURDAY -->
 <div class="exercise-day">
 <div class="exercise-day-header" onclick="this.parentElement.classList.toggle('active')">
 <div>
 <h3 class="exercise-day-title">SATURDAY: Full Body Calisthenics + Cardio</h3>
 <p style="color: #7a6668; margin: 4px 0 0 0; font-style: italic; font-size: 0.9rem;">50 min | Parallel bars, band, dumbbells, treadmill</p>
 </div>
 <span class="exercise-day-arrow">&#9660;</span>
 </div>
 <div class="exercise-day-content">
 <div style="background: #fff; padding: 16px; margin-bottom: 12px; border: 1px solid #d4b5ba;">
 <h4 style="color: #3d2f31; margin-bottom: 10px; font-size: 1.05rem;">Low-Impact Cardio (12 min)</h4>
 <p style="color: #3d2f31; margin: 0;">Choose one: Treadmill incline walk (3-5%, moderate pace) • Cycling • Rebounder gentle bounce (keep feet flat)</p>
 </div>

 <div style="background: #fff; padding: 16px; margin-bottom: 12px; border: 1px solid #d4b5ba;">
 <h4 style="color: #3d2f31; margin-bottom: 10px; font-size: 1.05rem;">Calisthenics Circuit (22 min) — 4 rounds, 45 sec rest</h4>
 <ol style="color: #3d2f31; line-height: 1.8; padding-left: 20px;">
 <li><strong>Supported squat</strong> — Hold bars for balance, drive through heels. <em>12 reps</em></li>
 <li><strong>Incline push-up on bars</strong> — Feet on floor, lower chest to bar level. <em>10 reps</em></li>
 <li><strong>Bent-over reverse fly</strong> — Light dumbbells, fly arms out. <em>12 reps</em></li>
 <li><strong>Pallof press (anti-rotation)</strong> — Band at chest height, resist rotation. <em>10 reps each side</em></li>
 <li><strong>Single-leg Romanian deadlift</strong> — Light dumbbell, hinge on one leg. <em>8 each side</em></li>
 <li><strong>Supported dips (partial)</strong> — Lower 1/4 depth OR tricep dips on platform. <em>8 reps</em></li>
 </ol>
 </div>

 <div style="background: #fff; padding: 16px; margin-bottom: 12px; border: 1px solid #d4b5ba;">
 <h4 style="color: #3d2f31; margin-bottom: 10px; font-size: 1.05rem;">Core Finisher (5 min)</h4>
 <ul style="color: #3d2f31; line-height: 1.8; padding-left: 20px;">
 <li><strong>Plank</strong> — From forearms, modify from knees if needed. <em>30-45 sec × 2</em></li>
 <li><strong>Dead bug</strong> — Slow, controlled. <em>10 each side</em></li>
 <li><strong>Side plank holds</strong> — <em>20 seconds each side</em></li>
 </ul>
 </div>

 <div style="background: #f5f0ed; padding: 12px; border-left: 3px solid #b59197;">
 <p style="color: #3d2f31; margin: 0;"><strong>Cool-down (3 min):</strong> Standing forward fold (soft knees), chest opener against wall, neck stretches</p>
 </div>
 </div>
 </div>

 <!-- SUNDAY -->
 <div class="exercise-day">
 <div class="exercise-day-header" onclick="this.parentElement.classList.toggle('active')">
 <div>
 <h3 class="exercise-day-title">SUNDAY: Deep Mobility + Myofascial Release</h3>
 <p style="color: #7a6668; margin: 4px 0 0 0; font-style: italic; font-size: 0.9rem;">40 min | Foam roller, ball, yoga blocks, band | 2 min per area</p>
 </div>
 <span class="exercise-day-arrow">&#9660;</span>
 </div>
 <div class="exercise-day-content">
 <div style="background: #fff; padding: 16px; margin-bottom: 12px; border: 1px solid #d4b5ba;">
 <h4 style="color: #3d2f31; margin-bottom: 10px; font-size: 1.05rem;">Full-Body Myofascial Release (20 min)</h4>
 <p style="color: #3d2f31; margin-bottom: 12px;"><strong>Neck/Upper Back:</strong></p>
 <ul style="color: #3d2f31; line-height: 1.8; padding-left: 20px; margin-bottom: 12px;">
 <li>Suboccipital release — 2 balls at skull base, gentle nod "yes" and "no" • <em>2 min</em></li>
 <li>Upper trap/levator release — Ball against wall • <em>2 min each side</em></li>
 <li>Thoracic spine rolling — Roller mid-back, arms crossed, gentle extensions • <em>3 min</em></li>
 </ul>
 
 <p style="color: #3d2f31; margin-bottom: 12px;"><strong>Shoulders/Chest:</strong></p>
 <ul style="color: #3d2f31; line-height: 1.8; padding-left: 20px; margin-bottom: 12px;">
 <li>Pec minor release — Ball below collarbone • <em>90 sec each side</em></li>
 <li>Lat release — Side-lying on roller • <em>90 sec each side</em></li>
 </ul>
 
 <p style="color: #3d2f31; margin-bottom: 12px;"><strong>Lower Back/Hips:</strong> (Never roll directly on lumbar spine)</p>
 <ul style="color: #3d2f31; line-height: 1.8; padding-left: 20px;">
 <li>Glute max release — Sit on roller, lean to side • <em>2 min each side</em></li>
 <li>Piriformis with ball — Seated, ankle crossed over knee • <em>2 min each side</em></li>
 <li>TFL/IT band — Side-lying, hip to above knee • <em>90 sec each side</em></li>
 <li>Hip flexor release — Prone, ball below hip crease • <em>90 sec each side</em></li>
 </ul>
 </div>

 <div style="background: #fff; padding: 16px; margin-bottom: 12px; border: 1px solid #d4b5ba;">
 <h4 style="color: #3d2f31; margin-bottom: 10px; font-size: 1.05rem;">Mobility Flow (15 min)</h4>
 <p style="color: #3d2f31; margin-bottom: 8px;"><strong>Thoracic:</strong> Open book (8 each side) • Foam roller extension (10 reps) • Cat-cow (10 cycles)</p>
 <p style="color: #3d2f31; margin-bottom: 8px;"><strong>Hip:</strong> World's greatest stretch modified (5 each side) • Frog pose (60 sec) • Pigeon supported (60 sec each side)</p>
 <p style="color: #3d2f31; margin: 0;"><strong>Spinal Decompression:</strong> Child's pose with reach (30 sec each side) • Dead hang partial (2 × 30 sec)</p>
 </div>

 <div style="background: #f5f0ed; padding: 12px; border-left: 3px solid #b59197;">
 <p style="color: #3d2f31; margin: 0;"><strong>Closing (5 min):</strong> Supine twist (60 sec each side), happy baby (60 sec), legs up wall (2 min), 10 diaphragmatic breaths</p>
 </div>
 </div>
 </div>

 <!-- FLARE DAY PROTOCOL -->
 <div class="exercise-day">
 <div class="exercise-day-header" onclick="this.parentElement.classList.toggle('active')">
 <div>
 <h3 class="exercise-day-title">Pain Flare Day Protocol</h3>
 <p style="color: #7a6668; margin: 4px 0 0 0; font-style: italic; font-size: 0.9rem;">20 min | When pain increases</p>
 </div>
 <span class="exercise-day-arrow">&#9660;</span>
 </div>
 <div class="exercise-day-content">
 <div style="background: #fff; padding: 16px; border: 1px solid #d4b5ba;">
 <ol style="color: #3d2f31; line-height: 2; padding-left: 20px;">
 <li>Heat application — 10 min on most painful area</li>
 <li>Diaphragmatic breathing — 3 minutes</li>
 <li>Gentle cat-cow — 10 very slow cycles</li>
 <li>Supine twist — 60 sec each side</li>
 <li>Targeted myofascial release — 3-4 min on most painful area</li>
 <li>Legs up wall — 5 minutes</li>
 <li>Ice application — 10 min post-movement if inflammation present</li>
 </ol>
 <p style="color: #3d2f31; margin-top: 12px; font-weight: 600;">Skip strength entirely. Return to normal programming when pain returns to baseline (24-48 hours).</p>
 </div>
 </div>
 </div>

 <!-- EXERCISES TO AVOID -->
 <div class="exercise-day">
 <div class="exercise-day-header" onclick="this.parentElement.classList.toggle('active')">
 <div>
 <h3 class="exercise-day-title">Exercises to Strictly Avoid</h3>
 <p style="color: #7a6668; margin: 4px 0 0 0; font-style: italic; font-size: 0.9rem;">Scoliosis & toe arthritis contraindications</p>
 </div>
 <span class="exercise-day-arrow">&#9660;</span>
 </div>
 <div class="exercise-day-content">
 <div style="background: #fff; padding: 16px; border: 1px solid #d4b5ba;">
 <p style="color: #3d2f31; margin-bottom: 12px;"><strong>Scoliosis Contraindications:</strong></p>
 <ul style="color: #3d2f31; line-height: 1.8; padding-left: 20px; margin-bottom: 16px;">
 <li>Heavy axial loading (back squats, heavy overhead press)</li>
 <li>Russian twists or loaded rotation</li>
 <li>Deep backbends/hyperextension</li>
 <li>Traditional sit-ups/crunches</li>
 <li>Inversion tables (without medical guidance)</li>
 </ul>
 
 <p style="color: #3d2f31; margin-bottom: 12px;"><strong>Toe Arthritis Contraindications:</strong></p>
 <ul style="color: #3d2f31; line-height: 1.8; padding-left: 20px;">
 <li>Traditional calf raises (pushing through toes)</li>
 <li>Deep lunges (excessive toe flexion)</li>
 <li>Jumping/plyometrics</li>
 <li>Running</li>
 <li>Downward dog with full toe dorsiflexion</li>
 </ul>
 </div>
 </div>
 </div>

 <!-- PROGRESSION TIMELINE -->
 <div class="exercise-day">
 <div class="exercise-day-header" onclick="this.parentElement.classList.toggle('active')">
 <div>
 <h3 class="exercise-day-title">Progression Over 12 Weeks</h3>
 <p style="color: #7a6668; margin: 4px 0 0 0; font-style: italic; font-size: 0.9rem;">How to progress safely</p>
 </div>
 <span class="exercise-day-arrow">&#9660;</span>
 </div>
 <div class="exercise-day-content">
 <div style="background: #fff; padding: 16px; border: 1px solid #d4b5ba;">
 <p style="color: #3d2f31; margin-bottom: 12px;"><strong>Weeks 1-4 (Foundation):</strong> Perfect form, lightest weights, 2 sets, 20-30 sec holds</p>
 <p style="color: #3d2f31; margin-bottom: 12px;"><strong>Weeks 5-8 (Building):</strong> 30-45 sec holds, add resistance bands, 3 sets, +2-3 lbs dumbbells</p>
 <p style="color: #3d2f31; margin: 0;"><strong>Weeks 9-12 (Strengthening):</strong> 45-60 sec holds, single-leg variations, full side planks, tempo work (3-4 sec eccentrics)</p>
 </div>
 </div>
 </div>

 <div id="exercise-items"></div>
 <button class="add-resource-btn" onclick="showAddResourceForm('exercise')">+ Add Resource</button>
 </div>
 </div>

 <div class="resource-category">
 <div class="resource-header" onclick="toggleResource(event, 'meals')">
 <span class="resource-name">Healthy Meals</span>
 <span class="resource-arrow">&#9660;</span>
 </div>
 <div class="resource-content" id="meals-content">
 <!-- Chocolate Banana Smoothie Recipe -->
 <div style="background: #EBE0D6; padding: 12px; border-left: 3px solid #b59197; margin-bottom: 16px;">
 <div style="display: flex; justify-content: space-between; align-items: center; cursor: pointer; padding: 4px 0;" onclick="var c=document.getElementById('smoothie-details');c.classList.toggle('open');this.querySelector('.toggle-arrow').classList.toggle('open');">
 <h3 style="color: #3d2f31; margin: 0; font-size: 1.1rem;">Chocolate Banana Smoothie Recipe</h3>
 <span class="toggle-arrow" style="color:#b59197;font-size:0.8rem;transition:transform 0.2s;">▶</span>
 </div>
 <p style="color: #7a6668; margin: 4px 0 0 0; font-style: italic; font-size: 0.85rem;">~322 cal, ~43g protein — after workout</p>
 <div class="resource-video-wrapper" id="smoothie-details">
 <div style="margin-top: 12px;">
 <div style="background: #fff; padding: 16px; margin-bottom: 16px; border: 1px solid #d4b5ba;">
 <h4 style="color: #b59197; margin-bottom: 12px;">Ingredients:</h4>
 <table style="width: 100%; color: #3d2f31; font-size: 0.95rem;">
 <tr><td style="padding: 4px 0;">Unsweetened almond milk</td><td style="text-align: right;">1 cup (30 cal, 1g protein)</td></tr>
 <tr><td style="padding: 4px 0;">Unsweetened cacao powder</td><td style="text-align: right;">1.5 tbsp (18 cal, 1g protein)</td></tr>
 <tr><td style="padding: 4px 0;">ON Gold Standard Banana Cream whey</td><td style="text-align: right;">1 scoop (120 cal, 24g protein)</td></tr>
 <tr><td style="padding: 4px 0;">Vital Proteins chocolate collagen</td><td style="text-align: right;">~1/2 scoop (42 cal, 11g protein)</td></tr>
 <tr><td style="padding: 4px 0;">L-glutamine</td><td style="text-align: right;">5g (20 cal, 5g protein)</td></tr>
 <tr><td style="padding: 4px 0;">Nature's Way MCT oil</td><td style="text-align: right;">1 tsp (45 cal, 0g protein)</td></tr>
 <tr><td style="padding: 4px 0;">Frozen spinach (optional)</td><td style="text-align: right;">1 cup (7 cal, 1g protein)</td></tr>
 <tr><td style="padding: 4px 0;">Frozen blueberries (optional)</td><td style="text-align: right;">1/2 cup (40 cal, 0g protein)</td></tr>
 <tr style="border-top: 2px solid #b59197;"><td style="padding: 8px 0;"><strong>TOTAL:</strong></td><td style="text-align: right;"><strong>~322 cal, ~43g protein</strong></td></tr>
 </table>
 </div>

 <div style="background: #fff; padding: 16px; margin-bottom: 16px; border: 1px solid #d4b5ba;">
 <h4 style="color: #b59197; margin-bottom: 12px;">Instructions:</h4>
 <ol style="color: #3d2f31; line-height: 1.8; padding-left: 20px;">
 <li>Add almond milk + cacao powder to blender first</li>
 <li>Then add: protein, collagen, L-glutamine, MCT oil</li>
 <li>Add frozen spinach and blueberries last</li>
 <li>Blend 45–60 seconds</li>
 <li>Take your pills with the first few sips</li>
 </ol>
 </div>

 <div style="background: #fff; padding: 16px; margin-bottom: 16px; border: 1px solid #d4b5ba;">
 <h4 style="color: #b59197; margin-bottom: 12px;">Pills to Take WITH Smoothie (need the fat):</h4>
 <ul style="color: #3d2f31; line-height: 1.8; list-style-type: none; padding-left: 0;">
 <li> Thorne Basic Nutrients 2/Day (1 cap)</li>
 <li> Sports Research Omega-3 (1-2 softgels)</li>
 <li> Jarrow QH-Absorb CoQ10 200mg (1 softgel)</li>
 <li> Nutricost Riboflavin 400mg (1 cap)</li>
 </ul>
 </div>

 <div style="background: #f5f0ed; padding: 12px;">
 <p style="color: #3d2f31; margin: 0;"><strong>Remember:</strong> Creatine is SEPARATE — mix your flavored creatine (5g) in water at 10 AM before leaving. No banana needed — Banana Cream protein handles the flavor. This is your only caffeine for the day (~15–20mg from cacao).</p>
 </div>
 </div>
 </div>
 </div>
 <div id="meals-items"></div>
 <button class="add-resource-btn" onclick="showAddResourceForm('meals')">+ Add Resource</button>
 </div>
 </div>

 <div class="resource-category">
 <div class="resource-header" onclick="toggleResource(event, 'read')">
 <span class="resource-name">Read</span>
 <span class="resource-arrow">&#9660;</span>
 </div>
 <div class="resource-content" id="read-content">
 <div id="read-items"></div>
 <button class="add-resource-btn" onclick="showAddResourceForm('read')">+ Add Resource</button>
 </div>
 </div>

 <div class="resource-category">
 <div class="resource-header" onclick="toggleResource(event, 'walk')">
 <span class="resource-name">Walk / Podcasts</span>
 <span class="resource-arrow">&#9660;</span>
 </div>
 <div class="resource-content" id="walk-content">
 <div id="walk-items"></div>
 <button class="add-resource-btn" onclick="showAddResourceForm('walk')">+ Add Resource</button>
 </div>
 </div>

 <div class="resource-category">
 <div class="resource-header" onclick="toggleResource(event, 'tapping')">
 <span class="resource-name">EFT Tapping</span>
 <span class="resource-arrow">&#9660;</span>
 </div>
 <div class="resource-content" id="tapping-content">
 <div id="tapping-items"></div>
 <button class="add-resource-btn" onclick="showAddResourceForm('tapping')">+ Add Resource</button>
 </div>
 </div>

 <div class="resource-category">
 <div class="resource-header" onclick="toggleResource(event, 'altar')">
 <span class="resource-name">Altar Time</span>
 <span class="resource-arrow">&#9660;</span>
 </div>
 <div class="resource-content" id="altar-content">
 <!-- Complete Altar Time Guide -->
 <div style="background: #EBE0D6; padding: 20px; border-left: 3px solid #b59197; margin-bottom: 16px;">
 <h3 style="color: #3d2f31; margin-bottom: 16px; font-size: 1.1rem;">Your 20-Minute Morning Sacred Ritual (8:30 AM)</h3>
 <p style="color: #3d2f31; margin-bottom: 20px; font-style: italic;">This is your grounding ritual. The order matters — breathwork calms the nervous system first, tapping clears emotional blocks, journaling sets your intention.</p>
 
 <!-- Step 1: Cyclic Sighing -->
 <div style="background: #fff; padding: 16px; margin-bottom: 16px; border: 1px solid #d4b5ba;">
 <h4 style="color: #b59197; margin-bottom: 12px; font-size: 1rem;">Step 1: Cyclic Sighing (5 min)</h4>
 <p style="color: #3d2f31; margin-bottom: 12px;">Sit comfortably at your altar. This breathing pattern activates the parasympathetic nervous system more effectively than box breathing. Stanford research showed it as the single most effective breathwork for mood improvement.</p>
 
 <div style="background: #f5f0ed; padding: 12px; margin-top: 12px;">
 <strong style="color: #3d2f31; display: block; margin-bottom: 8px;">How to Do It:</strong>
 <div style="color: #3d2f31; line-height: 1.8;">
 1. <strong>Inhale #1:</strong> Breathe in through your nose (fill lungs ~halfway)<br>
 2. <strong>Inhale #2:</strong> Without exhaling, take a second short inhale through nose (fill lungs completely)<br>
 3. <strong>Exhale:</strong> Long, slow exhale through your mouth (twice as long as the inhales combined)<br>
 4. <strong>Repeat:</strong> 5 minutes. No timer needed — just feel when you're settled.
 </div>
 </div>
 </div>

 <!-- Step 2: EFT Tapping -->
 <div style="background: #fff; padding: 16px; margin-bottom: 16px; border: 1px solid #d4b5ba;">
 <h4 style="color: #b59197; margin-bottom: 12px; font-size: 1rem;">Step 2: EFT Tapping (7-8 min)</h4>
 <p style="color: #3d2f31; margin-bottom: 12px;">Emotional Freedom Technique. Tap each point ~7 times while speaking your setup statement and reminder phrases.</p>
 
 <strong style="color: #3d2f31; display: block; margin-bottom: 8px;">Tapping Points (in order):</strong>
 <div style="background: #f5f0ed; padding: 12px; margin-bottom: 12px;">
 <table style="width: 100%; color: #3d2f31; font-size: 0.95rem;">
 <tr><td style="padding: 6px 0;"><strong>Karate chop</strong></td><td>Side of hand (pinky side) — Tap while saying full setup statement 3x</td></tr>
 <tr><td style="padding: 6px 0;"><strong>Top of head</strong></td><td>Crown — ~7 taps + reminder phrase</td></tr>
 <tr><td style="padding: 6px 0;"><strong>Eyebrow</strong></td><td>Inner edge of eyebrow — ~7 taps + reminder phrase</td></tr>
 <tr><td style="padding: 6px 0;"><strong>Side of eye</strong></td><td>Bone at outer corner — ~7 taps + reminder phrase</td></tr>
 <tr><td style="padding: 6px 0;"><strong>Under eye</strong></td><td>Bone under eye (center) — ~7 taps + reminder phrase</td></tr>
 <tr><td style="padding: 6px 0;"><strong>Under nose</strong></td><td>Between nose and upper lip — ~7 taps + reminder phrase</td></tr>
 <tr><td style="padding: 6px 0;"><strong>Chin</strong></td><td>Crease between lower lip and chin — ~7 taps + reminder phrase</td></tr>
 <tr><td style="padding: 6px 0;"><strong>Collarbone</strong></td><td>Just below collarbone, 1 inch from center — ~7 taps + reminder phrase</td></tr>
 <tr><td style="padding: 6px 0;"><strong>Under arm</strong></td><td>~4 inches below armpit — ~7 taps + reminder phrase</td></tr>
 </table>
 </div>

 <strong style="color: #3d2f31; display: block; margin-bottom: 8px;">Setup Statement Template:</strong>
 <p style="color: #3d2f31; font-style: italic; margin-bottom: 12px; background: #f5f0ed; padding: 12px;">
 "Even though I [feel/have/am struggling with ___], I deeply and completely accept myself."
 </p>

 <strong style="color: #3d2f31; display: block; margin-bottom: 8px;">Ideas for Daily Tapping Focus:</strong>
 <div style="background: #f5f0ed; padding: 12px;">
 <div style="color: #3d2f31; line-height: 1.8;">
 <strong>Overwhelmed / ADHD brain fog:</strong> "Even though my mind feels scattered, I choose to trust myself."<br>
 <strong>Pain / tension:</strong> "Even though my neck/shoulders hurt, I choose to release this tension."<br>
 <strong>Low motivation:</strong> "Even though I don't feel like doing anything, I accept where I am right now."<br>
 <strong>Self-doubt:</strong> "Even though I don't trust myself, I'm learning to."<br>
 <strong>Anxiety about the day:</strong> "Even though I'm anxious about today, I am safe and capable."<br>
 <strong>General morning check-in:</strong> "Even though I'm still waking up, I choose to show up for myself today."
 </div>
 </div>
 </div>

 <!-- Step 3: Journaling -->
 <div style="background: #fff; padding: 16px; border: 1px solid #d4b5ba;">
 <h4 style="color: #b59197; margin-bottom: 12px; font-size: 1rem;">Step 3: Journaling (5-7 min)</h4>
 <p style="color: #3d2f31; margin-bottom: 12px;">Keep a dedicated journal at your altar. Don't overthink it. Pick ONE prompt or free-write.</p>
 
 <strong style="color: #3d2f31; display: block; margin-bottom: 8px;">Rotating Daily Prompts:</strong>
 <div style="background: #f5f0ed; padding: 12px;">
 <table style="width: 100%; color: #3d2f31; font-size: 0.95rem;">
 <tr><td style="padding: 6px 0;"><strong>Monday:</strong></td><td>What am I building this week? What's one thing I want to accomplish?</td></tr>
 <tr><td style="padding: 6px 0;"><strong>Tuesday:</strong></td><td>What am I grateful for right now? (3 things, be specific)</td></tr>
 <tr><td style="padding: 6px 0;"><strong>Wednesday:</strong></td><td>What am I holding onto that I need to release?</td></tr>
 <tr><td style="padding: 6px 0;"><strong>Thursday:</strong></td><td>What does my highest self want me to know today?</td></tr>
 <tr><td style="padding: 6px 0;"><strong>Friday:</strong></td><td>What did I do well this week? Where did I show up for myself?</td></tr>
 <tr><td style="padding: 6px 0;"><strong>Saturday:</strong></td><td>Free write — whatever comes up. No rules.</td></tr>
 <tr><td style="padding: 6px 0;"><strong>Sunday:</strong></td><td>What do I need more of? Less of? What's one intention for next week?</td></tr>
 </table>
 </div>
 
 <p style="color: #7a6668; margin-top: 16px; font-style: italic; border-top: 1px solid #d4b5ba; padding-top: 16px;">
 <strong>PERMISSION:</strong> This is YOUR sacred time. Light a candle, pull a tarot card, say a prayer — whatever feels right. The structure above is a framework, not a cage. Some mornings you'll spend the whole 20 min journaling. Some mornings you'll spend it all tapping. Follow your intuition.
 </p>
 </div>
 </div>
 <div id="altar-items"></div>
 <button class="add-resource-btn" onclick="showAddResourceForm('altar')">+ Add Resource</button>
 </div>
 </div>
 </div>
 </div>

 <!-- VIDEOS TAB -->
 <div id="videos-tab" class="hub-tab">
 <div class="section">
 <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
 <div>
 <h2 class="section-title" style="margin-bottom: 2px;">Video Hub</h2>
 <div id="videoCount" style="font-size: 0.8rem; color: #7a6668;"></div>
 </div>
 <button class="add-event-btn" onclick="toggleVideoForm()" style="margin:0;">+ Add</button>
 </div>
 
 <div class="event-form" id="videoForm">
 <form onsubmit="event.preventDefault(); addVideo(event);">
 <div class="form-group">
 <label>Video Title</label>
 <input type="text" name="title" required>
 </div>
 <div class="form-group">
 <label>Upload Video from Phone</label>
 <input type="file" name="video" accept="video/*" id="videoFile" onchange="handleVideoUpload()">
 <div id="videoUploadStatus" style="margin-top: 6px; font-size: 0.82rem; color: #7ba886; display: none;"></div>
 <div style="text-align: center; color: #999; margin: 8px 0; font-size: 0.85rem;">&mdash; OR &mdash;</div>
 </div>
 <div class="form-group">
 <label>Video Link (TikTok, YouTube, etc)</label>
 <input type="url" name="link" id="videoLink">
 </div>
 <div class="form-group">
 <label>Tags (comma separated)</label>
 <input type="text" name="tags" placeholder="motivation, exercise, meditation">
 </div>
 <div class="form-actions">
 <button type="button" class="btn" onclick="toggleVideoForm()">Cancel</button>
 <button type="submit" class="btn" id="videoSaveBtn">Save Video</button>
 </div>
 </form>
 </div>

 <div id="videosList" class="video-grid">
 <div class="empty-state" style="grid-column: 1/-1;">No videos yet. Add your first motivational video!</div>
 </div>
 </div>
 </div>

 <!-- Video Detail Modal -->
 <div class="video-detail-modal" id="videoDetailModal" onclick="if(event.target===this)closeVideoDetail()">
 <div class="video-detail-header">
 <div class="video-detail-title" id="videoDetailTitle"></div>
 <button class="video-detail-close" onclick="closeVideoDetail()">×</button>
 </div>
 <div class="video-detail-body" id="videoDetailBody"></div>
 <div class="video-detail-footer">
 <div class="video-detail-tags" id="videoDetailTags"></div>
 <button class="video-detail-delete" id="videoDetailDelete">Delete</button>
 </div>
 </div>


 <!-- JOURNAL TAB -->
 <div id="journal-tab" class="hub-tab">
 <div class="journal-locked" id="journalLocked">
 <div class="journal-password-box">
 
 <div class="journal-password-title">My Private Journal</div>
 <div class="journal-password-subtitle">Enter password to unlock</div>
 <input type="password" id="journalPassword" class="journal-password-input" placeholder="Password" onkeypress="if(event.key==='Enter') unlockJournal()">
 <button class="journal-unlock-btn" onclick="unlockJournal()">Unlock</button>
 <div class="journal-error" id="journalError">Incorrect password. Try again.</div>
 </div>
 </div>

 <div class="todo-container" style="display: none;" id="journalContent">
 <div class="journal-header">
 <div class="journal-title">My Journal</div>
 <div class="journal-subtitle">A space for your thoughts <span class="journal-heart"></span></div>
 </div>

 <div class="journal-entry-form">
 <div class="journal-form-date" id="journalFormDate"></div>
 <textarea id="journalTextarea" class="journal-textarea" placeholder="Dear Journal,

What's on my mind today..."></textarea>
 <button class="journal-save-btn" onclick="saveJournalEntry()">Save Entry</button>
 </div>

 <div class="journal-entries" id="journalEntries">
 <div class="journal-empty">No entries yet. Start writing! <span class="journal-heart"></span></div>
 </div>
 </div>
 </div>

 <!-- SPELL BOOK TAB -->
 <div id="spellbook-tab" class="hub-tab">
 <div class="spellbook-header">
 <div class="spellbook-header-top">
 <div class="spellbook-title">Book of Shadows</div>
 <div id="moonBadge" class="spellbook-moon-badge"></div>
 </div>
 <div id="moonDetail" class="spellbook-moon-detail"></div>
 </div>
 <div style="text-align:center;margin:4px 0 18px;">
 <svg viewBox="0 0 200 16" width="200" height="16" fill="none" style="display:block;margin:0 auto;">
 <line x1="8" y1="8" x2="52" y2="8" stroke="#b5d4a4" stroke-width="0.5" opacity="0.4"/>
 <circle cx="62" cy="8" r="4" fill="none" stroke="#b5d4a4" stroke-width="0.6" opacity="0.4"/>
 <circle cx="76" cy="8" r="4" fill="none" stroke="#b5d4a4" stroke-width="0.6" opacity="0.4"/>
 <path d="M76,4 A4,4 0 0,1 76,12 A2.5,4 0 0,0 76,4" fill="#b5d4a4" opacity="0.5"/>
 <circle cx="90" cy="8" r="4" fill="none" stroke="#b5d4a4" stroke-width="0.6" opacity="0.4"/>
 <path d="M90,4 A4,4 0 0,1 90,12 L90,4 Z" fill="#b5d4a4" opacity="0.5"/>
 <circle cx="104" cy="8" r="4.5" fill="#b5d4a4" opacity="0.6"/>
 <circle cx="118" cy="8" r="4" fill="none" stroke="#b5d4a4" stroke-width="0.6" opacity="0.4"/>
 <path d="M118,4 A4,4 0 0,0 118,12 L118,4 Z" fill="#b5d4a4" opacity="0.5"/>
 <circle cx="132" cy="8" r="4" fill="none" stroke="#b5d4a4" stroke-width="0.6" opacity="0.4"/>
 <path d="M132,4 A4,4 0 0,0 132,12 A2.5,4 0 0,1 132,4" fill="#b5d4a4" opacity="0.5"/>
 <circle cx="146" cy="8" r="4" fill="none" stroke="#b5d4a4" stroke-width="0.6" opacity="0.4"/>
 <line x1="156" y1="8" x2="198" y2="8" stroke="#b5d4a4" stroke-width="0.5" opacity="0.4"/>
 </svg>
 </div>
 <div class="spellbook-categories" id="spellCategoryFilter">
 <button class="spell-cat-btn active" onclick="filterSpells('all')">All</button>
 <button class="spell-cat-btn" onclick="filterSpells('spell')">Spells</button>
 <button class="spell-cat-btn" onclick="filterSpells('ritual')">Rituals</button>
 <button class="spell-cat-btn" onclick="filterSpells('intention')">Intentions</button>
 <button class="spell-cat-btn" onclick="filterSpells('moon')">Moon Work</button>
 <button class="spell-cat-btn" onclick="filterSpells('tarot')">Tarot</button>
 <button class="spell-cat-btn" onclick="filterSpells('correspondence')">Correspondences</button>
 <button class="spell-cat-btn" onclick="filterSpells('dailypractice')" style="border-color:rgba(109,138,94,0.5);">Daily Practice</button>
 </div>
 <div class="spellbook-categories" id="corrSubFilter" style="display:none;margin-top:-8px;">
 <button class="spell-sub-btn active" onclick="filterCorrSub('all')">All</button>
 <button class="spell-sub-btn" onclick="filterCorrSub('herb')">Herbs</button>
 <button class="spell-sub-btn" onclick="filterCorrSub('crystal')">Crystals</button>
 <button class="spell-sub-btn" onclick="filterCorrSub('oil')">Oils</button>
 <button class="spell-sub-btn" onclick="filterCorrSub('incense')">Incense</button>
 <button class="spell-sub-btn" onclick="filterCorrSub('natural')">Natural Items</button>
 <button class="spell-sub-btn" onclick="filterCorrSub('color')">Colors</button>
 <button class="spell-sub-btn" onclick="filterCorrSub('element')">Elements</button>
 <button class="spell-sub-btn" onclick="filterCorrSub('day')">Days</button>
 <button class="spell-sub-btn" onclick="filterCorrSub('moon')">Moon Phases</button>
 </div>
 <input type="text" class="spell-search" id="spellSearch" placeholder="Search your spells..." oninput="renderSpells()">
 <div style="text-align:center;margin-bottom:24px;">
 <button onclick="openSpellForm()" style="background:#7a9b6a;color:#f2ebe0;border:none;padding:8px 20px;font-family:inherit;font-size:0.85rem;cursor:pointer;">Add New Entry</button>
 </div>
 <div id="spellList"></div>
 </div>

 <!-- Spell Form Modal -->
 <div class="spell-form-overlay" id="spellFormOverlay" onclick="if(event.target===this)closeSpellForm()">
 <div class="spell-form">
 <div class="spell-form-header">
 <h3>New Entry</h3>
 <button class="spell-form-close" onclick="closeSpellForm()">&times;</button>
 </div>
 <div class="spell-form-body">
 <label>Title</label>
 <input type="text" id="spellTitle" placeholder="Name of spell, ritual, or intention">
 <label>Category</label>
 <select id="spellCategory">
 <option value="spell">Spell</option>
 <option value="ritual">Ritual</option>
 <option value="intention">Intention</option>
 <option value="moon">Moon Work</option>
 <option value="tarot">Tarot</option>
 <option value="correspondence">Correspondence</option>
 </select>
 <label>Intention / Purpose</label>
 <textarea id="spellIntent" placeholder="What is this for? What energy are you calling in?"></textarea>
 <label>Materials / Ingredients</label>
 <textarea id="spellMaterials" placeholder="Candles, herbs, crystals, tools..."></textarea>
 <label>Steps / Description</label>
 <textarea id="spellSteps" placeholder="How to perform it, what to say, what to visualize..." style="min-height:100px;"></textarea>
 <label>Notes</label>
 <textarea id="spellNotes" placeholder="Moon phase, timing, results, reflections..."></textarea>
 </div>
 <div class="spell-form-footer">
 <button class="spell-cancel" onclick="closeSpellForm()">Cancel</button>
 <button class="spell-save" onclick="saveSpell()">Save</button>
 </div>
 </div>
 </div>

 <!-- PROMPT TAB -->
 <div id="prompt-tab" class="hub-tab">
 <div class="section">
 <h2 class="section-title">Today's Prompt</h2>
 
 <div class="prompt-question">
 <div class="prompt-label">Question of the Day</div>
 <div class="prompt-text" id="promptQuestionHub"></div>
 </div>

 <div id="currentAnswerBox" style="display: none; margin-bottom: 20px;">
 <div class="answer-box">
 <div class="answer-person">Your Current Answer</div>
 <div class="answer-text" id="currentAnswer"></div>
 </div>
 </div>

 <button class="add-event-btn" id="promptAnswerToggle" onclick="document.getElementById('promptAnswerForm').style.display='block';this.style.display='none';" style="margin-bottom: 16px;">Write Your Answer</button>

 <div id="promptAnswerForm" style="display:none; background:#3d2f31; padding:20px; margin-bottom:20px;">
 <form onsubmit="window.saveAnswer(event)">
 <div class="form-group">
 <label id="answerLabel">Your Answer</label>
 <textarea name="answer" rows="6" required id="answerInput"></textarea>
 </div>
 <div style="display:flex; gap:10px; justify-content:flex-end; margin-top:12px;">
 <button type="button" class="btn" style="border:1px solid #b59197; color:#b59197; background:transparent; padding:8px 16px; cursor:pointer; font-family:inherit;" onclick="document.getElementById('promptAnswerForm').style.display='none';document.getElementById('promptAnswerToggle').style.display='';">Cancel</button>
 <button type="submit" class="btn" style="border:1px solid #b59197; color:#b59197; background:transparent; padding:8px 16px; cursor:pointer; font-family:inherit;">Save Answer</button>
 </div>
 </form>
 </div>
 </div>
 </div>
 </div>

 <!-- Routine Editor Modal -->
 <div class="routine-editor-overlay" id="routineEditorOverlay" onclick="if(event.target===this)closeRoutineEditor()">
 <div class="routine-editor">
 <div class="routine-editor-header">
 <h2>Edit Routine</h2>
 <button class="routine-editor-close" onclick="closeRoutineEditor()">&times;</button>
 </div>
 <div class="routine-editor-body" id="routineEditorBody"></div>
 <div class="routine-editor-footer">
 <button class="re-cancel" onclick="resetRoutineToDefaults()" style="margin-right:auto;font-size:0.78rem;padding:6px 12px;">Reset Defaults</button>
 <button class="re-cancel" onclick="closeRoutineEditor()">Cancel</button>
 <button class="re-save" onclick="saveRoutineEdits()">Save Changes</button>
 </div>
 </div>
 </div>

 <div class="celebration" id="celebration">
 <h2>BINGO!</h2>
 <p>Amazing work! You got 4 in a row!</p>
 <button class="btn" onclick="closeCelebration()">Continue</button>
 </div>

 <!-- Habits Editor Modal -->
 <div class="habits-modal-overlay" id="habitsModalOverlay" onclick="closeHabitsEditor(event)">
 <div class="habits-modal" onclick="event.stopPropagation()">
 <div class="habits-modal-header">
 <div class="habits-modal-title">Edit My Habits</div>
 <button class="habits-modal-close" onclick="closeHabitsEditor()">&times;</button>
 </div>
 <div class="habit-count" id="habitCount">20 habits (16 shown on bingo card)</div>
 <div class="habits-list" id="habitsList"></div>
 <div class="add-habit-row">
 <input type="text" id="newHabitInput" placeholder="Add new habit..." onkeypress="if(event.key==='Enter') addNewHabit()">
 <button class="add-habit-btn" onclick="addNewHabit()">+</button>
 </div>
 <div class="habits-modal-actions">
 <button class="habits-cancel-btn" onclick="closeHabitsEditor()">Cancel</button>
 <button class="habits-save-btn" onclick="saveHabitsChanges()">Save Changes</button>
 </div>
 </div>
 </div>

 <script>
 const defaultKaseyHabits = [
 "Drink 8 Glasses of Water",
 "Exercise 30+ Minutes",
 "Eat a Healthy Meal",
 "Read 10+ Pages",
 "Meditate",
 "Subliminals & Rampages",
 "Journal",
 "Walk 8k Steps",
 "Stretch",
 "Vibration Plate",
 "Take Vitamins & Supplements",
 "Morning Routine",
 "Evening Routine",
 "Do Laundry",
 "Altar Time",
 "Tidy Living Space",
 "Dry Brushing & Face Massage",
 "EFT Tapping",
 "Spend Time Outside",
 "No Social Media in the Morning"
 ];

 let kaseyHabits = [...defaultKaseyHabits];
 let editingHabits = [];

 // Load custom habits from localStorage
 function loadCustomHabits() {
 // Load from localStorage first (instant)
 const saved = localStorage.getItem('kaseyCustomHabits');
 if (saved) {
 const parsed = JSON.parse(saved);
 if (parsed && parsed.length >= 16) {
 kaseyHabits = parsed;
 }
 }
 // Sync from Firebase in background (non-blocking)
 loadFromFirebase('kaseyCustomHabits').then(firebaseData => {
 if (firebaseData && firebaseData.length >= 16) {
 kaseyHabits = firebaseData;
 localStorage.setItem('kaseyCustomHabits', JSON.stringify(kaseyHabits));
 } else if (saved) {
 syncToFirebase('kaseyCustomHabits', kaseyHabits);
 }
 });
 }

 // Habits Editor Functions
 function openHabitsEditor() {
 editingHabits = [...kaseyHabits];
 renderHabitsList();
 document.getElementById('habitsModalOverlay').classList.add('visible');
 }

 function closeHabitsEditor(event) {
 if (event && event.target !== event.currentTarget) return;
 document.getElementById('habitsModalOverlay').classList.remove('visible');
 }

 function renderHabitsList() {
 const list = document.getElementById('habitsList');
 document.getElementById('habitCount').textContent = `${editingHabits.length} habits (16 shown on bingo card)`;
 
 list.innerHTML = editingHabits.map((habit, index) => `
 <div class="habit-item">
 <input type="text" value="${habit}" onchange="updateHabit(${index}, this.value)">
 <button class="habit-delete" onclick="deleteHabit(${index})">×</button>
 </div>
 `).join('');
 }

 function updateHabit(index, value) {
 editingHabits[index] = value.trim();
 }

 function deleteHabit(index) {
 if (editingHabits.length <= 16) {
 alert('You need at least 16 habits for the bingo card!');
 return;
 }
 editingHabits.splice(index, 1);
 renderHabitsList();
 }

 function addNewHabit() {
 const input = document.getElementById('newHabitInput');
 const value = input.value.trim();
 if (!value) return;
 
 editingHabits.push(value);
 input.value = '';
 renderHabitsList();
 }

 function saveHabitsChanges() {
 editingHabits = editingHabits.filter(h => h.trim() !== '');
 
 if (editingHabits.length < 16) {
 alert('You need at least 16 habits for the bingo card!');
 return;
 }
 
 kaseyHabits = [...editingHabits];
 localStorage.setItem('kaseyCustomHabits', JSON.stringify(kaseyHabits));
 syncToFirebase('kaseyCustomHabits', kaseyHabits);
 shuffleBoard();
 closeHabitsEditor();
 }

 const dailyPrompts = [
 "What's one thing I did today that made you smile?",
 "What's your favorite memory of us from this past month?",
 "What's one way I can support you better this week?",
 "What's something you're grateful for about our relationship?",
 "What's a goal you have for us as a couple?",
 "What's one thing you admire about me?",
 "What's your favorite thing we do together?",
 "What's something new you'd like to try together?",
 "What's a challenge we've overcome together that you're proud of?",
 "What makes you feel most loved by me?",
 "What's something you've learned about yourself through our relationship?",
 "What's a small gesture I do that means a lot to you?",
 "What's your favorite quality about our relationship?",
 "What's something you're excited about for our future?",
 "What's one way we've grown together recently?",
 "What's a tradition you'd like to start with us?",
 "What's something I do that makes you laugh?",
 "What's your favorite way to spend quality time together?",
 "What's something you want to accomplish together this year?",
 "What's one thing about our relationship that makes you feel secure?",
 "What's a moment when you felt really connected to me?",
 "What's something you appreciate about how we handle disagreements?",
 "What's your favorite inside joke or moment between us?",
 "What's one way our relationship has changed you for the better?",
 "What's something you'd like more of in our relationship?",
 "What's a compliment you wish you heard more often?",
 "What's your favorite physical gesture of affection from me?",
 "What's something I do that helps you feel understood?",
 "What's a dream you have for us that we haven't talked about yet?",
 "What's one thing that always brightens your day when I do it?"
 ];

 const defaultResources = {
 meditate: [
 { title: 'Insight Timer', link: 'https://insighttimer.com', note: 'Free guided meditations. Huge library.' },
 { title: 'Headspace', link: 'https://www.headspace.com', note: '10-min daily meditations. Great for beginners.' }
 ],
 exercise: [
 { title: 'Yoga with Adriene', link: 'https://www.youtube.com/@yogawithadriene', note: '30-day programs, all levels.' },
 { title: 'Rebounder Workouts', link: 'https://www.youtube.com/results?search_query=rebounder+workout', note: 'Low impact cardio, fun!' }
 ],
 meals: [
 { title: 'Budget Bytes', link: 'https://www.budgetbytes.com', note: 'Easy, affordable, healthy recipes.' }
 ],
 read: [
 { title: 'Atomic Habits by James Clear', link: null, note: 'THE book for building habits.' },
 { title: 'The Mountain Is You by Brianna Wiest', link: null, note: 'About self-sabotage and growth.' }
 ],
 walk: [
 { title: 'Unlocking Us - Bren&eacute; Brown', link: null, note: 'Podcast about vulnerability and courage.' }
 ],
 tapping: [
 { title: 'Brad Yates YouTube', link: 'https://www.youtube.com/@BradYates', note: 'Huge free library of tapping videos.' }
 ],
 altar: [
 { title: 'Daily tarot pull', link: null, note: 'One card. "What do I need to know today?"' },
 { title: 'New moon intentions', link: null, note: 'Write intentions, place on altar with crystals.' }
 ]
 };

 let boardState = [];
 let currentHabits = [];
 let videos = [];
 let resources = {};
 let todos = [];
 let pendingResourceFile = null;
 let pendingResourceBlob = null;
 let pendingVideoFile = null;
 let pendingVideoBlob = null; // Raw blob for IndexedDB storage

 // ===== IndexedDB Video Storage =====
 const VIDEODB_NAME = 'kaseyVideoHub';
 const VIDEODB_VERSION = 1;
 const VIDEODB_STORE = 'videoFiles';

 function openVideoDB() {
   return new Promise((resolve, reject) => {
     const request = indexedDB.open(VIDEODB_NAME, VIDEODB_VERSION);
     request.onupgradeneeded = (e) => {
       const db = e.target.result;
       if (!db.objectStoreNames.contains(VIDEODB_STORE)) {
         db.createObjectStore(VIDEODB_STORE, { keyPath: 'id' });
       }
     };
     request.onsuccess = () => resolve(request.result);
     request.onerror = () => reject(request.error);
   });
 }

 async function saveVideoBlob(id, blob, type, name) {
   const db = await openVideoDB();
   return new Promise((resolve, reject) => {
     const tx = db.transaction(VIDEODB_STORE, 'readwrite');
     tx.objectStore(VIDEODB_STORE).put({ id, blob, type, name });
     tx.oncomplete = () => resolve();
     tx.onerror = () => reject(tx.error);
   });
 }

 async function getVideoBlob(id) {
   const db = await openVideoDB();
   return new Promise((resolve, reject) => {
     const tx = db.transaction(VIDEODB_STORE, 'readonly');
     const req = tx.objectStore(VIDEODB_STORE).get(id);
     req.onsuccess = () => resolve(req.result || null);
     req.onerror = () => reject(req.error);
   });
 }

 async function deleteVideoBlob(id) {
   const db = await openVideoDB();
   return new Promise((resolve, reject) => {
     const tx = db.transaction(VIDEODB_STORE, 'readwrite');
     tx.objectStore(VIDEODB_STORE).delete(id);
     tx.oncomplete = () => resolve();
     tx.onerror = () => reject(tx.error);
   });
 }
 // ===== End IndexedDB =====

 // ===== Firebase Storage (Cloud file uploads) =====
 async function uploadToFirebaseStorage(blob, path) {
 if (!window.firebaseReady || !window.firebaseStorage) return null;
 try {
 const { ref, uploadBytes, getDownloadURL } = window.firebaseStorageImports;
 const storageRef = ref(window.firebaseStorage, path);
 await uploadBytes(storageRef, blob);
 const url = await getDownloadURL(storageRef);
 return url;
 } catch (error) {
 console.warn('Firebase Storage upload failed:', error);
 return null;
 }
 }

 async function deleteFromFirebaseStorage(path) {
 if (!window.firebaseReady || !window.firebaseStorage) return;
 try {
 const { ref, deleteObject } = window.firebaseStorageImports;
 const storageRef = ref(window.firebaseStorage, path);
 await deleteObject(storageRef);
 } catch (error) {
 // File may not exist, that's okay
 }
 }
 // ===== End Firebase Storage =====

 // TO-DO LIST FUNCTIONS
 function loadTodos() {
 const savedData = loadFromStorage('todos_kasey');
 if (savedData) {
 todos = savedData;
 } else {
 const saved = localStorage.getItem('todos_kasey');
 if (saved) {
 todos = JSON.parse(saved);
 saveToStorage('todos_kasey', todos);
 } else {
 todos = [];
 }
 }
 renderTodos();
 
 setupStorageListener('todos_kasey', (data) => {
 todos = data;
 renderTodos();
 });
 }

 function saveTodos() {
 localStorage.setItem('todos_kasey', JSON.stringify(todos));
 saveToStorage('todos_kasey', todos);
 }

 function addTodo() {
 const input = document.getElementById('todoInput');
 const text = input.value.trim();
 
 if (text === '') return;
 
 const todo = {
 id: Date.now(),
 text: text,
 completed: false,
 createdAt: new Date().toISOString()
 };
 
 todos.unshift(todo);
 saveTodos();
 renderTodos();
 input.value = '';
 }

 function toggleTodo(id) {
 const todo = todos.find(t => t.id === id);
 if (todo) {
 todo.completed = !todo.completed;
 saveTodos();
 renderTodos();
 }
 }

 function deleteTodo(id) {
 todos = todos.filter(t => t.id !== id);
 saveTodos();
 renderTodos();
 }

 // Make functions globally accessible
 window.addTodo = addTodo;
 window.toggleTodo = toggleTodo;
 window.deleteTodo = deleteTodo;

 // ===== FUTURE TO-DOS =====
 let futureTodos = [];
 const defaultFutureTodos = [
 { id: 1, text: 'Human Rights Certification Training through USIDHR', completed: false, createdAt: new Date().toISOString() },
 { id: 2, text: 'Fear Free Pet Sitter Training', completed: false, createdAt: new Date().toISOString() },
 { id: 3, text: 'Learn to crochet', completed: false, createdAt: new Date().toISOString() },
 { id: 4, text: 'Clean up photo albums on phone', completed: false, createdAt: new Date().toISOString() },
 { id: 5, text: 'Unpack boxes in house', completed: false, createdAt: new Date().toISOString() },
 { id: 6, text: 'Sort everything', completed: false, createdAt: new Date().toISOString() }
 ];

 function loadFutureTodos() {
 const saved = localStorage.getItem('futureTodos_kasey');
 if (saved) {
 futureTodos = JSON.parse(saved);
 } else {
 futureTodos = JSON.parse(JSON.stringify(defaultFutureTodos));
 saveFutureTodos();
 }
 renderFutureTodos();
 // Background Firebase sync
 loadFromFirebase('futureTodos_kasey').then(firebaseData => {
 if (firebaseData) {
 futureTodos = firebaseData;
 localStorage.setItem('futureTodos_kasey', JSON.stringify(futureTodos));
 renderFutureTodos();
 } else if (saved) {
 syncToFirebase('futureTodos_kasey', futureTodos);
 }
 });
 setupFirebaseListener('futureTodos_kasey', (data) => {
 futureTodos = data;
 renderFutureTodos();
 });
 }

 function saveFutureTodos() {
 localStorage.setItem('futureTodos_kasey', JSON.stringify(futureTodos));
 syncToFirebase('futureTodos_kasey', futureTodos);
 }

 function addFutureTodo() {
 const input = document.getElementById('futureTodoInput');
 const text = input.value.trim();
 if (text === '') return;
 futureTodos.unshift({
 id: Date.now(),
 text: text,
 completed: false,
 createdAt: new Date().toISOString()
 });
 saveFutureTodos();
 renderFutureTodos();
 input.value = '';
 }

 function toggleFutureTodo(id) {
 const todo = futureTodos.find(t => t.id === id);
 if (todo) {
 todo.completed = !todo.completed;
 saveFutureTodos();
 renderFutureTodos();
 }
 }

 function deleteFutureTodo(id) {
 futureTodos = futureTodos.filter(t => t.id !== id);
 saveFutureTodos();
 renderFutureTodos();
 }

 function moveToCurrent(id) {
 const todo = futureTodos.find(t => t.id === id);
 if (todo) {
 futureTodos = futureTodos.filter(t => t.id !== id);
 todo.id = Date.now();
 todo.completed = false;
 todos.unshift(todo);
 saveFutureTodos();
 saveTodos();
 renderFutureTodos();
 renderTodos();
 }
 }

 function renderFutureTodos() {
 const list = document.getElementById('futureTodoList');
 if (futureTodos.length === 0) {
 list.innerHTML = '<div class="todo-empty">No future tasks yet.</div>';
 return;
 }
 list.innerHTML = futureTodos.map(todo => `
 <div class="todo-item${todo.completed ? ' completed' : ''}">
 <input 
 type="checkbox" 
 class="todo-checkbox" 
 ${todo.completed ? 'checked' : ''}
 onchange="window.toggleFutureTodo(${todo.id})"
 >
 <div class="todo-text">${escapeHtml(todo.text)}</div>
 <button class="todo-delete" onclick="window.moveToCurrent(${todo.id})" style="color: #7ba886; opacity: 1;" title="Move to Current">↑</button>
 <button class="todo-delete" onclick="window.deleteFutureTodo(${todo.id})">Delete</button>
 </div>
 `).join('');
 }

 window.addFutureTodo = addFutureTodo;
 window.toggleFutureTodo = toggleFutureTodo;
 window.deleteFutureTodo = deleteFutureTodo;
 window.moveToCurrent = moveToCurrent;
 // ===== END FUTURE TO-DOS =====

 window.showAddResourceForm = showAddResourceForm;
 window.hideAddResourceForm = hideAddResourceForm;
 window.addResource = addResource;
 window.editResource = editResource;
 window.deleteResource = deleteResource;
 window.toggleResource = toggleResource;
 window.handleResourceUpload = handleResourceUpload;
 window.addNewHabit = addNewHabit;
 window.changeDay = changeDay;
 window.closeCelebration = closeCelebration;
 window.closeHabitsEditor = closeHabitsEditor;
 window.deleteHabit = deleteHabit;
 window.deleteJournalEntry = deleteJournalEntry;
 window.deleteVideo = deleteVideo;
 window.resetBoard = resetBoard;
 window.saveHabitsChanges = saveHabitsChanges;
 window.saveJournalEntry = saveJournalEntry;
 window.shuffleBoard = shuffleBoard;
 window.toggleVideoForm = toggleVideoForm;
 window.unlockJournal = unlockJournal;
 window.addVideo = addVideo;
 window.saveAnswer = saveAnswer;

 function renderTodos() {
 const list = document.getElementById('todoList');
 
 if (todos.length === 0) {
 list.innerHTML = '<div class="todo-empty">No tasks yet. Add your first one above!</div>';
 return;
 }
 
 list.innerHTML = todos.map(todo => `
 <div class="todo-item${todo.completed ? ' completed' : ''}">
 <input 
 type="checkbox" 
 class="todo-checkbox" 
 ${todo.completed ? 'checked' : ''}
 onchange="window.toggleTodo(${todo.id})"
 >
 <div class="todo-text">${escapeHtml(todo.text)}</div>
 <button class="todo-delete" onclick="window.deleteTodo(${todo.id})">Delete</button>
 </div>
 `).join('');
 }

 function escapeHtml(text) {
 const div = document.createElement('div');
 div.textContent = text;
 return div.innerHTML;
 }

 // STORAGE FUNCTIONS (localStorage + Firebase sync)
 function saveToStorage(collectionName, data) {
 localStorage.setItem(collectionName, JSON.stringify(data));
 syncToFirebase(collectionName, data);
 }

 function loadFromStorage(collectionName) {
 const saved = localStorage.getItem(collectionName);
 return saved ? JSON.parse(saved) : null;
 }

 function setupStorageListener(collectionName, callback) {
 setupFirebaseListener(collectionName, callback);
 }

 async function syncToFirebase(collectionName, data) {
 if (!window.firebaseReady) {
 await Promise.race([
 new Promise(resolve => {
 if (window.firebaseReady) resolve();
 else window.addEventListener('firebaseReady', resolve, { once: true });
 }),
 new Promise(resolve => setTimeout(resolve, 5000))
 ]);
 }
 if (!window.firebaseReady || !window.db) return;
 try {
 const { setDoc, doc } = window.firestoreImports;
 await setDoc(doc(window.db, collectionName, 'data'), { items: data });
 } catch (error) {}
 }

 async function loadFromFirebase(collectionName) {
 if (!window.firebaseReady) {
 await Promise.race([
 new Promise(resolve => {
 if (window.firebaseReady) resolve();
 else window.addEventListener('firebaseReady', resolve, { once: true });
 }),
 new Promise(resolve => setTimeout(resolve, 5000))
 ]);
 }
 if (!window.firebaseReady || !window.db) return null;
 try {
 const { getDoc, doc } = window.firestoreImports;
 const docSnap = await getDoc(doc(window.db, collectionName, 'data'));
 if (docSnap.exists()) return docSnap.data().items;
 return null;
 } catch (error) { return null; }
 }

 async function setupFirebaseListener(collectionName, callback) {
 if (!window.firebaseReady) {
 await Promise.race([
 new Promise(resolve => {
 if (window.firebaseReady) resolve();
 else window.addEventListener('firebaseReady', resolve, { once: true });
 }),
 new Promise(resolve => setTimeout(resolve, 5000))
 ]);
 }
 if (!window.firebaseReady || !window.db) return;
 try {
 const { onSnapshot, doc } = window.firestoreImports;
 onSnapshot(doc(window.db, collectionName, 'data'), (d) => {
 if (d.exists()) callback(d.data().items);
 });
 } catch (error) {}
 }

 function switchTab(e, tab) {
 document.querySelectorAll('.hub-tab').forEach(t => t.classList.remove('active'));
 document.getElementById(`${tab}-tab`).classList.add('active');
 document.getElementById('sectionSelect').value = tab;
 localStorage.setItem('kaseyHub_activeTab', tab);

 if (tab === 'prompt') loadHubPrompt();
 else if (tab === 'resources') renderAllResources();
 else if (tab === 'spellbook') { renderSpells(); renderMoonPhase(); }
 }

 function switchTabFromDropdown() {
 const dropdown = document.getElementById('sectionSelect');
 const selectedTab = dropdown.value;
 
 document.querySelectorAll('.hub-tab').forEach(t => t.classList.remove('active'));
 document.getElementById(`${selectedTab}-tab`).classList.add('active');
 localStorage.setItem('kaseyHub_activeTab', selectedTab);

 if (selectedTab === 'prompt') loadHubPrompt();
 else if (selectedTab === 'resources') renderAllResources();
 else if (selectedTab === 'spellbook') { renderSpells(); renderMoonPhase(); }
 }

 function goToWorkout() {
 // Switch to resources tab
 document.querySelectorAll('.hub-tab').forEach(t => t.classList.remove('active'));
 document.getElementById('resources-tab').classList.add('active');
 document.getElementById('sectionSelect').value = 'resources';
 renderAllResources();

 // Open exercise category
 const exerciseCat = document.querySelector('#exercise-content')?.closest('.resource-category');
 if (exerciseCat) exerciseCat.classList.add('active');

 // Find today's day name and expand it
 const dayNames = ['SUNDAY','MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY'];
 const todayName = dayNames[new Date().getDay()];
 const dayHeaders = document.querySelectorAll('.exercise-day-title');
 dayHeaders.forEach(h => {
 if (h.textContent.toUpperCase().includes(todayName)) {
 const dayEl = h.closest('.exercise-day');
 if (dayEl) {
 dayEl.classList.add('active');
 setTimeout(() => dayEl.scrollIntoView({ behavior: 'smooth', block: 'start' }), 200);
 }
 }
 });
 }

 function initBoard() {
 const today = new Date().toDateString();
 const savedDate = localStorage.getItem('bingoDate_kasey');
 const boardVersion = localStorage.getItem('bingoVersion_kasey');
 
 // Force reset if switching from 5x5 to 4x4
 if (boardVersion !== '4x4') {
 localStorage.removeItem('bingoState_kasey');
 localStorage.setItem('bingoVersion_kasey', '4x4');
 localStorage.setItem('bingoDate_kasey', today);
 shuffleBoard();
 } else if (savedDate !== today) {
 localStorage.removeItem('bingoState_kasey');
 localStorage.setItem('bingoDate_kasey', today);
 shuffleBoard();
 } else {
 const savedData = loadFromStorage('bingoState_kasey');
 if (savedData && savedData.habits && savedData.habits.length === 16) {
 currentHabits = savedData.habits;
 boardState = savedData.state;
 } else {
 const saved = localStorage.getItem('bingoState_kasey');
 if (saved) {
 const data = JSON.parse(saved);
 if (data.habits && data.habits.length === 16) {
 currentHabits = data.habits;
 boardState = data.state;
 saveToStorage('bingoState_kasey', data);
 } else {
 shuffleBoard();
 }
 } else {
 shuffleBoard();
 }
 }
 }
 
 updateDateDisplay();
 renderBoard();
 updateStats();
 
 setupStorageListener('bingoState_kasey', (data) => {
 if (data.habits && data.habits.length === 16) {
 currentHabits = data.habits;
 boardState = data.state;
 renderBoard();
 updateStats();
 }
 });
 }

 function updateDateDisplay() {
 const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
 document.getElementById('dateDisplay').textContent = new Date().toLocaleDateString('en-US', options);
 }

 function shuffleBoard() {
 // Save which habits are currently completed
 const completedHabits = new Set();
 currentHabits.forEach((habit, index) => {
 if (boardState[index]) {
 completedHabits.add(habit);
 }
 });

 // Shuffle and get new habits
 const shuffled = [...kaseyHabits].sort(() => Math.random() - 0.5).slice(0, 16);
 currentHabits = shuffled;
 
 // Restore completed state for ALL habits that were completed, even if they're on the new board
 boardState = new Array(16).fill(false);
 currentHabits.forEach((habit, index) => {
 if (completedHabits.has(habit)) {
 boardState[index] = true;
 }
 });

 saveState();
 renderBoard();
 updateStats();
 }

 function renderBoard() {
 const grid = document.getElementById('bingoGrid');
 grid.innerHTML = '';
 
 // Find cells that are part of a bingo line
 const inBingo = new Set();
 const lines = [];
 for (let i = 0; i < 4; i++) {
 lines.push([i*4, i*4+1, i*4+2, i*4+3]); // rows
 lines.push([i, i+4, i+8, i+12]); // cols
 }
 lines.push([0, 5, 10, 15]); // diag
 lines.push([3, 6, 9, 12]); // diag
 lines.forEach(line => {
 if (line.every(idx => boardState[idx])) {
 line.forEach(idx => inBingo.add(idx));
 }
 });

 currentHabits.forEach((habit, index) => {
 const cell = document.createElement('div');
 cell.className = 'bingo-cell';
 cell.textContent = habit;
 
 if (boardState[index]) {
 if (inBingo.has(index)) {
 cell.classList.add('in-bingo');
 } else {
 cell.classList.add('completed');
 }
 }
 cell.onclick = () => toggleCell(index);
 
 grid.appendChild(cell);
 });
 }

 function toggleCell(index) {
 boardState[index] = !boardState[index];
 saveState();
 renderBoard();
 updateStats();
 checkBingo();
 }

 function resetBoard() {
 boardState = new Array(16).fill(false);
 saveState();
 renderBoard();
 updateStats();
 }

 function saveState() {
 const data = {
 habits: currentHabits,
 state: boardState
 };
 localStorage.setItem('bingoState_kasey', JSON.stringify(data));
 saveToStorage('bingoState_kasey', data);
 }

 function updateStats() {
 const completed = boardState.filter(Boolean).length;
 document.getElementById('completedCount').textContent = completed;
 document.getElementById('bingoCount').textContent = countBingos();
 }

 function countBingos() {
 let count = 0;
 // Check rows (4 rows)
 for (let i = 0; i < 4; i++) {
 if (boardState.slice(i * 4, i * 4 + 4).every(Boolean)) count++;
 }
 // Check columns (4 columns)
 for (let i = 0; i < 4; i++) {
 if ([0, 1, 2, 3].every(j => boardState[i + j * 4])) count++;
 }
 // Check diagonals
 if ([0, 5, 10, 15].every(i => boardState[i])) count++; // Top-left to bottom-right
 if ([3, 6, 9, 12].every(i => boardState[i])) count++; // Top-right to bottom-left
 return count;
 }

 function checkBingo() {
 const prevCount = parseInt(localStorage.getItem('prevBingoCount_kasey') || '0');
 const currentCount = countBingos();
 if (currentCount > prevCount) showCelebration();
 localStorage.setItem('prevBingoCount_kasey', currentCount);
 }

 function showCelebration() {
 document.getElementById('celebration').classList.add('show');
 createConfetti();
 }

 function closeCelebration() {
 document.getElementById('celebration').classList.remove('show');
 }

 function createConfetti() {
 const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#ffd93d', '#a8e6cf', '#ff8b94', '#c7ceea', '#b4f8c8', '#ffa07a', '#98d8c8'];
 for (let i = 0; i < 100; i++) {
 setTimeout(() => {
 const confetti = document.createElement('div');
 confetti.className = 'confetti';
 confetti.style.left = Math.random() * 100 + '%';
 confetti.style.top = '-10px';
 confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
 const size = Math.random() * 8 + 6;
 confetti.style.width = size + 'px';
 confetti.style.height = size + 'px';
 const duration = Math.random() * 2 + 2;
 confetti.style.animationDuration = duration + 's';
 document.body.appendChild(confetti);
 setTimeout(() => confetti.remove(), duration * 1000);
 }, i * 30);
 }
 }

 function loadResources() {
 // Load from localStorage first (instant)
 const savedData = localStorage.getItem('resources_kasey');
 if (savedData) {
 resources = JSON.parse(savedData);
 } else {
 resources = JSON.parse(JSON.stringify(defaultResources));
 try { localStorage.setItem('resources_kasey', JSON.stringify(resources)); } catch(e) {}
 }
 // Ensure all default categories exist
 for (const cat of Object.keys(defaultResources)) {
 if (!resources[cat]) {
 resources[cat] = JSON.parse(JSON.stringify(defaultResources[cat]));
 }
 }
 // Migrate legacy base64
 let migrated = false;
 for (const cat of Object.keys(resources)) {
 resources[cat] = resources[cat].map(item => {
 if (item.file && item.file.data) {
 migrated = true;
 return { ...item, file: { type: item.file.type, name: item.file.name, size: item.file.size || 0, id: item.file.id || ('legacy_res_' + Date.now()) } };
 }
 return item;
 });
 }
 if (migrated) {
 try { localStorage.setItem('resources_kasey', JSON.stringify(resources)); } catch(e) {}
 }
 renderAllResources();
 // Background Firebase sync
 loadFromFirebase('resources_kasey').then(firebaseData => {
 if (firebaseData) {
 resources = firebaseData;
 for (const cat of Object.keys(defaultResources)) {
 if (!resources[cat]) resources[cat] = JSON.parse(JSON.stringify(defaultResources[cat]));
 }
 localStorage.setItem('resources_kasey', JSON.stringify(resources));
 renderAllResources();
 } else if (savedData) {
 syncToFirebase('resources_kasey', resources);
 }
 });
 setupFirebaseListener('resources_kasey', (data) => {
 resources = data;
 renderAllResources();
 });
 }

 function saveResources() {
 const metadataOnly = {};
 for (const [cat, items] of Object.entries(resources)) {
 metadataOnly[cat] = items.map(item => {
 if (item.file && item.file.data) {
 return { ...item, file: { type: item.file.type, name: item.file.name, size: item.file.size || 0, id: item.file.id } };
 }
 return item;
 });
 }
 try {
 localStorage.setItem('resources_kasey', JSON.stringify(metadataOnly));
 } catch(e) {
 try {
 localStorage.removeItem('resources_kasey');
 localStorage.setItem('resources_kasey', JSON.stringify(metadataOnly));
 } catch(e2) {}
 }
 syncToFirebase('resources_kasey', metadataOnly);
 }

 function handleResourceUpload() {
 const fileInput = document.getElementById('resourceFile');
 const file = fileInput.files[0];
 if (file) {
 const sizeMB = (file.size / 1024 / 1024).toFixed(1);
 if (file.size > 200 * 1024 * 1024) {
 alert('File too large (' + sizeMB + 'MB). Max is 200MB.');
 fileInput.value = '';
 return;
 }
 pendingResourceBlob = file;
 pendingResourceFile = {
 type: file.type,
 name: file.name,
 size: file.size
 };
 document.getElementById('resourceLink').value = '';
 }
 }

 function toggleResource(e, category) {
 e.target.closest('.resource-category').classList.toggle('active');
 }

 function renderAllResources() {
 Object.keys(resources).forEach(category => {
 renderResourceCategory(category); // async but fire-and-forget is fine here
 });
 }

 async function renderResourceCategory(category) {
 const container = document.getElementById(`${category}-items`);
 if (!container) {
 return;
 }

 if (!resources[category] || resources[category].length === 0) {
 container.innerHTML = '<div class="empty-state">No resources yet. Add your first one!</div>';
 return;
 }

 container.innerHTML = '';
 for (const [index, item] of resources[category].entries()) {
 const itemDiv = document.createElement('div');
 itemDiv.className = 'resource-item';
 
 let mediaContent = '';
 let isVideo = false;
 if (item.file) {
 // Determine file URL: cloud > local IndexedDB > legacy base64
 let fileUrl = null;
 let fileType = item.file.type || '';

 // 1. Cloud URL (works on any device)
 if (item.file.cloudUrl) {
 fileUrl = item.file.cloudUrl;
 }
 // 2. Local IndexedDB
 if (!fileUrl && item.file.id) {
 try {
 const stored = await getVideoBlob(item.file.id);
 if (stored && stored.blob) {
 const blob = (stored.blob instanceof Blob) ? stored.blob : new Blob([stored.blob], { type: stored.type });
 fileUrl = URL.createObjectURL(blob);
 }
 } catch(e) {}
 }
 // 3. Legacy base64
 if (!fileUrl && item.file.data) {
 fileUrl = item.file.data;
 }

 if (fileUrl) {
 if (fileType.startsWith('image')) {
 mediaContent = `<img src="${fileUrl}" style="max-width: 200px; margin-bottom: 8px; border-radius: 4px;">`;
 } else if (fileType.startsWith('video')) {
 isVideo = true;
 mediaContent = `<video controls style="width: 100%; max-width: 400px; margin-bottom: 8px;"><source src="${fileUrl}" type="${fileType}"></video>`;
 }
 } else {
 mediaContent = '<div style="color:#b59197;font-size:0.85rem;">📱 File only available on upload device</div>';
 }
 }

 // Wrap videos in collapsible toggle if item has a title
 if (isVideo && item.title) {
 const toggleId = 'resvid_' + category + '_' + index;
 mediaContent = `
 <button class="resource-video-toggle" onclick="var w=document.getElementById('${toggleId}');w.classList.toggle('open');this.classList.toggle('open');">
 <span class="toggle-arrow">▶</span> Watch Video
 </button>
 <div class="resource-video-wrapper" id="${toggleId}">
 ${mediaContent}
 </div>`;
 }
 
 itemDiv.innerHTML = `
 <div class="resource-item-content">
 <div class="resource-item-title">${item.title}</div>
 ${mediaContent}
 ${item.link ? `<a href="${item.link}" target="_blank" class="resource-item-link">${item.link}</a>` : ''}
 ${item.note ? `<div class="resource-item-note">${item.note}</div>` : ''}
 </div>
 <div class="resource-item-actions">
 <button class="btn" onclick="editResource('${category}', ${index})" style="padding: 4px 8px; min-width: auto;" title="Edit">✎</button>
 <button class="btn" onclick="deleteResource('${category}', ${index})" style="padding: 4px 8px; min-width: auto;" title="Delete">&times;</button>
 </div>
 `;
 container.appendChild(itemDiv);
 }
 }

 function showAddResourceForm(category) {
 document.getElementById('resourceCategory').value = category;
 document.getElementById('resourceForm').classList.add('active');
 document.getElementById('resourceFormOverlay').classList.add('active');
 document.body.style.overflow = 'hidden'; // Prevent background scrolling
 }

 function hideAddResourceForm() {
 const form = document.getElementById('resourceForm');
 form.classList.remove('active');
 document.getElementById('resourceFormOverlay').classList.remove('active');
 form.querySelector('form').reset();
 document.body.style.overflow = ''; // Restore scrolling
 pendingResourceFile = null;
 pendingResourceBlob = null;
 // Clear edit state
 delete form.dataset.editIndex;
 delete form.dataset.editCategory;
 }

 async function addResource(e) {
 e.preventDefault();
 const formData = new FormData(e.target);
 const category = formData.get('category');
 const form = document.getElementById('resourceForm');
 const fileId = 'res_' + Date.now() + '_' + Math.random().toString(36).substr(2, 6);
 
 const resource = {
 title: formData.get('title'),
 link: formData.get('link') || null,
 note: formData.get('note') || null,
 file: pendingResourceFile ? { type: pendingResourceFile.type, name: pendingResourceFile.name, size: pendingResourceFile.size, id: fileId } : null
 };

 try {
 if (pendingResourceBlob) {
 // Upload to Firebase Storage
 const storagePath = 'resources/kasey/' + fileId + '_' + pendingResourceFile.name;
 const downloadUrl = await uploadToFirebaseStorage(pendingResourceBlob, storagePath);
 if (downloadUrl && resource.file) {
 resource.file.cloudUrl = downloadUrl;
 resource.file.storagePath = storagePath;
 }
 // Also save locally
 await saveVideoBlob(fileId, pendingResourceBlob, pendingResourceFile.type, pendingResourceFile.name);
 }

 // Check if we're editing
 if (form.dataset.editIndex !== undefined && form.dataset.editIndex !== '') {
 const index = parseInt(form.dataset.editIndex);
 if (!resource.file && resources[category][index].file) {
 resource.file = resources[category][index].file;
 } else if (resource.file && resources[category][index].file && resources[category][index].file.id) {
 // Delete old files if replacing
 try { await deleteVideoBlob(resources[category][index].file.id); } catch(e) {}
 if (resources[category][index].file.storagePath) {
 try { await deleteFromFirebaseStorage(resources[category][index].file.storagePath); } catch(e) {}
 }
 }
 resources[category][index] = resource;
 delete form.dataset.editIndex;
 delete form.dataset.editCategory;
 } else {
 if (!resources[category]) resources[category] = [];
 resources[category].push(resource);
 }
 
 saveResources();
 renderResourceCategory(category);
 hideAddResourceForm();
 pendingResourceFile = null;
 pendingResourceBlob = null;
 } catch(err) {
 console.error('Resource save error:', err);
 alert('Could not save file: ' + (err.message || 'Unknown error'));
 }
 }

 async function deleteResource(category, index) {
 const item = resources[category][index];
 if (item.file) {
 if (item.file.id) {
 try { await deleteVideoBlob(item.file.id); } catch(e) {}
 }
 if (item.file.storagePath) {
 try { await deleteFromFirebaseStorage(item.file.storagePath); } catch(e) {}
 }
 }
 resources[category].splice(index, 1);
 saveResources();
 renderResourceCategory(category);
 }

 function editResource(category, index) {
 const resource = resources[category][index];
 
 // Populate the form with existing data
 document.getElementById('resourceCategory').value = category;
 document.querySelector('#resourceForm input[name="title"]').value = resource.title || '';
 document.querySelector('#resourceForm input[name="link"]').value = resource.link || '';
 document.querySelector('#resourceForm textarea[name="note"]').value = resource.note || '';
 
 // Store the index being edited
 document.getElementById('resourceForm').dataset.editIndex = index;
 document.getElementById('resourceForm').dataset.editCategory = category;
 
 // Show the form
 showAddResourceForm(category);
 }

 function handleVideoUpload() {
 const fileInput = document.getElementById('videoFile');
 const status = document.getElementById('videoUploadStatus');
 const saveBtn = document.getElementById('videoSaveBtn');
 const file = fileInput.files[0];
 if (file) {
 const sizeMB = (file.size / 1024 / 1024).toFixed(1);
 if (file.size > 200 * 1024 * 1024) {
 alert('Video too large (' + sizeMB + 'MB). Max is 200MB.\n\nFor very large videos, upload to YouTube and paste the link instead.');
 fileInput.value = '';
 return;
 }
 status.style.display = 'block';
 status.innerHTML = '<span style="display:inline-block;width:12px;height:12px;border:2px solid rgba(123,168,134,0.3);border-top-color:#7ba886;border-radius:50%;animation:spin 0.6s linear infinite;vertical-align:middle;margin-right:6px;"></span> Processing video (' + sizeMB + 'MB)...';
 saveBtn.disabled = true;
 saveBtn.style.opacity = '0.5';

 // Store as blob reference instead of base64
 pendingVideoBlob = file;
 pendingVideoFile = {
 type: file.type,
 name: file.name,
 size: file.size
 };
 document.getElementById('videoLink').value = '';
 status.innerHTML = '&#10004; Video ready (' + sizeMB + 'MB)';
 status.style.color = '#7ba886';
 saveBtn.disabled = false;
 saveBtn.style.opacity = '1';
 }
 }

 function loadVideos() {
 // Load from localStorage first (instant)
 const saved = localStorage.getItem('videos_kasey');
 if (saved) {
 videos = JSON.parse(saved);
 } else {
 videos = [];
 }
 // Migrate legacy base64
 let migrated = false;
 videos = videos.map(v => {
 if (v.file && v.file.data) {
 migrated = true;
 return { ...v, file: { type: v.file.type, name: v.file.name, size: v.file.size || 0, id: v.id || ('legacy_' + Date.now()) } };
 }
 return v;
 });
 if (migrated) {
 try { localStorage.setItem('videos_kasey', JSON.stringify(videos)); } catch(e) {}
 }
 renderVideos();
 // Background Firebase sync
 loadFromFirebase('videos_kasey').then(firebaseData => {
 if (firebaseData) {
 videos = firebaseData;
 localStorage.setItem('videos_kasey', JSON.stringify(videos));
 renderVideos();
 } else if (saved) {
 syncToFirebase('videos_kasey', videos);
 }
 });
 setupFirebaseListener('videos_kasey', (data) => {
 videos = data;
 renderVideos();
 });
 }

 function saveVideos() {
 const metadataOnly = videos.map(v => {
 if (v.file && v.file.data) {
 return { ...v, file: { type: v.file.type, name: v.file.name, size: v.file.size || 0, id: v.id || v.file.id } };
 }
 return v;
 });
 try {
 localStorage.setItem('videos_kasey', JSON.stringify(metadataOnly));
 } catch(e) {
 try {
 localStorage.removeItem('videos_kasey');
 localStorage.setItem('videos_kasey', JSON.stringify(metadataOnly));
 } catch(e2) {}
 }
 syncToFirebase('videos_kasey', metadataOnly);
 }

 function toggleVideoForm() {
 const form = document.getElementById('videoForm');
 form.classList.toggle('active');
 if (!form.classList.contains('active')) {
 form.querySelector('form').reset();
 pendingVideoFile = null;
 pendingVideoBlob = null;
 const status = document.getElementById('videoUploadStatus');
 if (status) { status.style.display = 'none'; status.innerHTML = ''; }
 const saveBtn = document.getElementById('videoSaveBtn');
 if (saveBtn) { saveBtn.disabled = false; saveBtn.style.opacity = '1'; saveBtn.style.cssText = ''; saveBtn.textContent = 'Save Video'; }
 }
 }

 async function addVideo(e) {
 e.preventDefault();
 const saveBtn = document.getElementById('videoSaveBtn');
 const status = document.getElementById('videoUploadStatus');
 const origText = saveBtn.textContent;

 // Show saving state
 saveBtn.textContent = '';
 saveBtn.style.cssText = 'position:relative;pointer-events:none;min-width:90px;color:transparent;border-color:#7ba886;background:rgba(123,168,134,0.1);';
 const spinner = document.createElement('span');
 spinner.style.cssText = 'position:absolute;top:50%;left:50%;width:14px;height:14px;margin:-7px 0 0 -7px;border:2px solid rgba(123,168,134,0.3);border-top-color:#7ba886;border-radius:50%;animation:spin 0.6s linear infinite;';
 saveBtn.appendChild(spinner);

 if (status) { status.style.display = 'block'; status.innerHTML = 'Uploading...'; }

 const formData = new FormData(e.target);
 const videoId = 'vid_' + Date.now() + '_' + Math.random().toString(36).substr(2, 6);

 const video = {
 id: videoId,
 title: formData.get('title'),
 link: formData.get('link') || null,
 file: pendingVideoFile ? { type: pendingVideoFile.type, name: pendingVideoFile.name, size: pendingVideoFile.size, id: videoId } : null,
 tags: formData.get('tags') ? formData.get('tags').split(',').map(t => t.trim()) : [],
 dateAdded: new Date().toISOString()
 };

 try {
 if (pendingVideoBlob) {
 // Upload to Firebase Storage for cross-device access
 const storagePath = 'videos/kasey/' + videoId + '_' + pendingVideoFile.name;
 if (status) status.innerHTML = 'Uploading to cloud...';
 const downloadUrl = await uploadToFirebaseStorage(pendingVideoBlob, storagePath);
 if (downloadUrl) {
 video.file.cloudUrl = downloadUrl;
 video.file.storagePath = storagePath;
 }
 // Also save locally to IndexedDB as cache
 await saveVideoBlob(videoId, pendingVideoBlob, pendingVideoFile.type, pendingVideoFile.name);
 }
 videos.push(video);
 saveVideos();
 } catch(err) {
 console.error('Video save error:', err);
 saveBtn.textContent = origText;
 saveBtn.style.cssText = '';
 alert('Could not save video: ' + (err.message || 'Unknown error') + '\nTry using a link instead.');
 return;
 }

 renderVideos();
 pendingVideoFile = null;
 pendingVideoBlob = null;

 saveBtn.textContent = 'Saved!';
 saveBtn.style.cssText = 'border-color:#7ba886;color:#7ba886;pointer-events:none;min-width:90px;';
 
 setTimeout(function() {
 saveBtn.textContent = origText;
 saveBtn.style.cssText = '';
 e.target.reset();
 if (status) { status.style.display = 'none'; status.innerHTML = ''; }
 toggleVideoForm();
 }, 800);
 }

 async function renderVideos() {
 const list = document.getElementById('videosList');
 const countEl = document.getElementById('videoCount');
 if (countEl) countEl.textContent = videos.length > 0 ? videos.length + ' video' + (videos.length !== 1 ? 's' : '') : '';
 
 if (videos.length === 0) {
 list.innerHTML = '<div class="empty-state" style="grid-column:1/-1;">No videos yet. Add your first motivational video!</div>';
 return;
 }

 list.innerHTML = '';
 for (const [index, video] of videos.entries()) {
 const thumb = document.createElement('div');
 thumb.className = 'video-thumb';

 if (video.file) {
 // Determine video URL: cloud > local IndexedDB > legacy base64
 let videoUrl = null;
 let isCloud = false;

 // 1. Try cloud URL first (works on any device)
 if (video.file.cloudUrl) {
 videoUrl = video.file.cloudUrl;
 isCloud = true;
 }
 // 2. Try local IndexedDB
 if (!videoUrl && video.file.id) {
 try {
 const stored = await getVideoBlob(video.file.id);
 if (stored && stored.blob) {
 const blob = (stored.blob instanceof Blob) ? stored.blob : new Blob([stored.blob], { type: stored.type });
 videoUrl = URL.createObjectURL(blob);
 }
 } catch(e) {}
 }
 // 3. Try legacy base64
 if (!videoUrl && video.file.data) {
 videoUrl = video.file.data;
 }

 if (videoUrl) {
 const thumbId = 'vthumb_' + index;
 thumb.innerHTML = `
 <canvas id="${thumbId}" style="width:100%;height:100%;object-fit:cover;display:block;"></canvas>
 <div class="video-thumb-play"></div>
 <div class="video-thumb-overlay">${video.title || ''}</div>
 `;
 thumb.onclick = () => openVideoDetail(index, videoUrl);
 list.appendChild(thumb);

 // Async thumbnail generation
 (function(url, canvasId, cloud) {
 const tempVid = document.createElement('video');
 tempVid.muted = true;
 tempVid.preload = 'auto';
 if (cloud) tempVid.crossOrigin = 'anonymous';
 tempVid.addEventListener('loadeddata', function() {
 tempVid.currentTime = 0.5;
 });
 tempVid.addEventListener('seeked', function() {
 try {
 const canvas = document.getElementById(canvasId);
 if (canvas) {
 const size = Math.min(tempVid.videoWidth, tempVid.videoHeight) || 200;
 canvas.width = size;
 canvas.height = size;
 const ctx = canvas.getContext('2d');
 const sx = (tempVid.videoWidth - size) / 2;
 const sy = (tempVid.videoHeight - size) / 2;
 ctx.drawImage(tempVid, sx, sy, size, size, 0, 0, size, size);
 }
 } catch(e) {}
 });
 tempVid.src = url;
 })(videoUrl, thumbId, isCloud);
 continue;
 } else {
 thumb.innerHTML = `
 <div class="video-link-thumb">
 <div class="video-link-icon">📱</div>
 <div style="color:#b59197;font-size:0.7rem;font-weight:600;margin-bottom:2px;">${video.title || 'Video'}</div>
 <div class="video-link-label" style="font-size:0.6rem;">Only plays on upload device</div>
 </div>
 `;
 }
 } else if (video.link) {
 thumb.innerHTML = `
 <div class="video-link-thumb">
 <div class="video-link-icon">▶</div>
 <div style="color:#b59197;font-size:0.75rem;font-weight:600;margin-bottom:4px;">${video.title || 'Video'}</div>
 <div class="video-link-label">${video.link.replace(/https?:\/\/(www\.)?/, '').split('/')[0]}</div>
 </div>
 `;
 thumb.onclick = () => openVideoDetail(index, null);
 }

 list.appendChild(thumb);
 }
 }

 function openVideoDetail(index, blobUrl) {
 const video = videos[index];
 const modal = document.getElementById('videoDetailModal');
 const title = document.getElementById('videoDetailTitle');
 const body = document.getElementById('videoDetailBody');
 const tags = document.getElementById('videoDetailTags');
 const delBtn = document.getElementById('videoDetailDelete');

 title.textContent = video.title || 'Untitled';

 if (blobUrl) {
 body.innerHTML = `<video controls autoplay playsinline style="width:100%;max-height:70vh;"><source src="${blobUrl}" type="${video.file.type}"></video>`;
 } else if (video.link) {
 body.innerHTML = `
 <div style="text-align:center;">
 <a href="${video.link}" target="_blank" style="color:#b59197;font-size:1.1rem;text-decoration:none;display:block;padding:40px;">
 <div style="font-size:3rem;margin-bottom:12px;">▶</div>
 Open in ${video.link.includes('tiktok') ? 'TikTok' : video.link.includes('youtu') ? 'YouTube' : 'Browser'}
 <div style="color:#999;font-size:0.8rem;margin-top:8px;word-break:break-all;">${video.link}</div>
 </a>
 </div>`;
 }

 tags.innerHTML = video.tags.length > 0
 ? video.tags.map(t => `<span class="video-tag">${t}</span>`).join('')
 : '';

 delBtn.onclick = () => {
 deleteVideo(index);
 closeVideoDetail();
 };

 modal.classList.add('active');
 document.body.style.overflow = 'hidden';
 }

 function closeVideoDetail() {
 const modal = document.getElementById('videoDetailModal');
 // Pause any playing video
 const vid = modal.querySelector('video');
 if (vid) vid.pause();
 modal.classList.remove('active');
 document.body.style.overflow = '';
 }
 window.openVideoDetail = openVideoDetail;
 window.closeVideoDetail = closeVideoDetail;

 async function deleteVideo(index) {
 const video = videos[index];
 if (video.file) {
 // Clean up local IndexedDB
 if (video.file.id) {
 try { await deleteVideoBlob(video.file.id); } catch(e) {}
 }
 // Clean up Firebase Storage
 if (video.file.storagePath) {
 try { await deleteFromFirebaseStorage(video.file.storagePath); } catch(e) {}
 }
 }
 videos.splice(index, 1);
 saveVideos();
 renderVideos();
 }

 function loadHubPrompt() {
 const today = new Date();
 const dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / 86400000);
 const promptIndex = dayOfYear % dailyPrompts.length;
 document.getElementById('promptQuestionHub').textContent = dailyPrompts[promptIndex];

 const savedAnswers = loadFromStorage('dailyPromptAnswers') || {};
 const toggleBtn = document.getElementById('promptAnswerToggle');
 
 if (savedAnswers.date === today.toDateString() && savedAnswers.kasey) {
 document.getElementById('currentAnswerBox').style.display = 'block';
 document.getElementById('currentAnswer').textContent = savedAnswers.kasey;
 document.getElementById('answerLabel').textContent = 'Update Your Answer';
 document.getElementById('answerInput').value = savedAnswers.kasey;
 if (toggleBtn) toggleBtn.textContent = 'Update Your Answer';
 } else {
 document.getElementById('currentAnswerBox').style.display = 'none';
 document.getElementById('answerLabel').textContent = 'Your Answer';
 document.getElementById('answerInput').value = '';
 if (toggleBtn) toggleBtn.textContent = 'Write Your Answer';
 }
 }

 function saveAnswer(e) {
 e.preventDefault();
 const answer = new FormData(e.target).get('answer');
 const today = new Date().toDateString();

 let savedAnswers = loadFromStorage('dailyPromptAnswers') || {};
 savedAnswers.date = today;
 savedAnswers.kasey = answer;
 localStorage.setItem('dailyPromptAnswers', JSON.stringify(savedAnswers));
 syncToFirebase('dailyPromptAnswers', savedAnswers);
 
 loadHubPrompt();
 document.getElementById('promptAnswerForm').style.display = 'none';
 document.getElementById('promptAnswerToggle').style.display = '';
 document.getElementById('promptAnswerToggle').textContent = 'Update Your Answer';
 }

 // Journal functionality
 let journalEntries = [];

 function unlockJournal() {
 const password = document.getElementById('journalPassword').value;
 if (password === 'bunnies333') {
 document.getElementById('journalLocked').style.display = 'none';
 document.getElementById('journalContent').style.display = 'block';
 document.getElementById('journalPassword').value = '';
 document.getElementById('journalError').classList.remove('show');
 loadJournalEntries();
 updateJournalFormDate();
 } else {
 document.getElementById('journalError').classList.add('show');
 document.getElementById('journalPassword').value = '';
 }
 }

 function updateJournalFormDate() {
 const now = new Date();
 const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
 document.getElementById('journalFormDate').textContent = now.toLocaleDateString('en-US', options);
 }

 async function saveJournalEntry() {
 const textarea = document.getElementById('journalTextarea');
 const text = textarea.value.trim();
 if (!text) return;

 const now = new Date();
 const entry = {
 id: now.getTime(),
 text: text,
 date: now.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }),
 time: now.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true }),
 timestamp: now.toISOString()
 };

 journalEntries.unshift(entry);
 await saveJournalToFirebase();
 renderJournalEntries();
 document.getElementById('journalTextarea').value = '';
 }

 async function deleteJournalEntry(id) {
 journalEntries = journalEntries.filter(e => e.id !== id);
 await saveJournalToFirebase();
 renderJournalEntries();
 }

 async function saveJournalToFirebase() {
 localStorage.setItem('journalEntries_kasey', JSON.stringify(journalEntries));
 await syncToFirebase('journalEntries_kasey', journalEntries);
 }

 function loadJournalEntries() {
 const saved = localStorage.getItem('journalEntries_kasey');
 if (saved) {
 journalEntries = JSON.parse(saved);
 }
 renderJournalEntries();
 // Background Firebase sync
 loadFromFirebase('journalEntries_kasey').then(firebaseData => {
 if (firebaseData) {
 journalEntries = firebaseData;
 localStorage.setItem('journalEntries_kasey', JSON.stringify(journalEntries));
 renderJournalEntries();
 } else if (saved) {
 syncToFirebase('journalEntries_kasey', journalEntries);
 }
 });
 setupFirebaseListener('journalEntries_kasey', (data) => {
 journalEntries = data;
 renderJournalEntries();
 });
 }

 function renderJournalEntries() {
 const container = document.getElementById('journalEntries');
 
 if (journalEntries.length === 0) {
 container.innerHTML = '<div class="journal-empty">No entries yet. Start writing!</div>';
 return;
 }

 container.innerHTML = '';
 journalEntries.forEach(entry => {
 const entryDiv = document.createElement('div');
 entryDiv.className = 'journal-entry';
 entryDiv.innerHTML = `
 <div class="journal-entry-date">
 ${entry.date}
 <span class="journal-entry-time">${entry.time}</span>
 </div>
 <div class="journal-entry-text">${entry.text}</div>
 `;
 const delBtn = document.createElement('button');
 delBtn.className = 'journal-entry-delete';
 delBtn.textContent = 'Delete';
 delBtn.addEventListener('click', function() {
 deleteJournalEntry(entry.id);
 });
 entryDiv.prepend(delBtn);
 container.appendChild(entryDiv);
 });
 }

 // Daily Schedule System
 let currentViewingDay = new Date().getDay(); // 0 = Sunday, 1 = Monday, etc.

 const dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];

 const weeklySchedule = {
 0: { // Sunday
 morning: {
 skincare: '1. Cleanser<br>2. Essence (damp skin)<br>3. Vitamin C<br>4. Niacinamide<br>5. Under eye serum<br>6. Soothing cream<br>7. Sunscreen',
 workout: 'Deep Mobility + Myofascial Release (40 min)<br><em>Full-body release (20 min) → Mobility flow (15 min) → Closing sequence (5 min)<br>See Resources > Exercise > SUNDAY for complete details</em>',
 tapping: `<strong style="color: #b59197;">Round 1 — Opening to Receive</strong><br>
<strong>Top of head:</strong> "I am safe receiving good things"<br>
<strong>Eyebrow:</strong> "Good things are already on their way to me"<br>
<strong>Side of eye:</strong> "I don't have to earn miracles"<br>
<strong>Under eye:</strong> "Abundance is my natural state"<br>
<strong>Under nose:</strong> "I release the belief that suffering makes me worthy"<br>
<strong>Chin:</strong> "I am worthy simply because I exist"<br>
<strong>Collarbone:</strong> "The universe is rigged in my favor"<br>
<strong>Under arm:</strong> "I allow myself to believe in good outcomes"<br><br>
<strong style="color: #b59197;">Round 2 — Shifting Focus to What's Working</strong><br>
<strong>Top of head:</strong> "There is so much good already here"<br>
<strong>Eyebrow:</strong> "I have clients who trust me"<br>
<strong>Side of eye:</strong> "I have skills that are valuable"<br>
<strong>Under eye:</strong> "I have a partner who shows up with me"<br>
<strong>Under nose:</strong> "My body is healing and getting stronger"<br>
<strong>Chin:</strong> "I am surrounded by love — Wizzy, Moo, Charlie"<br>
<strong>Collarbone:</strong> "Every day I am building something that matters"<br>
<strong>Under arm:</strong> "I choose to see the evidence of my magic"<br><br>
<strong style="color: #b59197;">Round 3 — Claiming What's Coming</strong><br>
<strong>Top of head:</strong> "Money flows to me easily and often"<br>
<strong>Eyebrow:</strong> "My business is growing because I show up"<br>
<strong>Side of eye:</strong> "Opportunities find me because I'm visible"<br>
<strong>Under eye:</strong> "I magnetize exactly what I need, exactly when I need it"<br>
<strong>Under nose:</strong> "The right clients are seeking me out right now"<br>
<strong>Chin:</strong> "I trust the timing of my life completely"<br>
<strong>Collarbone:</strong> "I am a powerful creator of my reality"<br>
<strong>Under arm:</strong> "Good things happen to me. Good things happen FOR me."`,
 journalPrompt: 'What do I need more of? Less of? What\'s one intention for next week?',
 witchy: '<strong>Abundance Kickoff:</strong> Light a gold candle. Hold citrine. Apply Autumn Money Magnet Oil to wrists. State one specific abundance goal for the week aloud — speak it like it\'s already done. Leave candle burning through altar time.'
 },
 evening: {
 skincare: '1. Clay mask<br>2. Double cleanse<br>3. Essence<br>4. Niacinamide<br>5. Eye retinal<br>6. Snail cream',
 witchy: '<strong>Weekly Tarot + Reset Ritual (20-30 min):</strong><br><br><strong>Part 1 — Divination:</strong> Pull a tarot card for the week ahead. Journal: what energy is present, what to watch for, what your business needs this week. Place the card on your altar.<br><br><strong>Part 2 — Weekly Reset:</strong> Cleanse your space with rosemary or cedar smoke. Refresh your altar — swap crystals, clear old spell remains. Charge your tools and crystals. Review last week\'s intentions and set new ones focused on abundance and self-worth. Dress a green candle with cinnamon oil and light it for a strong start to the week.'
 }
 },
 1: { // Monday
 morning: {
 skincare: '1. Cleanser<br>2. Essence (damp skin)<br>3. Vitamin C<br>4. Niacinamide<br>5. Under eye serum<br>6. Soothing cream<br>7. Sunscreen',
 workout: 'Corrective + Pilates Core (45 min)<br><em>Myofascial release (8 min) → Corrective stretches (6 min) → Pilates core (20 min) → Scoliosis work (8 min)<br>See Resources > Exercise > MONDAY for full details</em>',
 tapping: `<strong style="color: #b59197;">Round 1 — Honor the Grief (don't skip this)</strong><br>
<strong>Top of head:</strong> "The world feels absurd sometimes"<br>
<strong>Eyebrow:</strong> "There is so much pain and chaos out there"<br>
<strong>Side of eye:</strong> "I grieve for the world I wish we had"<br>
<strong>Under eye:</strong> "It's heavy carrying this awareness"<br>
<strong>Under nose:</strong> "The financial stress sits in my body too"<br>
<strong>Chin:</strong> "The bills are real. The pressure is real."<br>
<strong>Collarbone:</strong> "I feel the weight of all of it"<br>
<strong>Under arm:</strong> "And I'm allowed to feel every bit of this"<br><br>
<strong style="color: #b59197;">Round 2 — The Pivot (not bypassing — bridging)</strong><br>
<strong>Top of head:</strong> "What if the grief means I care deeply"<br>
<strong>Eyebrow:</strong> "What if caring deeply is my strength"<br>
<strong>Side of eye:</strong> "The absurdity allows me to be absurd myself"<br>
<strong>Under eye:</strong> "I can grieve AND still build"<br>
<strong>Under nose:</strong> "Money stress is temporary — I've survived worse"<br>
<strong>Chin:</strong> "I am building something real right now"<br>
<strong>Collarbone:</strong> "I choose to find joy in the building"<br>
<strong>Under arm:</strong> "Joy doesn't betray my grief — it honors it"<br><br>
<strong style="color: #b59197;">Round 3 — Defiance & Becoming</strong><br>
<strong>Top of head:</strong> "I am becoming someone I'm deeply proud of"<br>
<strong>Eyebrow:</strong> "I build my life in the middle of the chaos"<br>
<strong>Side of eye:</strong> "That takes more courage than most people will ever understand"<br>
<strong>Under eye:</strong> "The money is figuring itself out as I show up"<br>
<strong>Under nose:</strong> "I trust myself to handle what comes"<br>
<strong>Chin:</strong> "I am devoted to my own becoming"<br>
<strong>Collarbone:</strong> "I choose joy as an act of defiance"<br>
<strong>Under arm:</strong> "I choose myself, again and again"`,
 journalPrompt: 'What am I building this week? What\'s one thing I want to accomplish?',
 witchy: '<strong>Intuition + Self-Trust:</strong> Sip moon water (or set intention over your tea). Hold moonstone over your heart. Say: <em>I trust what I feel. I trust what I know. My intuition leads me right.</em> Carry moonstone today.'
 },
 evening: {
 skincare: '1. Double cleanse<br>2. Essence (damp skin)<br>3. Niacinamide<br>4. Eye retinal<br>5. Snail cream',
 witchy: '<strong>Dream + Intuition Prep:</strong> Place mugwort or lavender sachet on your nightstand or under pillow. Hold moonstone. Ask for clarity in your dreams — especially around your business or any decision you\'re sitting with. Keep a notebook by your bed.'
 }
 },
 2: { // Tuesday
 morning: {
 skincare: '1. Cleanser<br>2. Essence (damp skin)<br>3. Vitamin C<br>4. Niacinamide<br>5. Under eye serum<br>6. Soothing cream<br>7. Sunscreen',
 workout: 'Upper Body Strength + Mobility (45 min)<br><em>Myofascial release (4 min) → Strength circuit (25 min, 3 rounds) → Deep neck flexor work (5 min)<br>See Resources > Exercise > TUESDAY for full details</em>',
 tapping: `<strong style="color: #b59197;">Round 1 — Opening to Receive</strong><br>
<strong>Top of head:</strong> "I am safe receiving good things"<br>
<strong>Eyebrow:</strong> "Good things are already on their way to me"<br>
<strong>Side of eye:</strong> "I don't have to earn miracles"<br>
<strong>Under eye:</strong> "Abundance is my natural state"<br>
<strong>Under nose:</strong> "I release the belief that suffering makes me worthy"<br>
<strong>Chin:</strong> "I am worthy simply because I exist"<br>
<strong>Collarbone:</strong> "The universe is rigged in my favor"<br>
<strong>Under arm:</strong> "I allow myself to believe in good outcomes"<br><br>
<strong style="color: #b59197;">Round 2 — Shifting Focus to What's Working</strong><br>
<strong>Top of head:</strong> "There is so much good already here"<br>
<strong>Eyebrow:</strong> "I have clients who trust me"<br>
<strong>Side of eye:</strong> "I have skills that are valuable"<br>
<strong>Under eye:</strong> "I have a partner who shows up with me"<br>
<strong>Under nose:</strong> "My body is healing and getting stronger"<br>
<strong>Chin:</strong> "I am surrounded by love — Wizzy, Moo, Charlie"<br>
<strong>Collarbone:</strong> "Every day I am building something that matters"<br>
<strong>Under arm:</strong> "I choose to see the evidence of my magic"<br><br>
<strong style="color: #b59197;">Round 3 — Claiming What's Coming</strong><br>
<strong>Top of head:</strong> "Money flows to me easily and often"<br>
<strong>Eyebrow:</strong> "My business is growing because I show up"<br>
<strong>Side of eye:</strong> "Opportunities find me because I'm visible"<br>
<strong>Under eye:</strong> "I magnetize exactly what I need, exactly when I need it"<br>
<strong>Under nose:</strong> "The right clients are seeking me out right now"<br>
<strong>Chin:</strong> "I trust the timing of my life completely"<br>
<strong>Collarbone:</strong> "I am a powerful creator of my reality"<br>
<strong>Under arm:</strong> "Good things happen to me. Good things happen FOR me."`,
 journalPrompt: 'What am I grateful for right now? (3 things, be specific)',
 witchy: '<strong>Protection + Power:</strong> Apply Protection Oil to wrists and back of neck. Pick up carnelian or black tourmaline. Say: <em>I am strong. I am protected. My boundaries are non-negotiable.</em> Carry your stone.'
 },
 evening: {
 skincare: '1. Double cleanse<br>2. BHA & wait 15 min<br>3. Essence<br>4. Niacinamide<br>5. Eye retinal<br>6. Snail cream',
 witchy: '<strong>Boundary Burn:</strong> Light a red candle. Write where your boundaries were tested today or where you need to be firmer — with clients, yourself, your time. Fold paper away from you, place under candle. Let burn 5 min. Snuff.'
 }
 },
 3: { // Wednesday
 morning: {
 skincare: '1. Cleanser<br>2. Essence (damp skin)<br>3. Vitamin C<br>4. Niacinamide<br>5. Under eye serum<br>6. Soothing cream<br>7. Sunscreen',
 workout: 'Active Recovery Yoga Flow (40 min)<br><em>Spinal mobility → Hip opening (toe-safe) → Standing balance → Restorative holds (8 min)<br>See Resources > Exercise > WEDNESDAY for full details</em>',
 tapping: `<strong style="color: #b59197;">Round 1 — Honor the Grief (don't skip this)</strong><br>
<strong>Top of head:</strong> "The world feels absurd sometimes"<br>
<strong>Eyebrow:</strong> "There is so much pain and chaos out there"<br>
<strong>Side of eye:</strong> "I grieve for the world I wish we had"<br>
<strong>Under eye:</strong> "It's heavy carrying this awareness"<br>
<strong>Under nose:</strong> "The financial stress sits in my body too"<br>
<strong>Chin:</strong> "The bills are real. The pressure is real."<br>
<strong>Collarbone:</strong> "I feel the weight of all of it"<br>
<strong>Under arm:</strong> "And I'm allowed to feel every bit of this"<br><br>
<strong style="color: #b59197;">Round 2 — The Pivot (not bypassing — bridging)</strong><br>
<strong>Top of head:</strong> "What if the grief means I care deeply"<br>
<strong>Eyebrow:</strong> "What if caring deeply is my strength"<br>
<strong>Side of eye:</strong> "The absurdity allows me to be absurd myself"<br>
<strong>Under eye:</strong> "I can grieve AND still build"<br>
<strong>Under nose:</strong> "Money stress is temporary — I've survived worse"<br>
<strong>Chin:</strong> "I am building something real right now"<br>
<strong>Collarbone:</strong> "I choose to find joy in the building"<br>
<strong>Under arm:</strong> "Joy doesn't betray my grief — it honors it"<br><br>
<strong style="color: #b59197;">Round 3 — Defiance & Becoming</strong><br>
<strong>Top of head:</strong> "I am becoming someone I'm deeply proud of"<br>
<strong>Eyebrow:</strong> "I build my life in the middle of the chaos"<br>
<strong>Side of eye:</strong> "That takes more courage than most people will ever understand"<br>
<strong>Under eye:</strong> "The money is figuring itself out as I show up"<br>
<strong>Under nose:</strong> "I trust myself to handle what comes"<br>
<strong>Chin:</strong> "I am devoted to my own becoming"<br>
<strong>Collarbone:</strong> "I choose joy as an act of defiance"<br>
<strong>Under arm:</strong> "I choose myself, again and again"`,
 journalPrompt: 'What am I holding onto that I need to release?',
 witchy: '<strong>Clarity + Communication:</strong> Hold fluorite. Pull one tarot card — ask: <em>What do I need to see clearly in my business today?</em> Journal one sentence. Apply Sweet Attraction Oil if you have client calls or networking.'
 },
 evening: {
 skincare: '1. Double cleanse<br>2. Essence (damp skin)<br>3. Niacinamide<br>4. Eye retinal<br>5. Snail cream',
 witchy: '<strong>Quick Divination:</strong> Pull 1-3 tarot cards. Ask: <em>What am I not seeing in my business right now?</em> or <em>What do I need to release to grow?</em> Journal gut reactions only — let Cancer intuition lead, not Gemini analysis.'
 }
 },
 4: { // Thursday
 morning: {
 skincare: '1. Cleanser<br>2. Essence (damp skin)<br>3. Vitamin C<br>4. Niacinamide<br>5. Under eye serum<br>6. Soothing cream<br>7. Sunscreen',
 workout: 'Corrective + Lower Body Strength (50 min)<br><em>Myofascial release (6 min) → Hip mobility (6 min) → Strength circuit (22 min, 3 rounds) → Scoliosis hip work (5 min)<br>See Resources > Exercise > THURSDAY for full details</em>',
 tapping: `<strong style="color: #b59197;">Round 1 — Releasing Old Stories</strong><br>
<strong>Top of head:</strong> "I release the story that I'm not enough"<br>
<strong>Eyebrow:</strong> "I release the fear that I'll always struggle"<br>
<strong>Side of eye:</strong> "I let go the need to explain myself. It's perfectly safe to be misunderstood"<br>
<strong>Under eye:</strong> "I don't need to prove anything to anyone"<br>
<strong>Under nose:</strong> "My past does not define my future"<br>
<strong>Chin:</strong> "I am not my doubts or fears"<br>
<strong>Collarbone:</strong> "I am safe letting go of the victim that I once was"<br>
<strong>Under arm:</strong> "I make space for who I'm becoming"<br><br>
<strong style="color: #b59197;">Round 2 — Embodying Self-Trust</strong><br>
<strong>Top of head:</strong> "I trust my body's wisdom"<br>
<strong>Eyebrow:</strong> "I trust my decisions, even when they're hard"<br>
<strong>Side of eye:</strong> "I trust my instincts — they've kept me alive"<br>
<strong>Under eye:</strong> "I trust that I'll figure it out"<br>
<strong>Under nose:</strong> "I've survived 100% of my worst days"<br>
<strong>Chin:</strong> "My track record speaks for itself"<br>
<strong>Collarbone:</strong> "I am more capable than I give myself credit for"<br>
<strong>Under arm:</strong> "I trust myself completely"<br><br>
<strong style="color: #b59197;">Round 3 — Integration & Power</strong><br>
<strong>Top of head:</strong> "I am exactly where I need to be"<br>
<strong>Eyebrow:</strong> "Every step I take is building my empire"<br>
<strong>Side of eye:</strong> "I am both soft and powerful"<br>
<strong>Under eye:</strong> "My sensitivity is a superpower, not a weakness"<br>
<strong>Under nose:</strong> "I move through fear and take action anyway"<br>
<strong>Chin:</strong> "I am devoted to myself in every season"<br>
<strong>Collarbone:</strong> "I embody the woman I'm becoming right now"<br>
<strong>Under arm:</strong> "I am whole, worthy, and wildly loved"`,
 journalPrompt: 'What does my highest self want me to know today?',
 witchy: '<strong>Prosperity Ritual:</strong> Light a green candle. Hold aventurine or citrine. Apply Money Magnet Oil. Say: <em>I am a magnet for abundance. Clients, money, and opportunities find me easily.</em> If 1st Thursday of the month — blow cinnamon through the front door.'
 },
 evening: {
 skincare: '1. Double cleanse<br>2. Essence<br>3. Niacinamide<br>4. Eye retinal<br>5. Snail cream',
 witchy: '<strong>Prosperity Gratitude:</strong> Write 3 things that went well financially or professionally today/this week. Hold citrine and visualize your business goals as already real — <em>feel</em> it. Place a bay leaf in your wallet if you haven\'t recently. Shake your money bowl if you have one.'
 }
 },
 5: { // Friday
 morning: {
 skincare: '1. Cleanser<br>2. Essence (damp skin)<br>3. Vitamin C<br>4. Niacinamide<br>5. Under eye serum<br>6. Soothing cream<br>7. Sunscreen',
 workout: 'Rest or Gentle Walking (20-30 min)<br><em>Complete rest day OR optional treadmill walk with minimal incline. Wear supportive shoes.<br>Optional: Heat, 5 min breathing, gentle chin tucks</em>',
 tapping: `<strong style="color: #b59197;">Round 1 — Honor the Grief (don't skip this)</strong><br>
<strong>Top of head:</strong> "The world feels absurd sometimes"<br>
<strong>Eyebrow:</strong> "There is so much pain and chaos out there"<br>
<strong>Side of eye:</strong> "I grieve for the world I wish we had"<br>
<strong>Under eye:</strong> "It's heavy carrying this awareness"<br>
<strong>Under nose:</strong> "The financial stress sits in my body too"<br>
<strong>Chin:</strong> "The bills are real. The pressure is real."<br>
<strong>Collarbone:</strong> "I feel the weight of all of it"<br>
<strong>Under arm:</strong> "And I'm allowed to feel every bit of this"<br><br>
<strong style="color: #b59197;">Round 2 — The Pivot (not bypassing — bridging)</strong><br>
<strong>Top of head:</strong> "What if the grief means I care deeply"<br>
<strong>Eyebrow:</strong> "What if caring deeply is my strength"<br>
<strong>Side of eye:</strong> "The absurdity allows me to be absurd myself"<br>
<strong>Under eye:</strong> "I can grieve AND still build"<br>
<strong>Under nose:</strong> "Money stress is temporary — I've survived worse"<br>
<strong>Chin:</strong> "I am building something real right now"<br>
<strong>Collarbone:</strong> "I choose to find joy in the building"<br>
<strong>Under arm:</strong> "Joy doesn't betray my grief — it honors it"<br><br>
<strong style="color: #b59197;">Round 3 — Defiance & Becoming</strong><br>
<strong>Top of head:</strong> "I am becoming someone I'm deeply proud of"<br>
<strong>Eyebrow:</strong> "I build my life in the middle of the chaos"<br>
<strong>Side of eye:</strong> "That takes more courage than most people will ever understand"<br>
<strong>Under eye:</strong> "The money is figuring itself out as I show up"<br>
<strong>Under nose:</strong> "I trust myself to handle what comes"<br>
<strong>Chin:</strong> "I am devoted to my own becoming"<br>
<strong>Collarbone:</strong> "I choose joy as an act of defiance"<br>
<strong>Under arm:</strong> "I choose myself, again and again"`,
 journalPrompt: 'What did I do well this week? Where did I show up for myself?',
 witchy: '<strong>Self-Love + Worth:</strong> Hold rose quartz over your heart. Apply Self-Love Oil to wrists and heart center. Say: <em>I am worthy of the love I give others. I choose myself today.</em> Light a pink candle if you have time.'
 },
 evening: {
 skincare: '1. Double cleanse<br>2. Essence (damp skin)<br>3. Niacinamide<br>4. Eye retinal<br>5. Snail cream',
 witchy: '<strong>Self-Love Wind Down:</strong> Hold rose quartz. Take 5 slow breaths. Name one thing you did well today. Say: <em>I am enough right now. Not when I fix something. Right now.</em> Apply Hearthfire Comfort Oil to wrists. Let yourself be soft tonight.'
 }
 },
 6: { // Saturday
 morning: {
 skincare: '1. Cleanser<br>2. Essence (damp skin)<br>3. Vitamin C<br>4. Niacinamide<br>5. Under eye serum<br>6. Soothing cream<br>7. Sunscreen',
 workout: 'Full Body Calisthenics + Cardio (50 min)<br><em>Low-impact cardio (12 min) → Calisthenics circuit (22 min, 4 rounds) → Core finisher (5 min)<br>See Resources > Exercise > SATURDAY for full details</em>',
 tapping: `<strong style="color: #b59197;">Round 1 — Releasing Old Stories</strong><br>
<strong>Top of head:</strong> "I release the story that I'm not enough"<br>
<strong>Eyebrow:</strong> "I release the fear that I'll always struggle"<br>
<strong>Side of eye:</strong> "I let go the need to explain myself. It's perfectly safe to be misunderstood"<br>
<strong>Under eye:</strong> "I don't need to prove anything to anyone"<br>
<strong>Under nose:</strong> "My past does not define my future"<br>
<strong>Chin:</strong> "I am not my doubts or fears"<br>
<strong>Collarbone:</strong> "I am safe letting go of the victim that I once was"<br>
<strong>Under arm:</strong> "I make space for who I'm becoming"<br><br>
<strong style="color: #b59197;">Round 2 — Embodying Self-Trust</strong><br>
<strong>Top of head:</strong> "I trust my body's wisdom"<br>
<strong>Eyebrow:</strong> "I trust my decisions, even when they're hard"<br>
<strong>Side of eye:</strong> "I trust my instincts — they've kept me alive"<br>
<strong>Under eye:</strong> "I trust that I'll figure it out"<br>
<strong>Under nose:</strong> "I've survived 100% of my worst days"<br>
<strong>Chin:</strong> "My track record speaks for itself"<br>
<strong>Collarbone:</strong> "I am more capable than I give myself credit for"<br>
<strong>Under arm:</strong> "I trust myself completely"<br><br>
<strong style="color: #b59197;">Round 3 — Integration & Power</strong><br>
<strong>Top of head:</strong> "I am exactly where I need to be"<br>
<strong>Eyebrow:</strong> "Every step I take is building my empire"<br>
<strong>Side of eye:</strong> "I am both soft and powerful"<br>
<strong>Under eye:</strong> "My sensitivity is a superpower, not a weakness"<br>
<strong>Under nose:</strong> "I move through fear and take action anyway"<br>
<strong>Chin:</strong> "I am devoted to myself in every season"<br>
<strong>Collarbone:</strong> "I embody the woman I'm becoming right now"<br>
<strong>Under arm:</strong> "I am whole, worthy, and wildly loved"`,
 journalPrompt: 'Free write — whatever comes up. No rules.',
 witchy: '<strong>Cleanse + Shield:</strong> Quick smoke cleanse of your altar area with rosemary or cedar. Hold black tourmaline. Say: <em>I release what is not mine. This space is clean. I am clear.</em> Set tourmaline by your front door.'
 },
 evening: {
 skincare: '1. Double cleanse<br>2. AHA & wait 15 min<br>3. Essence<br>4. Niacinamide<br>5. Eye retinal<br>6. Snail cream<br>7. Sleeping mask',
 witchy: '<strong>Release + Shed:</strong> Write one thing you need to let go of — a thought pattern, a fear, something you\'re gripping. Read it once. Burn it safely. Say: <em>I release this. It no longer serves me.</em> Saturday nights are for shedding.'
 }
 }
 };

 var MEAL_PLAN_START = new Date('2026-02-11T00:00:00');
 var MEAL_PLAN_DAYS = 14;
 function getMealPlanDay() {
 var today = new Date(); today.setHours(0,0,0,0);
 var diff = Math.floor((today - MEAL_PLAN_START) / 86400000);
 if (diff < 0) return 1;
 return (diff % MEAL_PLAN_DAYS) + 1;
 }
 function getMealPlanDayForViewing() {
 var today = new Date(); today.setHours(0,0,0,0);
 var dayOffset = currentViewingDay - today.getDay();
 var viewDate = new Date(today); viewDate.setDate(today.getDate() + dayOffset);
 var diff = Math.floor((viewDate - MEAL_PLAN_START) / 86400000);
 if (diff < 0) return 1;
 return (diff % MEAL_PLAN_DAYS) + 1;
 }
 var mealPlanData = {
 1:{b:{name:'Cacao Berry Smoothie Bowl',p:'42g protein - 420 cal'},l:{name:'Spicy Black Bean Quesadilla',p:'32g protein - 420 cal'},d:{name:'Lemon Garlic Chicken over Farro',p:'48g protein - 530 cal'}},
 2:{b:{name:'Strawberry-Honey Overnight Oats',p:'35g protein - 400 cal'},l:{name:'Chipotle Chicken Wrap',p:'42g protein - 460 cal'},d:{name:'Cauliflower Bolognese over Protein Spaghetti',p:'45g protein - 530 cal'}},
 3:{b:{name:'Egg Muffin Cups + Morning Shake',p:'38g protein - 380 cal'},l:{name:'Spicy Chicken & Black Bean Bowl',p:'44g protein - 490 cal'},d:{name:'The Melting Pot — Date Night!',p:'~30g protein'}},
 4:{b:{name:'Protein Yogurt Parfait',p:'30g protein - 350 cal'},l:{name:'Chipotle Chicken Wrap',p:'42g protein - 460 cal'},d:{name:'Spicy Turkey Enchiladas',p:'46g protein - 540 cal'}},
 5:{b:{name:'Kefir Berry Smoothie',p:'35g protein - 380 cal'},l:{name:'Lemony Chicken & Grain Bowl',p:'42g protein - 480 cal'},d:{name:'Ricotta & Spinach Stuffed Zucchini Boats',p:'42g protein - 480 cal'}},
 6:{b:{name:'Cacao Berry Smoothie Bowl',p:'42g protein - 420 cal'},l:{name:'Chicken Burrito Bowl',p:'43g protein - 480 cal'},d:{name:'Spicy Red Lentil & Cauliflower Stew + Chicken',p:'48g protein - 510 cal'}},
 7:{b:{name:'Cacao-Berry Overnight Oats',p:'44g protein - 430 cal'},l:{name:'Lemony Chicken & Grain Bowl',p:'42g protein - 480 cal'},d:{name:'Chicken Alfredo with Protein Pasta',p:'46g protein - 520 cal'}},
 8:{b:{name:'Egg Muffin Cups + Morning Shake',p:'38g protein - 380 cal'},l:{name:'Chicken Burrito Bowl',p:'43g protein - 480 cal'},d:{name:'Spicy Black Bean & Sweet Potato Bowl',p:'38g protein - 490 cal'}},
 9:{b:{name:'Kefir Berry Smoothie',p:'35g protein - 380 cal'},l:{name:'Turkey Taco Wrap',p:'40g protein - 450 cal'},d:{name:'Asian Garlic-Honey Chicken & Rice',p:'46g protein - 520 cal'}},
 10:{b:{name:'Protein Yogurt Parfait',p:'30g protein - 350 cal'},l:{name:'Spicy Chicken & Black Bean Bowl',p:'44g protein - 490 cal'},d:{name:'One-Pot Chipotle Chicken & Orzo',p:'48g protein - 520 cal'}},
 11:{b:{name:'Cacao Berry Smoothie Bowl',p:'42g protein - 420 cal'},l:{name:'Turkey Taco Wrap',p:'40g protein - 450 cal'},d:{name:'Spicy Turkey Enchiladas (Round 2)',p:'46g protein - 540 cal'}},
 12:{b:{name:'Mango-Coconut Overnight Oats',p:'35g protein - 410 cal'},l:{name:'White Bean & Spinach Soup',p:'38g protein - 420 cal'},d:{name:'Creamy Lemon Chicken & Farro',p:'48g protein - 530 cal'}},
 13:{b:{name:'Egg Muffin Cups + Morning Shake',p:'38g protein - 380 cal'},l:{name:'Chicken Burrito Bowl',p:'43g protein - 480 cal'},d:{name:'One-Pot Basil Chicken & Orzo in Marinara',p:'48g protein - 520 cal'}},
 14:{b:{name:'Kefir Berry Smoothie',p:'35g protein - 380 cal'},l:{name:'White Bean & Spinach Soup',p:'38g protein - 420 cal'},d:{name:'Chicken & Spinach Baked Pasta',p:'48g protein - 540 cal'}}
 };

 const defaultScheduleItems = {
 morning: [
 { id:'km1', time:'8:00 AM', title:'Morning Supplements', details:'• Wellbutrin\n• Life Extension Neuro-Mag (3 caps = 144mg Mg L-threonate)\n• Allergy pill - Kirkland (1 tab cetirizine or loratadine)\nTake with full glass of water on empty stomach' },
 { id:'km2', time:'8:05 AM', title:'Morning Skin Care (10 min)', details:'', dayContent:'morning.skincare' },
 { id:'km3', time:'8:15 AM', title:'Feed Wizzy & Moo, refresh water (10 min)', details:'' },
 { id:'km4', time:'8:25 AM', title:'ALTAR TIME (25 min) + 10000 Lux Light', details:'', dayContent:'morning.altar' },
 { id:'km5', time:'8:50 AM', title:'WORKOUT (30-45 min)', details:'', dayContent:'morning.workout' },
 { id:'km6', time:'~9:35 AM', title:'Breakfast + Morning Supplements', details:'', dayContent:'morning.breakfast' },
 { id:'km7', time:'10:00 AM', title:'Creatine + Prep to Leave', details:'Mix flavored creatine (5g) in water. Head out 10–10:30 AM' }
 ],
 daytime: [
 { id:'kd1', time:'10:30-1:30', title:'Pet Care Visits', details:'Client visits\nWalking between homes counts as steps' },
            { id:'kd2', time:'2:00-3:00 PM', title:'Lunch', details:'', dayContent:'daytime.lunch' },
 { id:'kd3', time:'3:00-7:00 PM', title:'Work Block', details:'Admin, bookings, client management\nSubliminals/music OK in background' },
 { id:'kd4', time:'5:00 PM', title:'Sunfiber (Optional Timing)', details:'Heather\'s Tummy Fiber (1-2 tsp in water)\nBest 2-3 hours before dinner' }
 ],
 evening: [
            { id:'ke1', time:'7:15 PM', title:'Dinner', details:'', dayContent:'evening.dinner' },
            { id:'ke2', time:'7:45 PM', title:'Evening Supplements + Kefir', details:'Take WITH dinner:\n• Doctor\'s Best Mag Glycinate (2 tablets = 200mg)\n• Renew Life Women\'s Probiotic 25B (1 cap)\n• Kefir 4-6 oz (side drink)' },
 { id:'ke3', time:'9:00 PM', title:'Red Light + Vibration Plate + Subliminals (15-20 min)', details:'' },
 { id:'ke3b', time:'9:15 PM', title:'Evening Witchy Practice (5-10 min)', details:'', dayContent:'evening.witchy' },
 { id:'ke4', time:'9:20 PM', title:'Evening Myofascial Release (5 min)', details:'Suboccipital release, thoracic extension, chest stretch, foam roll' },
 { id:'ke5', time:'9:25 PM', title:'Evening Skin Care (5-10 min)', details:'', dayContent:'evening.skincare' },
 { id:'ke6', time:'9:30 PM', title:'Dim Lights', details:'Lamps only. Night mode on screens. Wind down begins' },
 { id:'ke7', time:'10:30 PM', title:'Celexa + Bedtime Routine', details:'Take Celexa\nTeeth, wind down' },
 { id:'ke8', time:'11:00 PM', title:'Quetiapine + 4-7-8 Breathing + Lights Out', details:'Take Quetiapine\n4-7-8 breathing technique\nPhone face down or in another room\nTarget: 9 hours sleep (11 PM - 8 AM)' }
 ]
 };

 let scheduleData = JSON.parse(JSON.stringify(defaultScheduleItems));

 function loadScheduleData() {
 const saved = localStorage.getItem('scheduleData_kasey');
 if (saved) {
 try { scheduleData = JSON.parse(saved); } catch(e) {}
 }
 loadFromFirebase('scheduleData_kasey').then(function(data) {
 if (data && data.morning) {
 scheduleData = data;
 localStorage.setItem('scheduleData_kasey', JSON.stringify(scheduleData));
 renderDailySchedule();
 } else if (saved) {
 syncToFirebase('scheduleData_kasey', scheduleData);
 }
 });
 setupFirebaseListener('scheduleData_kasey', function(data) {
 if (data && data.morning) {
 scheduleData = data;
 localStorage.setItem('scheduleData_kasey', JSON.stringify(scheduleData));
 renderDailySchedule();
 }
 });
 }

 function saveScheduleData() {
 localStorage.setItem('scheduleData_kasey', JSON.stringify(scheduleData));
 syncToFirebase('scheduleData_kasey', scheduleData);
 }

 function changeDay(direction) {
 currentViewingDay += direction;
 if (currentViewingDay > 6) currentViewingDay = 0;
 if (currentViewingDay < 0) currentViewingDay = 6;
 renderDailySchedule();
 }

 function getDayContentHtml(key, day) {
 if (key === 'morning.skincare') return day.morning.skincare;
 if (key === 'evening.skincare') return day.evening.skincare;
 if (key === 'morning.breakfast' || key === 'daytime.lunch' || key === 'evening.dinner') {
 var pd = getMealPlanDayForViewing();
 var meals = mealPlanData[pd];
 if (!meals) return '<em style="color:#aaa;">No meal plan data for this date</em>';
 var m = key === 'morning.breakfast' ? meals.b : key === 'daytime.lunch' ? meals.l : meals.d;
 var h = '<div style="margin-bottom:6px;"><strong style="color:#b59197;font-size:0.95rem;">' + m.name + '</strong><br>';
 h += '<span style="color:#8a7a6d;font-size:0.82rem;">' + m.p + '</span></div>';
 if (key === 'morning.breakfast') {
 h += '<div style="padding:8px 10px;background:#faf8f6;border-left:3px solid #a3b899;font-size:0.82rem;color:#6b5a5e;margin-bottom:8px;">';
 h += '<strong>Take WITH breakfast:</strong><br>';
 h += 'Thorne Basic Nutrients 2/Day (1 cap)<br>';
 h += 'Sports Research Omega-3 (1-2 softgels)<br>';
 h += 'Jarrow QH-Absorb CoQ10 200mg (1 softgel)<br>';
 h += 'Nutricost Riboflavin 400mg (1 cap)';
 h += '</div>';
 }
 h += '<div style="margin-top:4px;"><a href="meal-plan.html" target="_blank" style="display:inline-block;background:#a3b899;color:#1c1c1c;text-decoration:none;padding:7px 16px;font-size:0.82rem;font-weight:600;font-family:inherit;cursor:pointer;">View Full Recipe</a> <span style="font-size:0.72rem;color:#aaa;margin-left:6px;">Day ' + pd + ' of 14</span></div>';
 return h;
 }
 if (key === 'morning.workout') {
 return '<button onclick="goToWorkout()" style="background: #a3b899; color: #1c1c1c; border: none; padding: 10px 24px; font-size: 0.9rem; font-weight: 600; font-family: inherit; cursor: pointer; margin: 4px 0;">Start Workout</button>';
 }
 if (key === 'morning.altar') {
 var html = '<strong>Step 1:</strong> Cyclic sighing (5 min)<br><em>Double inhale through nose (first full, second quick top-off), long slow exhale through mouth. Repeat.</em><br><br>';
 html += '<strong>Step 2:</strong> EFT tapping (7-8 min) - tap each point ~7 times<br>';
 if (day.morning.tapping) {
 html += '<div class="tapping-collapsible"><div class="tapping-header" onclick="this.parentElement.classList.toggle(\'active\')"><p class="tapping-header-text">View Today\'s Tapping Sequence</p><span class="tapping-arrow">&#9660;</span></div><div class="tapping-content">' + day.morning.tapping + '</div></div>';
 } else {
 html += '<em>See Resources tab for tapping guide & create your own sequence</em>';
 }
 html += '<br><strong>Step 3:</strong> Journaling (5-7 min)<br>';
 html += '<div style="margin-top: 8px; padding: 10px; background: #faf8f6; border-left: 3px solid #d4a5a5; font-style: italic;"><strong style="color: #b59197;">Today\'s prompt:</strong> ' + (day.morning.journalPrompt || '') + '</div>';
 html += '<br><strong>Step 4:</strong> Daily Witchy Practice (3-5 min)<br>';
 if (day.morning.witchy) {
 html += '<div style="margin-top: 8px; padding: 10px; background: rgba(109,138,94,0.08); border-left: 3px solid #8fa87a; font-style: italic;">' + day.morning.witchy + '</div>';
 }
 return html;
 }
 if (key === 'evening.witchy') {
 if (day.evening.witchy) {
 return '<div style="padding: 8px 10px; background: rgba(109,138,94,0.08); border-left: 3px solid #8fa87a; font-style: italic;">' + day.evening.witchy + '</div>';
 }
 return '<em>Check Spell Book > Daily Practice for today\'s evening working</em>';
 }
 return '';
 }

 function renderDailySchedule() {
 var day = weeklySchedule[currentViewingDay];
 var dayName = dayNames[currentViewingDay];
 var today = new Date();
 var dayOffset = currentViewingDay - today.getDay();
 var viewingDate = new Date(today);
 viewingDate.setDate(today.getDate() + dayOffset);
 var monthNames = ['January','February','March','April','May','June','July','August','September','October','November','December'];
 document.getElementById('currentDayDisplay').textContent = dayName + ', ' + monthNames[viewingDate.getMonth()] + ' ' + viewingDate.getDate();

 var container = document.getElementById('dailyScheduleContainer');

 function renderBlock(label, timeRange, items) {
 var h = '<div class="day-card"><div class="day-header" onclick="this.parentElement.classList.toggle(\'expanded\')"><div><div class="day-name"> ' + label + ' (' + timeRange + ')</div><div class="day-preview"></div></div><span class="arrow">&#9660;</span></div><div class="day-details">';
 items.forEach(function(item) {
 var details = '';
 if (item.dayContent) {
 details = getDayContentHtml(item.dayContent, day);
 } else {
 details = (item.details || '').replace(/\n/g, '<br>');
 }
 if (item.title.toLowerCase().indexOf('dinner prep') !== -1) {
 details = '<a href="meal-plan.html" style="display:inline-block;background:#a3b899;color:#1c1c1c;padding:8px 18px;text-decoration:none;font-weight:600;font-size:0.85rem;margin-bottom:6px;">View Tonight\'s Meal Plan</a>' + (details ? '<br>' + details : '');
 }
 h += '<div class="schedule-item"><span class="schedule-time">' + item.time + '</span><div class="schedule-content"><div class="schedule-title"> ' + item.title + '</div>';
 if (details) h += '<div class="schedule-details">' + details + '</div>';
 h += '</div></div>';
 });
 h += '</div></div>';
 return h;
 }

 container.innerHTML =
 renderBlock('Morning Routine', '8:00 AM - 10:30 AM', scheduleData.morning) +
 renderBlock('Daytime Routine', '10:30 AM - 7 PM', scheduleData.daytime) +
 renderBlock('Evening Routine', '7 PM - 11 PM', scheduleData.evening);
 }

 // ===== SPELL BOOK =====
 var correspondenceDB = [
 // ===== HERBS & PLANTS =====
 {id:'cor_herb_rosemary',category:'correspondence',subcat:'herb',title:'Rosemary',intent:'Protection, purification, memory, love, healing',materials:'Element: Fire',steps:'Burn as incense for cleansing a space. Add to bath water for purification. Hang above doorways for protection. Tuck under your pillow to ward off nightmares and improve memory. Add to sachets and spell jars for love or healing work.',notes:'One of the most versatile herbs in the craft. Can substitute for almost any herb in a pinch.'},
 {id:'cor_herb_lavender',category:'correspondence',subcat:'herb',title:'Lavender',intent:'Peace, calm, sleep, purification, love, happiness',materials:'Element: Air',steps:'Place in sachets under your pillow for restful sleep. Add to bath rituals for peace and calm. Burn dried lavender to cleanse a space gently. Use in love spells and happiness workings. Brew as tea for relaxation before divination.',notes:'Gentle but powerful. A staple for any witch focused on emotional healing and calm.'},
 {id:'cor_herb_basil',category:'correspondence',subcat:'herb',title:'Basil',intent:'Prosperity, abundance, protection, love, courage',materials:'Element: Fire',steps:'Place fresh basil in your wallet or cash register for money drawing. Add to meals with intention for prosperity (kitchen magic). Sprinkle dried basil around your home for protection. Carry in a sachet for courage before difficult situations.',notes:'One of the best herbs for money magic. Fresh basil on a windowsill protects the home.'},
 {id:'cor_herb_thyme',category:'correspondence',subcat:'herb',title:'Thyme',intent:'Courage, strength, healing, purification, psychic ability',materials:'Element: Water',steps:'Burn before rituals to boost courage. Place under your pillow for restful sleep and to prevent nightmares. Add to healing spell jars. Carry a sprig when you need extra bravery. Brew as tea before divination to open psychic channels.',notes:'Associated with faerie magic in Celtic traditions. Wearing thyme was said to allow you to see the fae.'},
 {id:'cor_herb_chamomile',category:'correspondence',subcat:'herb',title:'Chamomile',intent:'Luck, money, sleep, calm, purification',materials:'Element: Water',steps:'Brew as tea and add to floor washes for luck and money drawing. Add to bath water for calm before important events. Sprinkle around the home for peaceful energy. Use in sleep sachets. Wash your hands in chamomile tea before gambling or risky ventures.',notes:'A gentle, solar herb. Great for easing anxiety before spellwork.'},
 {id:'cor_herb_cinnamon',category:'correspondence',subcat:'herb',title:'Cinnamon',intent:'Success, power, prosperity, protection, passion, speed',materials:'Element: Fire',steps:'Add to any spell to speed it up and amplify it. Blow cinnamon powder through your front door on the first of the month for prosperity. Add sticks to money spell jars. Burn as incense for protection and to raise energy. Use in passion and love workings.',notes:'One of the strongest amplifiers in the craft. A little goes a long way.'},
 {id:'cor_herb_bayleaf',category:'correspondence',subcat:'herb',title:'Bay Leaf',intent:'Wishes, protection, success, wisdom, psychic power',materials:'Element: Fire',steps:'Write a wish or intention on a dried bay leaf and burn it to release it. Place in corners of a room for protection. Add to success spell jars. Burn before divination to enhance psychic ability. Tuck into your wallet for financial blessings.',notes:'Simple and effective. Bay leaf burning is one of the most accessible beginner practices.'},
 {id:'cor_herb_mint',category:'correspondence',subcat:'herb',title:'Mint (Peppermint / Spearmint)',intent:'Money, healing, travel protection, energy, communication',materials:'Element: Air',steps:'Add to money spells and prosperity sachets. Brew as tea to aid communication and clarity before difficult conversations. Place in luggage for travel protection. Burn for healing energy. Rub fresh mint leaves on your wallet.',notes:'Spearmint is gentler and better for healing. Peppermint is more energizing and stimulating for spellwork.'},
 {id:'cor_herb_mugwort',category:'correspondence',subcat:'herb',title:'Mugwort',intent:'Psychic ability, prophetic dreams, astral travel, protection, divination',materials:'Element: Earth',steps:'Place under your pillow or in a dream sachet for vivid, prophetic dreams. Burn as incense before divination or tarot readings. Add to bath water for psychic cleansing. Make into a tea (small amounts) before scrying. Hang above doors for protection.',notes:'The quintessential witch herb. Use sparingly — it is potent. Avoid if pregnant.'},
 {id:'cor_herb_rose',category:'correspondence',subcat:'herb',title:'Rose Petals',intent:'Love, self-love, beauty, healing heartbreak, friendship, divination',materials:'Element: Water',steps:'Add to bath rituals for self-love and beauty. Scatter in love spells or use in spell jars. Brew rose petal tea for heart healing. Place on your altar during love or friendship workings. Different colors carry different meanings — red for passion, pink for gentle love, white for purity.',notes:'Roses are sacred to many love goddesses. Rose water is an easy way to incorporate rose magic daily.'},
 {id:'cor_herb_gardensage',category:'correspondence',subcat:'herb',title:'Garden Sage (Salvia officinalis)',intent:'Wisdom, purification, longevity, protection, clarity',materials:'Element: Air',steps:'Burn dried garden sage to cleanse and purify spaces — this is the European tradition of smoke cleansing, distinct from indigenous smudging practices. Add to wisdom and clarity workings. Brew as tea for sore throats and mental clarity. Carry for protection.',notes:'Garden sage (common sage) is an open-practice alternative for smoke cleansing. It has a long history in European folk magic.'},
 {id:'cor_herb_clover',category:'correspondence',subcat:'herb',title:'Clover',intent:'Luck, money, protection, love, fidelity',materials:'Element: Air',steps:'Carry a four-leaf clover for luck (obviously). Add to money and luck sachets. Place in your shoe for safe travel. Use in fidelity spells. Press and keep in your Book of Shadows for ongoing blessings.',notes:'Three-leaf clovers represent the triple goddess. Four-leaf clovers add a fourth element of luck.'},
 {id:'cor_herb_dandelion',category:'correspondence',subcat:'herb',title:'Dandelion',intent:'Wishes, divination, spirit communication, resilience, transformation',materials:'Element: Air',steps:'Blow the seeds while making a wish. Brew dandelion root tea before divination or spirit work. Place flowers on your altar for solar energy. Use the root in workings for resilience and pushing through difficult times.',notes:'Dandelions grow through concrete — their magic is about persistence and thriving despite conditions.'},
 {id:'cor_herb_elderflower',category:'correspondence',subcat:'herb',title:'Elderflower',intent:'Protection, healing, faerie magic, prosperity, sleep',materials:'Element: Water',steps:'Place elderflowers on your altar for fae-friendly workings. Add to healing sachets. Brew as tea for immune support and gentle protection magic. Plant elder near your home for household protection. Use in prosperity workings.',notes:'Elder has deep roots in Celtic and European folk magic. Always ask permission before harvesting from an elder tree.'},
 {id:'cor_herb_calendula',category:'correspondence',subcat:'herb',title:'Calendula (Marigold)',intent:'Protection, prophetic dreams, legal matters, psychic power, comfort',materials:'Element: Fire',steps:'Place under your pillow for prophetic dreams. Add to bath water for comfort and warmth. Scatter petals around your home for protection. Use in court case and legal workings. Add to sachets for psychic development.',notes:'A solar flower — works best when gathered at noon. Associated with honoring the dead in many European traditions.'},
 {id:'cor_herb_yarrow',category:'correspondence',subcat:'herb',title:'Yarrow',intent:'Courage, love, psychic power, protection, divination',materials:'Element: Water',steps:'Hold during divination to enhance accuracy. Brew as tea before tarot or scrying sessions. Carry for courage and to draw love. Hang above the bed for lasting love. Add to protection sachets and spell bottles.',notes:'Traditionally used in I Ching divination. Also known as the witches herb in European folk practice.'},
 {id:'cor_herb_nettle',category:'correspondence',subcat:'herb',title:'Nettle',intent:'Protection, healing, boundary setting, courage, hex breaking',materials:'Element: Fire',steps:'Carry in a sachet for strong protection. Add to spell jars for boundary work — nettle teaches things to stay away. Use in healing teas (dried or cooked only). Sprinkle around your property to ward off negativity. Use in hex-breaking or reversal work.',notes:'Nettle stings when fresh — magically this translates to keeping harm away. Excellent for protection when you need teeth behind it.'},
 {id:'cor_herb_lemonbalm',category:'correspondence',subcat:'herb',title:'Lemon Balm',intent:'Love, success, healing, anxiety relief, spiritual connection',materials:'Element: Water',steps:'Brew as tea to calm anxiety before rituals. Add to love and success workings. Carry for emotional healing. Use in bath magic for soothing and uplifting energy. Place on altar during workings focused on joy and lightness.',notes:'A member of the mint family. Its gentle lemon scent makes it wonderful for uplifting kitchen magic.'},
 {id:'cor_herb_parsley',category:'correspondence',subcat:'herb',title:'Parsley',intent:'Protection, purification, communication with spirits, vitality',materials:'Element: Air',steps:'Add to meals with intention for vitality and protection. Use in purification baths. Place on plates of food left as offerings. Carry for protection during spirit communication work.',notes:'Common in kitchen witchcraft. Ancient Greeks associated it with death and rebirth.'},
 {id:'cor_herb_valerian',category:'correspondence',subcat:'herb',title:'Valerian Root',intent:'Sleep, protection, purification, love, harmony in the home',materials:'Element: Water',steps:'Place in sleep sachets for deep rest. Add to purification baths. Hang in the home for harmony between household members. Use in workings to calm conflict and bring peace. Brew as tea for relaxation (potent — use small amounts).',notes:'Strong smell but powerful magic. Cats are attracted to it similarly to catnip.'},
 {id:'cor_herb_star_anise',category:'correspondence',subcat:'herb',title:'Star Anise',intent:'Psychic power, luck, protection, divination, ward off evil eye',materials:'Element: Air',steps:'Place on your altar during divination. Burn as incense for psychic development. Carry as a lucky charm. Place above doorways to ward off negative energy and the evil eye. Add to dream pillows for prophetic dreams.',notes:'The star shape makes it a natural symbol of the five elements. Beautiful addition to spell jars.'},
 {id:'cor_herb_ginger',category:'correspondence',subcat:'herb',title:'Ginger',intent:'Power, success, money, love, energy, speed',materials:'Element: Fire',steps:'Add to any spell to give it a power boost. Use in money and success workings. Chew a small piece before spellwork to raise personal energy. Add to love spells for passion and heat. Include in spell jars for fast results.',notes:'Like cinnamon, ginger is an amplifier. It heats up and speeds up whatever you add it to.'},
 
 // ===== CRYSTALS & STONES =====
 {id:'cor_crystal_clearquartz',category:'correspondence',subcat:'crystal',title:'Clear Quartz',intent:'Amplification, clarity, programmability, healing, energy',materials:'Element: All / Spirit',steps:'Program it by holding it and stating your intention — clear quartz takes on whatever purpose you give it. Place on your altar to amplify other crystals and spellwork. Use as a pendulum for divination. Carry for mental clarity. Place in window for cleansing and charging.',notes:'The universal crystal. Can substitute for any other crystal in a pinch, just like rosemary for herbs.'},
 {id:'cor_crystal_amethyst',category:'correspondence',subcat:'crystal',title:'Amethyst',intent:'Intuition, psychic ability, calm, protection, sobriety, spiritual growth',materials:'Element: Water / Air',steps:'Place under your pillow for psychic dreams and restful sleep. Hold during meditation to deepen your practice. Place near your workspace to stay calm and focused. Carry for protection against negative energy. Use during divination to sharpen intuition.',notes:'One of the most popular witchcraft crystals. Name comes from the Greek word for sober — traditionally wards against intoxication and clouded judgment.'},
 {id:'cor_crystal_rosequartz',category:'correspondence',subcat:'crystal',title:'Rose Quartz',intent:'Love, self-love, emotional healing, compassion, friendship, peace',materials:'Element: Water',steps:'Place over your heart during meditation for emotional healing. Keep on your nightstand or in your bedroom for loving energy. Carry when you need self-compassion. Add to bath rituals. Use in any love-related spellwork — especially self-love.',notes:'The stone of unconditional love. Start with self-love workings before using it for romantic attraction.'},
 {id:'cor_crystal_blacktourmaline',category:'correspondence',subcat:'crystal',title:'Black Tourmaline',intent:'Protection, grounding, absorbing negativity, shielding, boundaries',materials:'Element: Earth',steps:'Place by your front door to protect your home. Carry in your pocket when around draining people. Hold when feeling anxious or ungrounded. Place at the four corners of your home for a protection grid. Keep at your desk to absorb stress.',notes:'One of the strongest protection stones. Does not need frequent cleansing but benefits from moonlight recharging.'},
 {id:'cor_crystal_citrine',category:'correspondence',subcat:'crystal',title:'Citrine',intent:'Abundance, confidence, joy, manifestation, personal power, creativity',materials:'Element: Fire',steps:'Place in your wallet, cash register, or prosperity corner for money drawing. Carry when you need a confidence boost. Use in manifestation rituals. Place on your solar plexus during meditation. Keep on your desk for creative energy.',notes:'Known as the merchant stone. One of the few crystals said to not hold negative energy. Natural citrine is pale — deep orange citrine is usually heat-treated amethyst (still works, just know what you have).'},
 {id:'cor_crystal_moonstone',category:'correspondence',subcat:'crystal',title:'Moonstone',intent:'Intuition, feminine energy, new beginnings, moon magic, emotional balance',materials:'Element: Water',steps:'Wear or carry during the full moon to amplify moon magic. Hold during divination for stronger intuition. Place on your altar during lunar rituals. Carry during times of change and new beginnings. Use in workings related to cycles and feminine power.',notes:'Deeply connected to lunar energy. Charge under the full moon for maximum potency.'},
 {id:'cor_crystal_labradorite',category:'correspondence',subcat:'crystal',title:'Labradorite',intent:'Transformation, psychic protection, intuition, magic amplification, change',materials:'Element: Water / Air',steps:'Carry during times of major life changes. Use during divination and psychic work for protection and clarity. Place on your third eye during meditation. Keep on your altar to amplify the magic of your workings. Wear as jewelry for daily psychic shielding.',notes:'Often called the witches stone. Its flash (labradorescence) is said to contain trapped aurora borealis light.'},
 {id:'cor_crystal_obsidian',category:'correspondence',subcat:'crystal',title:'Obsidian (Black)',intent:'Protection, truth, grounding, shadow work, cord cutting, scrying',materials:'Element: Fire / Earth',steps:'Use an obsidian mirror or sphere for scrying. Carry for intense protection. Use in shadow work rituals to confront difficult truths. Hold during cord-cutting meditations. Place near your bed for psychic protection during sleep.',notes:'Obsidian is volcanic glass — its energy is intense and direct. Not a gentle stone. Best for witches comfortable with deep inner work.'},
 {id:'cor_crystal_carnelian',category:'correspondence',subcat:'crystal',title:'Carnelian',intent:'Courage, motivation, creativity, sexuality, vitality, confidence',materials:'Element: Fire',steps:'Carry when you need motivation and drive. Place on your sacral chakra during meditation for creative and sexual energy. Use in workings for courage before big moments. Keep on your desk for sustained creative flow. Add to spell bags for confidence.',notes:'An energizing stone. Ancient Egyptians called it the stone of the setting sun.'},
 {id:'cor_crystal_selenite',category:'correspondence',subcat:'crystal',title:'Selenite',intent:'Cleansing, charging, clarity, spiritual connection, peace, high vibration',materials:'Element: Spirit / Air',steps:'Place other crystals on a selenite plate to cleanse and charge them. Wave a selenite wand around your body to clear your aura. Place in windowsills for peaceful, high-vibration energy. Use to open a circle or sacred space. Keep on your altar as a permanent cleansing presence.',notes:'Named after Selene, the moon goddess. Do NOT get it wet — it will dissolve. One of the few self-cleansing stones.'},
 {id:'cor_crystal_tigereye',category:'correspondence',subcat:'crystal',title:'Tiger\'s Eye',intent:'Courage, willpower, confidence, prosperity, protection, grounding',materials:'Element: Fire / Earth',steps:'Carry when facing fears or confrontation. Place in your workspace for focused willpower. Use in prosperity workings alongside citrine. Hold during grounding meditation. Keep in your car for travel protection.',notes:'Combines the energy of the sun and earth. Good for people who tend to be ungrounded or indecisive.'},
 {id:'cor_crystal_pyrite',category:'correspondence',subcat:'crystal',title:'Pyrite',intent:'Abundance, protection, confidence, manifestation, willpower, shielding',materials:'Element: Fire / Earth',steps:'Place on your desk or in your workspace for abundance energy. Carry when you need to feel strong and shielded. Add to prosperity spell jars. Meditate with it on your solar plexus for confidence. Keep near your front door for energetic protection.',notes:'Fool\'s gold — but there is nothing foolish about it. A strong masculine-energy stone that shields while attracting wealth.'},
 {id:'cor_crystal_aventurine',category:'correspondence',subcat:'crystal',title:'Green Aventurine',intent:'Luck, prosperity, opportunity, heart healing, growth, optimism',materials:'Element: Earth',steps:'Carry when you need luck — job interviews, first dates, big meetings. Place in your wallet for money drawing. Hold over your heart during meditation for emotional healing. Use in workings for new opportunities. Keep in your garden to encourage plant growth.',notes:'Known as the stone of opportunity. Said to be the luckiest of all crystals.'},
 {id:'cor_crystal_lapislazuli',category:'correspondence',subcat:'crystal',title:'Lapis Lazuli',intent:'Truth, wisdom, communication, intuition, inner power, royalty',materials:'Element: Water / Air',steps:'Wear at your throat for honest, powerful communication. Hold during meditation for deep wisdom and self-awareness. Use in workings for truth-telling and seeing through deception. Place on your third eye for intuitive insight. Keep on your altar for spiritual development.',notes:'Used by ancient Egyptians and prized for millennia. A stone of royalty and spiritual mastery.'},
 {id:'cor_crystal_smokyquartz',category:'correspondence',subcat:'crystal',title:'Smoky Quartz',intent:'Grounding, protection, releasing negativity, stress relief, transmutation',materials:'Element: Earth',steps:'Hold when feeling anxious or overwhelmed — it absorbs and transmutes negative energy. Place at the base of your spine during meditation for grounding. Keep in your living space for ongoing stress relief. Use in releasing rituals and banishing work. Carry during grief or heavy emotional periods.',notes:'One of the best stones for transmuting negative energy into something usable. Gentle but effective.'},
 {id:'cor_crystal_fluorite',category:'correspondence',subcat:'crystal',title:'Fluorite',intent:'Focus, mental clarity, decision making, organization, psychic protection',materials:'Element: Air',steps:'Place on your desk when studying or working on complex problems. Hold when you feel scattered or overwhelmed with choices. Use during divination for clearer messages. Carry when you need to think straight. Different colors add nuance — purple for psychic work, green for heart healing.',notes:'Called the genius stone. Excellent for ADHD witches who need help with focus and mental organization.'},
 
 // ===== COLORS =====
 {id:'cor_color_white',category:'correspondence',subcat:'color',title:'White',intent:'Purity, cleansing, peace, truth, new beginnings, spirit communication',materials:'Element: Spirit / All',steps:'Use white candles as an all-purpose substitute for any color. Burn for cleansing, peace, and purification rituals. Wear white when seeking clarity and truth. Use white altar cloths for new beginnings and fresh starts.',notes:'The universal candle color. If you only have one color, white works for everything.'},
 {id:'cor_color_black',category:'correspondence',subcat:'color',title:'Black',intent:'Protection, banishing, binding, absorbing negativity, boundaries, endings',materials:'Element: Earth / Water',steps:'Burn black candles for protection and banishing spells. Use in cord-cutting rituals. Wear black for energetic shielding. Place black crystals or fabric at your front door for protection. Use in shadow work.',notes:'Black is not evil or negative — it absorbs and protects. One of the most important colors in the craft.'},
 {id:'cor_color_red',category:'correspondence',subcat:'color',title:'Red',intent:'Passion, courage, strength, sexual energy, willpower, survival, action',materials:'Element: Fire',steps:'Burn red candles for passion and courage workings. Use in love spells focused on desire and physical attraction. Wear red when you need strength and boldness. Use in workings requiring fast, fiery action.',notes:'The color of blood and life force. Very direct, very physical energy.'},
 {id:'cor_color_pink',category:'correspondence',subcat:'color',title:'Pink',intent:'Gentle love, self-love, friendship, emotional healing, compassion, nurturing',materials:'Element: Water',steps:'Burn pink candles for self-love rituals. Use in friendship and gentle romance workings. Wear pink for self-compassion and softness. Combine with rose quartz for heart-healing spells.',notes:'Where red is passionate, pink is tender. Best for emotional and self-love work.'},
 {id:'cor_color_green',category:'correspondence',subcat:'color',title:'Green',intent:'Money, prosperity, growth, fertility, abundance, health, nature magic',materials:'Element: Earth',steps:'Burn green candles for money and prosperity spells. Use in health and healing workings. Wear green for financial meetings or abundance intentions. Place green items in your prosperity corner. Use for garden and plant magic.',notes:'The color of growth in every sense — financial, physical, personal.'},
 {id:'cor_color_blue',category:'correspondence',subcat:'color',title:'Blue',intent:'Communication, peace, truth, wisdom, patience, healing, dream work',materials:'Element: Water',steps:'Burn blue candles for calm and peace in your home. Use in communication and truth spells. Wear blue for important conversations. Use in dream work and sleep rituals. Light blue for peace, dark blue for wisdom and deeper truth.',notes:'A calming, cooling color. Good for de-escalating heated situations magically.'},
 {id:'cor_color_purple',category:'correspondence',subcat:'color',title:'Purple',intent:'Psychic power, spiritual growth, wisdom, divination, royalty, ambition',materials:'Element: Spirit / Water',steps:'Burn purple candles for psychic development and divination. Use in workings for spiritual growth and higher wisdom. Wear purple for intuition and third eye activation. Use during meditation and astral work.',notes:'Historically the color of royalty and spiritual authority. Excellent for witches developing their psychic gifts.'},
 {id:'cor_color_yellow',category:'correspondence',subcat:'color',title:'Yellow',intent:'Joy, confidence, intellect, creativity, communication, clarity, solar energy',materials:'Element: Air',steps:'Burn yellow candles for confidence and creative workings. Use in study and learning spells. Wear yellow for optimism and charisma. Use in solar rituals and workings done during the day.',notes:'Bright, cheerful, solar energy. Good for overcoming depression and mental fog.'},
 {id:'cor_color_orange',category:'correspondence',subcat:'color',title:'Orange',intent:'Success, attraction, energy, creativity, opportunity, celebration, vitality',materials:'Element: Fire',steps:'Burn orange candles for career success and creative projects. Use in attraction spells (opportunities, not just love). Wear orange for energy and enthusiasm. Combine with cinnamon for amplified success magic.',notes:'A blend of red passion and yellow intellect. Great for career and creative pursuits.'},
 {id:'cor_color_gold',category:'correspondence',subcat:'color',title:'Gold',intent:'Wealth, success, masculine energy, solar power, achievement, abundance',materials:'Element: Fire',steps:'Use gold candles or gold items in wealth and success workings. Add gold ribbon or glitter to prosperity spell jars. Use in solar rituals and workings for achievement. Place gold coins on your altar for abundance.',notes:'The color of the sun and material success. More specific to financial goals than green.'},
 {id:'cor_color_silver',category:'correspondence',subcat:'color',title:'Silver',intent:'Moon magic, intuition, feminine energy, dreams, reflection, psychic ability',materials:'Element: Water',steps:'Use silver candles for moon rituals. Add silver items to dream and divination workings. Wear silver jewelry for intuitive protection. Use in workings during the full moon. Combine with moonstone for amplified lunar magic.',notes:'The color of the moon. Pair with lunar phases for maximum effect.'},
 {id:'cor_color_brown',category:'correspondence',subcat:'color',title:'Brown',intent:'Grounding, stability, home, animals, earth magic, endurance, practical matters',materials:'Element: Earth',steps:'Burn brown candles for grounding and stability. Use in workings related to your home, pets, or practical goals. Wear brown for earth connection and steadiness. Use in animal blessing rituals.',notes:'Often overlooked but incredibly useful. The most grounded, practical color in magic.'},
 
 // ===== DAYS OF THE WEEK =====
 {id:'cor_day_monday',category:'correspondence',subcat:'day',title:'Monday',intent:'Moon magic, intuition, emotions, dreams, feminine energy, fertility, psychic work',materials:'Planetary ruler: Moon',steps:'Best day for: divination, dream work, emotional healing, psychic development, moon rituals, self-care, fertility and family workings. Use silver and white candles. Work with moonstone and selenite. Honor lunar deities.',notes:'Named for the Moon. Energy is reflective and inward — good for inner work rather than outward action.'},
 {id:'cor_day_tuesday',category:'correspondence',subcat:'day',title:'Tuesday',intent:'Courage, strength, conflict resolution, protection, competition, passion',materials:'Planetary ruler: Mars',steps:'Best day for: protection spells, banishing, courage workings, standing up for yourself, competitive situations, physical strength, overcoming obstacles. Use red candles. Work with carnelian and garnet.',notes:'Named for Tyr/Mars. Fiery, assertive energy. Good for spells that need force behind them.'},
 {id:'cor_day_wednesday',category:'correspondence',subcat:'day',title:'Wednesday',intent:'Communication, travel, intellect, wisdom, divination, writing, technology',materials:'Planetary ruler: Mercury',steps:'Best day for: communication spells, writing projects, study and learning, travel protection, tech-related workings, sending messages and petitions, divination. Use yellow and purple candles. Work with fluorite and aventurine.',notes:'Named for Woden/Mercury. Fast-moving energy. Good day for anything requiring mental agility.'},
 {id:'cor_day_thursday',category:'correspondence',subcat:'day',title:'Thursday',intent:'Prosperity, abundance, luck, expansion, generosity, legal matters, growth',materials:'Planetary ruler: Jupiter',steps:'Best day for: money and prosperity spells, job workings, business success, legal matters, expansion of any kind, luck and opportunity. Use green and royal blue candles. Work with citrine and aventurine.',notes:'Named for Thor/Jupiter. Expansive, generous energy. The best day of the week for prosperity magic.'},
 {id:'cor_day_friday',category:'correspondence',subcat:'day',title:'Friday',intent:'Love, beauty, romance, friendship, self-love, pleasure, art, harmony',materials:'Planetary ruler: Venus',steps:'Best day for: love spells, self-love rituals, beauty magic, friendship workings, artistic projects, harmony in relationships, pleasure and enjoyment. Use pink and green candles. Work with rose quartz and copper.',notes:'Named for Freya/Venus. Soft, loving energy. The ideal day for any love or beauty working.'},
 {id:'cor_day_saturday',category:'correspondence',subcat:'day',title:'Saturday',intent:'Protection, banishing, binding, boundaries, endings, discipline, spirit work',materials:'Planetary ruler: Saturn',steps:'Best day for: banishing and binding spells, protection work, ending bad habits, setting firm boundaries, spirit communication, ancestor work, long-term discipline. Use black candles. Work with obsidian and black tourmaline.',notes:'Named for Saturn. Heavy, serious energy. Best for the hard but necessary work — endings, limits, and deep protection.'},
 {id:'cor_day_sunday',category:'correspondence',subcat:'day',title:'Sunday',intent:'Success, vitality, power, healing, joy, confidence, new projects, leadership',materials:'Planetary ruler: Sun',steps:'Best day for: success spells, healing rituals, starting new projects, confidence workings, leadership, personal power, celebrations, and solar magic. Use gold and yellow candles. Work with citrine and sunstone.',notes:'Named for the Sun. Bright, powerful energy. Good for workings that need to shine and be seen.'},
 
 // ===== ELEMENTS =====
 {id:'cor_elem_earth',category:'correspondence',subcat:'element',title:'Earth',intent:'Grounding, stability, prosperity, fertility, home, physical body, abundance',materials:'Direction: North | Tools: Pentacle, salt, stones, soil, coins',steps:'Call Earth in the north when casting a circle. Use salt, soil, stones, and herbs as physical representations. Ground before and after spellwork by pressing your hands to the earth. Work with Earth for money, home, health, and material goals. Bury spell remains in the earth to release them.',notes:'Represents the physical world and the body. Slowest element — its magic builds over time but lasts.'},
 {id:'cor_elem_air',category:'correspondence',subcat:'element',title:'Air',intent:'Communication, intellect, clarity, travel, new beginnings, inspiration, truth',materials:'Direction: East | Tools: Wand, incense, feathers, bells, breath',steps:'Call Air in the east when casting a circle. Use incense smoke, feathers, and wind as representations. Work with Air for communication, study, travel, and mental clarity. Speak spells aloud to activate Air energy. Ring a bell to cleanse a space with Air.',notes:'Represents the mind and thought. Fast-moving energy — good for spells needing quick results.'},
 {id:'cor_elem_fire',category:'correspondence',subcat:'element',title:'Fire',intent:'Passion, transformation, courage, willpower, destruction of the old, energy, action',materials:'Direction: South | Tools: Athame, candles, flames, sunlight',steps:'Call Fire in the south when casting a circle. Use candles, bonfires, and sunlight as representations. Burn spell papers and herbs to release intentions through Fire. Work with Fire for passion, courage, and transformation. Practice candle magic as the most direct Fire working.',notes:'Represents will and transformation. Destructive and creative simultaneously — burns away the old to make room for the new.'},
 {id:'cor_elem_water',category:'correspondence',subcat:'element',title:'Water',intent:'Emotions, intuition, healing, love, purification, psychic ability, flow',materials:'Direction: West | Tools: Chalice, water, seashells, mirrors, moon water',steps:'Call Water in the west when casting a circle. Use bowls of water, seashells, and mirrors as representations. Make moon water by leaving water under the full moon. Work with Water for emotional healing, love, and psychic development. Add charged water to baths for ritual cleansing.',notes:'Represents emotions and the subconscious. Flows around obstacles rather than through them — work with it for flexibility.'},
 {id:'cor_elem_spirit',category:'correspondence',subcat:'element',title:'Spirit (Aether)',intent:'Connection, divine energy, unity, transcendence, higher self, the whole',materials:'Direction: Center | Tools: Your own energy, meditation, breath',steps:'Spirit is present in all the other elements and in you. Access it through meditation, breathwork, and intentional stillness. Spirit does not need external tools — you are the tool. Call Spirit at the center when casting a circle. Work with Spirit for connection to the divine and your highest self.',notes:'The fifth element that binds the other four. Not something you manipulate — something you align with.'},
 
 // ===== INCENSE & RESINS =====
 {id:'cor_incense_frankincense',category:'correspondence',subcat:'incense',title:'Frankincense',intent:'Purification, protection, spiritual connection, consecration, meditation, blessing',materials:'Element: Fire / Spirit',steps:'Burn on charcoal discs for deep purification of ritual spaces. Use before meditation to create sacred atmosphere. Add to protection and blessing workings. Burn when consecrating new tools. Mix with myrrh for powerful cleansing.',notes:'One of the oldest ceremonial resins. Used across many open traditions for thousands of years. The gold standard for spiritual cleansing.'},
 {id:'cor_incense_myrrh',category:'correspondence',subcat:'incense',title:'Myrrh',intent:'Protection, healing, spiritual depth, grief, transformation, banishing',materials:'Element: Water',steps:'Burn on charcoal for protection and healing rituals. Use in workings for grief and letting go. Combine with frankincense for balanced purification. Burn during spirit communication for protection. Add to healing spell blends.',notes:'Heavier and more grounding than frankincense. Traditionally associated with death, rebirth, and deep transformation.'},
 {id:'cor_incense_dragonsblood',category:'correspondence',subcat:'incense',title:'Dragon\'s Blood',intent:'Power, protection, amplification, love, banishing, potency',materials:'Element: Fire',steps:'Add to any incense blend to amplify its power. Burn for strong protection — this is heavy-duty shielding. Use in love spells for intensity. Burn to banish negativity. Add resin pieces to spell jars for amplified energy.',notes:'A resin from the Dracaena tree, not an animal product. One of the most powerful amplifiers available. A little goes a long way.'},
 {id:'cor_incense_sandalwood',category:'correspondence',subcat:'incense',title:'Sandalwood',intent:'Meditation, spiritual awareness, healing, peace, wishes, protection',materials:'Element: Water / Air',steps:'Burn during meditation for deeper spiritual connection. Use in healing rituals. Write wishes on sandalwood chips and burn them. Add to peace and calm workings. Burn to create a serene, sacred atmosphere for any ritual.',notes:'Sweet, warm, and grounding. One of the most pleasant ritual scents. Sourced sustainably when possible — Australian sandalwood is a good alternative to overharvested Indian sandalwood.'},
 {id:'cor_incense_patchouli',category:'correspondence',subcat:'incense',title:'Patchouli',intent:'Money, prosperity, grounding, fertility, love, earth magic',materials:'Element: Earth',steps:'Burn for money and prosperity spells. Use in grounding rituals. Add to love and fertility workings. Burn to connect with earth energy. Combine with cinnamon for strong prosperity incense.',notes:'Very earthy and divisive — people love it or hate it. Excellent for prosperity work. Associated with the earth element more than almost any other incense.'},
 {id:'cor_incense_copal',category:'correspondence',subcat:'incense',title:'Copal',intent:'Purification, cleansing, protection, spiritual connection, creativity',materials:'Element: Fire / Spirit',steps:'Burn on charcoal for purification — a bright, clean energy. Use to cleanse crystals and tools. Burn before creative workings for inspiration. Use for spiritual connection and prayer. Good alternative to other cleansing resins.',notes:'A younger resin than amber but similar in origin. Light and uplifting energy. Widely used in open European and eclectic traditions.'},
 {id:'cor_incense_cedar',category:'correspondence',subcat:'incense',title:'Cedar',intent:'Purification, protection, healing, prosperity, grounding, wisdom',materials:'Element: Fire / Earth',steps:'Burn cedar chips or incense for smoke cleansing — a widely accessible open-practice option. Use for healing and recovery workings. Place cedar chips in sachets for protection. Burn to connect with wisdom and grounding energy. Add to prosperity blends.',notes:'Cedar has been used in European and many open traditions for smoke cleansing. A good all-purpose cleansing and protection wood.'},
 {id:'cor_incense_pine',category:'correspondence',subcat:'incense',title:'Pine',intent:'Purification, healing, fertility, money, protection, return to sender',materials:'Element: Air / Earth',steps:'Burn pine needles or resin for cleansing. Scatter pine needles around your home for protection. Use in healing and money workings. Burn to send negativity back to its source. Add to winter and Yule rituals.',notes:'A clean, bright scent associated with resilience and endurance. Pine grows in harsh conditions — its magic is about thriving despite adversity.'},
 {id:'cor_incense_juniper',category:'correspondence',subcat:'incense',title:'Juniper',intent:'Protection, purification, health, anti-theft, love, banishing',materials:'Element: Fire',steps:'Burn juniper berries or wood for strong protective cleansing. Hang juniper sprigs above doors for protection. Use in health and healing workings. Carry juniper berries for safety during travel. Burn to banish negative energy.',notes:'One of the oldest purification plants in European folk magic. Juniper smoke was used during plague times for cleansing.'},
 {id:'cor_incense_rosemary_inc',category:'correspondence',subcat:'incense',title:'Rosemary (as incense)',intent:'Purification, protection, memory, love, mental clarity',materials:'Element: Fire',steps:'Burn dried rosemary bundles as an accessible smoke cleansing alternative. Use the smoke to purify ritual tools. Burn before study or intellectual work for clarity. Use in protection and love rituals. Rosemary smoke is clean and herbal.',notes:'If you can only grow one herb for your practice, make it rosemary. Works as incense, herb, and cleansing tool all in one.'},
 
 // ===== NATURAL ITEMS & CURIOS =====
 {id:'cor_natural_acorn',category:'correspondence',subcat:'natural',title:'Acorn',intent:'Potential, growth, strength, prosperity, wisdom, luck, youth',materials:'Element: Earth',steps:'Place on your altar or windowsill for good luck and prosperity. Carry for personal strength and growth potential. Add to spell jars focused on long-term goals — an acorn becomes an oak. Bury with an intention to grow something over time. Place in a bowl by your door for household protection.',notes:'A symbol of potential — everything you need is already inside you. Sacred to the oak in Celtic traditions.'},
 {id:'cor_natural_pumpkin',category:'correspondence',subcat:'natural',title:'Pumpkin',intent:'Prosperity, abundance, protection, harvest magic, fertility, divination',materials:'Element: Earth',steps:'Carve with sigils or intentions for protection (not just at Halloween). Use the seeds in prosperity workings. Cook pumpkin with intention for abundance kitchen magic. Place on your altar during autumn for harvest blessings. Dry and save seeds for planting spells.',notes:'Peak magical potency in autumn but useful year-round. The seeds carry the prosperity energy of the whole fruit.'},
 {id:'cor_natural_seashell',category:'correspondence',subcat:'natural',title:'Seashell',intent:'Water magic, emotions, intuition, moon energy, love, protection, goddess energy',materials:'Element: Water',steps:'Place on your altar to represent the water element. Use in love and emotional healing spells. Hold during moon rituals to amplify lunar connection. Place around candles in a circle for protection. Collect different shapes for different uses — spiral shells for transformation, scallops for travel, cowrie for prosperity.',notes:'Born from the ocean — they carry water energy naturally. Charge under the full moon for extra potency.'},
 {id:'cor_natural_feather',category:'correspondence',subcat:'natural',title:'Feather',intent:'Air magic, communication, freedom, spirit messages, truth, travel',materials:'Element: Air',steps:'Use to represent the air element on your altar. Wave through incense smoke to direct cleansing energy. Place in spell jars for communication workings. Finding a feather is often a sign from spirit — note the color and type. Use to fan smoke during cleansing rituals.',notes:'Use ethically found feathers only. Different bird feathers carry different energy. Crow feathers for magic, blue jay for confidence, cardinal for vitality, etc.'},
 {id:'cor_natural_pinecone',category:'correspondence',subcat:'natural',title:'Pinecone',intent:'Fertility, regeneration, enlightenment, third eye, resilience, abundance',materials:'Element: Earth / Fire',steps:'Place on your altar for fertility and abundance. Use in winter solstice and Yule rituals. Add to abundance workings and prosperity bowls. Anoint with oil and roll in herbs for a spell object. Display in your home for ongoing protective and abundant energy.',notes:'The pinecone has been a symbol of enlightenment and the pineal gland (third eye) for thousands of years across many cultures.'},
 {id:'cor_natural_eggshell',category:'correspondence',subcat:'natural',title:'Eggshell',intent:'Protection, fertility, new beginnings, cascarilla powder, breaking hexes',materials:'Element: Earth / Spirit',steps:'Wash, dry, and grind into powder (cascarilla) for protection magic. Sprinkle powdered eggshell across doorways and windowsills to keep negativity out. Add to protection spell jars. Use whole eggshells as vessels for small spells — fill with herbs and intention, then bury or burn. Draw sigils with cascarilla chalk.',notes:'Cascarilla (powdered eggshell) is used across many open traditions for protection. Free, accessible, and very effective.'},
 {id:'cor_natural_salt',category:'correspondence',subcat:'natural',title:'Salt',intent:'Purification, protection, grounding, banishing, cleansing, consecration',materials:'Element: Earth',steps:'Sprinkle in corners of your home for protection. Create a salt circle for ritual work. Add to bath water for energetic cleansing. Mix with water to make a purification spray. Place a bowl of salt near your front door to absorb negativity. Use black salt (salt + charcoal/ash) for stronger banishing.',notes:'The most fundamental protective substance in the craft. Sea salt, kosher salt, pink salt — all work. Black salt is a powerful next step.'},
 {id:'cor_natural_honey',category:'correspondence',subcat:'natural',title:'Honey',intent:'Sweetening, love, attraction, binding, persuasion, healing, abundance',materials:'Element: Water / Earth',steps:'Use in sweetening jars to sweeten someone toward you or a situation in your favor. Add to love workings. Drizzle on petition papers for attraction magic. Eat a spoonful with intention for inner healing and sweetness. Use as an offering to deities and spirits.',notes:'Honey never spoils — its magic is enduring. Sweetening jars (honey jar spells) are one of the most popular and effective workings in folk magic.'},
 {id:'cor_natural_keys',category:'correspondence',subcat:'natural',title:'Keys',intent:'Unlocking, opportunity, knowledge, secrets, access, freedom, new doors',materials:'Element: Air / Spirit',steps:'Carry an old key as a charm to open new opportunities. Place on your altar during workings focused on access and unlocking — new jobs, new paths, new understanding. Use in spell jars for freedom and liberation. Hang above your door for opening blessings to enter. Collect antique keys for various intentions.',notes:'A key both opens and locks. Use for opening new doors or locking down protection, depending on your intention.'},
 {id:'cor_natural_mirror',category:'correspondence',subcat:'natural',title:'Mirror',intent:'Reflection, truth, scrying, deflection, protection, beauty, reversal',materials:'Element: Water / Spirit',steps:'Use a black mirror for scrying and divination. Place a small mirror facing outward on your altar or near your door to deflect negativity. Use in self-love and beauty rituals. Incorporate in reversal work — sending energy back to its source. Cover mirrors during spirit work if you want to prevent interference.',notes:'Mirrors are portals and shields simultaneously. Treat them with respect in your practice.'},
 {id:'cor_natural_bells',category:'correspondence',subcat:'natural',title:'Bells',intent:'Cleansing, calling, protection, celebration, spirit communication, breaking stagnant energy',materials:'Element: Air',steps:'Ring a bell to cleanse a space of stagnant or negative energy. Use to open and close rituals. Hang bells on your door to alert you to incoming energy. Ring to call in deities or spirits you work with. Use during celebrations and sabbat rituals.',notes:'Sound is one of the most underrated cleansing tools. A bell cuts through heavy energy instantly.'},
 {id:'cor_natural_riverstone',category:'correspondence',subcat:'natural',title:'River Stone',intent:'Flow, patience, transition, calm, cleansing, going with the current',materials:'Element: Water / Earth',steps:'Hold during meditation for calm and patience. Place on your altar to represent the balance of water and earth. Carry during difficult transitions as a reminder to flow rather than fight. Use in workings about releasing control and trusting the process. Stack as a grounding practice.',notes:'Shaped by water over time — their magic is about slow, steady transformation and learning to adapt.'},
 {id:'cor_natural_driftwood',category:'correspondence',subcat:'natural',title:'Driftwood',intent:'Transformation, journey, resilience, release, water and earth magic combined',materials:'Element: Water / Earth',steps:'Use on your altar as a natural focal point. Carve or burn sigils into driftwood for spells about transformation. Place in your home for travel protection and resilience energy. Use as a wand if it feels right in your hand. Incorporate into art or altar pieces.',notes:'Wood transformed by water — it has survived a journey. Its magic is about coming out changed but still standing.'},
 {id:'cor_natural_bones',category:'correspondence',subcat:'natural',title:'Bones (ethically sourced)',intent:'Ancestors, spirit work, protection, strength, divination, earth magic',materials:'Element: Earth / Spirit',steps:'Use ethically sourced bones (naturally found, purchased from ethical suppliers, or from food) on your altar for ancestor work. Cast small bones for divination (bone throwing). Place near your front door for protection. Use in workings connecting to the cycle of life and death. Always treat bones with respect.',notes:'Only use ethically sourced bones — found naturally, saved from meals, or from ethical suppliers. Never harm an animal for its bones. Cleanse energetically before use.'},
 {id:'cor_natural_candle',category:'correspondence',subcat:'natural',title:'Candle Flame',intent:'Intention, focus, transformation, spirit, divination, energy release',materials:'Element: Fire',steps:'Candle magic is one of the simplest and most powerful practices. Dress candles with oil and herbs. Carve intentions or sigils into the wax. Choose colors to match your intention. Watch the flame for divination signs — flickering, jumping, steady, smoking. Let candles burn down fully when possible to complete the spell.',notes:'A candle combines all four elements: earth (wax), air (smoke), fire (flame), water (melted wax). It is a complete spell tool on its own.'},
 
 // ===== OILS =====
 {id:'cor_oil_lavender',category:'correspondence',subcat:'oil',title:'Lavender Oil',intent:'Peace, sleep, purification, calm, love, healing, psychic awareness',materials:'Element: Air',steps:'Add to bath water for calming ritual baths. Anoint candles for peace and sleep workings. Dab on pillow for restful sleep. Add to dream sachets. Use in diffuser during meditation and divination. Mix with carrier oil for anointing.',notes:'Always dilute essential oils in a carrier oil before applying to skin. Lavender is one of the gentlest but always patch test first.'},
 {id:'cor_oil_rosemary_oil',category:'correspondence',subcat:'oil',title:'Rosemary Oil',intent:'Protection, memory, purification, mental clarity, fidelity',materials:'Element: Fire',steps:'Anoint doorways and windowsills for protection. Add to floor washes for cleansing. Dab on wrists before studying or important meetings for mental clarity. Anoint candles for protection spells. Add a few drops to spray bottles with water for quick space purification.',notes:'Strong scent — use sparingly. One of the most versatile oils in the craft.'},
 {id:'cor_oil_peppermint',category:'correspondence',subcat:'oil',title:'Peppermint Oil',intent:'Energy, money, healing, purification, travel, mental clarity',materials:'Element: Air',steps:'Add to money workings and prosperity spell jars. Anoint green candles for financial spells. Use in diffuser for energizing and clearing mental fog. Add to travel protection sachets. Dilute and anoint wrists for energy before workouts or demanding tasks.',notes:'Very strong — a single drop goes a long way. Avoid contact with eyes. Do not use on cats.'},
 {id:'cor_oil_frankincense_oil',category:'correspondence',subcat:'oil',title:'Frankincense Oil',intent:'Spiritual connection, consecration, protection, meditation, blessing',materials:'Element: Fire / Spirit',steps:'Anoint ritual tools to consecrate them. Add to carrier oil for anointing before spiritual work. Use in diffuser during meditation. Anoint candles for blessing and protection spells. Add to bath for spiritual cleansing before major ritual work.',notes:'The oil version of the resin — same properties in a more convenient form. Excellent for anointing.'},
 {id:'cor_oil_cedarwood',category:'correspondence',subcat:'oil',title:'Cedarwood Oil',intent:'Purification, grounding, healing, protection, prosperity, wisdom',materials:'Element: Earth / Fire',steps:'Add to grounding blends for meditation. Anoint brown or green candles for stability and prosperity. Use in diffuser for calming, grounded energy. Add to sachets for protection. Dilute with carrier oil and anoint pulse points for grounding during stressful periods.',notes:'Warm, woody scent. Very grounding. Good for witches who tend toward anxiety or scattered energy.'},
 {id:'cor_oil_eucalyptus',category:'correspondence',subcat:'oil',title:'Eucalyptus Oil',intent:'Healing, purification, protection, clearing, mental clarity',materials:'Element: Air / Water',steps:'Use in diffuser to clear stagnant energy and purify a room. Add to healing spell blends. Dilute and apply to chest during illness with healing intention. Add to floor washes for deep purification. Use in workings to clear mental fog and confusion.',notes:'Strong medicinal scent. Avoid around cats and small children. Excellent for cutting through heavy, stuck energy.'},
 {id:'cor_oil_teatree',category:'correspondence',subcat:'oil',title:'Tea Tree Oil',intent:'Healing, purification, cleansing, breaking hexes, strength',materials:'Element: Fire / Water',steps:'Add to purification baths. Use in cleansing sprays mixed with water. Anoint candles for healing and hex-breaking work. Add to floor washes for deep energetic cleansing. Diffuse when recovering from illness alongside healing spells.',notes:'Antimicrobial physically and energetically. Good for when a space or situation feels infected with bad energy.'},
 {id:'cor_oil_olive',category:'correspondence',subcat:'oil',title:'Olive Oil (carrier)',intent:'Peace, protection, healing, fidelity, abundance, blessing, anointing',materials:'Element: Earth / Fire',steps:'Use as a base carrier oil for diluting essential oils. Anoint candles — olive oil is the traditional anointing oil in European folk magic. Add herbs directly to olive oil to create infused spell oils. Use in kitchen magic for abundance and nourishment. Bless and use for anointing yourself or tools.',notes:'The most accessible and historically important carrier oil. Extra virgin is best for magical work. Already in your kitchen.'},
 {id:'cor_oil_coconut',category:'correspondence',subcat:'oil',title:'Coconut Oil (carrier)',intent:'Purification, protection, moon magic, clarity, versatility',materials:'Element: Water',steps:'Use as a carrier oil for blending with essential oils. Apply to skin as part of self-care rituals. Use in hair rituals for beauty magic. Add to bath with essential oils for ritual baths. Solid at room temp so it holds shape — useful for making anointing balms and salves.',notes:'Gentle on skin and easy to work with. Its white color connects it to moon and purification magic.'},
 {id:'cor_oil_jojoba',category:'correspondence',subcat:'oil',title:'Jojoba Oil (carrier)',intent:'Beauty, self-love, healing, versatility, balance',materials:'Element: Earth / Water',steps:'Use as a base for facial anointing oils. Blend with essential oils for roller bottle spell oils you can wear daily. Use in self-love and beauty rituals. Apply during skincare routine with intention. Create custom perfume blends for specific magical purposes.',notes:'Technically a liquid wax, not an oil — very close to the skin\'s natural oils. The best carrier for wearable spell oils.'},
 {id:'cor_oil_cinnamon_oil',category:'correspondence',subcat:'oil',title:'Cinnamon Oil',intent:'Money, success, passion, power, speed, amplification, protection',materials:'Element: Fire',steps:'Anoint green or gold candles for money spells (use sparingly — very potent). Add a drop to prosperity spell jars. Diffuse for energizing, success-oriented energy. Add to floor washes for drawing money into a business. Combine with orange oil for powerful success blends.',notes:'VERY hot on skin — always heavily dilute and patch test. One of the strongest money-drawing oils. A single drop amplifies an entire working.'},
 {id:'cor_oil_orange',category:'correspondence',subcat:'oil',title:'Sweet Orange Oil',intent:'Joy, abundance, creativity, attraction, luck, celebration, energy',materials:'Element: Fire',steps:'Diffuse for uplifting, joyful energy. Anoint candles for abundance and creativity. Add to bath for an energizing, mood-lifting ritual bath. Use in attraction workings. Combine with cinnamon for prosperity blends. Add to sachets for luck.',notes:'Bright, cheerful, solar energy in a bottle. Photosensitive on skin — avoid sun exposure after topical use.'},
 
 // ===== MOON PHASES =====
 {id:'cor_moon_new',category:'correspondence',subcat:'moon',title:'New Moon',intent:'New beginnings, intention setting, planting seeds, rest, going inward',materials:'Energy: Dark, still, fertile',steps:'Set intentions for the coming cycle. Start new projects. Journal about what you want to call in. This is a time for planning, not action. Perform divination about the month ahead. Charge dark crystals like obsidian and black tourmaline.',notes:'The most powerful time for beginning new things. Keep it quiet and internal — the energy is inward.'},
 {id:'cor_moon_waxcrescent',category:'correspondence',subcat:'moon',title:'Waxing Crescent',intent:'Intention, hope, momentum, early action, faith',materials:'Energy: Building, hopeful, emerging',steps:'Take the first small steps toward your new moon intentions. Gather materials for spells. Affirm your goals. Start building momentum. Light candles for hope and intention. Begin attraction and drawing spells.',notes:'The first visible sliver of light — your intentions are starting to take form. Stay committed.'},
 {id:'cor_moon_firstquarter',category:'correspondence',subcat:'moon',title:'First Quarter',intent:'Action, decisions, challenges, commitment, overcoming obstacles',materials:'Energy: Active, decisive, challenging',steps:'Take decisive action on your intentions. Push through resistance. Perform workings for courage and strength. Make difficult decisions. Address obstacles head-on. This is a doing phase, not a planning phase.',notes:'The moon is half-lit — tensions and challenges arise to test your commitment. Rise to meet them.'},
 {id:'cor_moon_waxgibbous',category:'correspondence',subcat:'moon',title:'Waxing Gibbous',intent:'Refinement, patience, adjustment, trust, almost there',materials:'Energy: Refining, adjusting, persevering',steps:'Refine your approach. Adjust plans that are not working. Practice patience. Trust the process. Perform workings for endurance and faith. Review what you have done and make corrections.',notes:'The hardest phase for impatient people. Your work is almost ready — do not start over now. Adjust and trust.'},
 {id:'cor_moon_full',category:'correspondence',subcat:'moon',title:'Full Moon',intent:'Manifestation, power, completion, illumination, release, gratitude, divination',materials:'Energy: Peak, illuminated, powerful',steps:'The most powerful night for spellwork — anything goes. Perform manifestation rituals. Charge crystals, water, and tools under the full moon. Practice divination. Release what no longer serves you. Celebrate and express gratitude for what has come to fruition. Make moon water.',notes:'Full moon energy extends about 3 days (day before, day of, day after). Everything is amplified — including emotions.'},
 {id:'cor_moon_wanegibbous',category:'correspondence',subcat:'moon',title:'Waning Gibbous',intent:'Gratitude, sharing, teaching, reflection, receiving',materials:'Energy: Grateful, reflective, sharing',steps:'Reflect on what the full moon illuminated. Practice gratitude. Share knowledge with others. Begin releasing work. Start letting go of what surfaced during the full moon. Slow down and integrate.',notes:'Also called the disseminating moon. Energy shifts from outward to inward. Begin turning attention to release.'},
 {id:'cor_moon_lastquarter',category:'correspondence',subcat:'moon',title:'Last Quarter',intent:'Release, forgiveness, letting go, breaking habits, cord cutting, banishing',materials:'Energy: Releasing, clearing, forgiving',steps:'Perform releasing and banishing rituals. Cut cords with people or situations that drain you. Break bad habits. Forgive. Clean your home physically and energetically. Clear clutter — physical and emotional. Perform reversal work.',notes:'The moon is half-dark — balance between holding on and letting go. Choose to release.'},
 {id:'cor_moon_wanecrescent',category:'correspondence',subcat:'moon',title:'Waning Crescent',intent:'Rest, surrender, stillness, restoration, preparation, endings',materials:'Energy: Quiet, still, restorative',steps:'Rest. Do less. This is not a productive phase and that is okay. Meditate. Take ritual baths. Practice self-care. Prepare for the next new moon. Tie up loose ends. Surrender what you cannot control. Cleanse your tools and altar.',notes:'The dark before the new moon. Honor the stillness. Pushing through this phase leads to burnout.'}
 ];

 var preloadedSpells = [
 {id:'pre_prot_1',category:'spell',title:'Black Candle Protection Spell',intent:'Creates a strong protective shield around you and your home. Use when you feel vulnerable, before traveling, or after encounters with draining people.',materials:'1 black candle\nOlive oil\nDried rosemary\nSalt\nBlack tourmaline (optional)',steps:'1. Carve your name or a protective sigil into the black candle with a pin or knife.\n2. Anoint the candle with olive oil, stroking from the middle outward (pushing negativity out).\n3. Roll the oiled candle in dried rosemary.\n4. Place the candle in a holder surrounded by a circle of salt.\n5. Light the candle and say: \"I am shielded. Nothing that is not mine can reach me. I am safe, I am whole, I am protected.\"\n6. Sit with the flame for a few minutes and visualize a dark, impenetrable sphere around you.\n7. Let the candle burn down completely if safe, or snuff (never blow) and relight over several days.\n\nBest timing: Saturday (Saturn), waning moon for banishing or new moon for fresh protection.',notes:'Refresh monthly or whenever protection feels thin. Place black tourmaline next to the candle to amplify.'},
 {id:'pre_prot_2',category:'spell',title:'Protection Spell Jar',intent:'A long-lasting protective charm for your home. Place by your front door, on a windowsill, or on your altar.',materials:'Small glass jar with lid\nSalt (base layer)\nDried rosemary\nDried basil\nBlack pepper (whole or ground)\nBlack tourmaline or obsidian chip\nA rusty nail or pin\nDried bay leaf\nBlack candle for sealing',steps:'1. Cleanse your jar with smoke or salt water.\n2. Layer ingredients with intention. Start with salt at the bottom.\n3. Add rosemary (purification), basil (protection), and black pepper (repels negativity).\n4. Drop in the crystal and the nail (iron wards off harmful energy).\n5. On the bay leaf, write \"This home is protected\" or draw a protective sigil. Add to the jar.\n6. Seal the lid. Light a black candle and drip wax over the seal.\n7. Say: \"This jar guards this space. No harm may enter. No negativity may stay.\"\n8. Place by your front door or nearest window.\n\nBest timing: Saturday, waning moon.',notes:'Replace every 6 months or when it feels like the energy has dulled. Bury the old jar off your property.'},
 {id:'pre_prot_3',category:'spell',title:'Salt & Sigil Doorway Ward',intent:'Quick, simple protection for your home. Seals your doorway against negative energy.',materials:'Salt (any kind)\nPaper and pen\nOptional: black pepper, crushed eggshell (cascarilla)',steps:'1. Draw a protective sigil on paper. A circle with a cross, a pentacle, or any symbol that means safety to you.\n2. Fold the paper toward you three times.\n3. Mix salt with black pepper and/or crushed eggshell.\n4. Sprinkle the mixture across your front doorway threshold.\n5. Place the sigil above or beside your door (tucked into the frame or taped above).\n6. Say: \"Only love and good intention may cross this threshold.\"\n\nBest timing: Any time. Refresh the salt weekly.',notes:'One of the simplest and most effective protection practices. Good for apartments where you cannot burn candles.'},
 {id:'pre_prot_4',category:'ritual',title:'Cord Cutting Ritual',intent:'Sever energetic ties to a person, situation, or pattern that is draining you. Not about hatred — about freedom.',materials:'2 candles (black and white)\nString or yarn\nScissors\nFireproof dish\nOptional: black tourmaline',steps:'1. Set two candles 6 inches apart. Black = what you are cutting away. White = you.\n2. Tie the string loosely between the two candles.\n3. Light both candles.\n4. Think clearly about what you are releasing. Name it. Feel it.\n5. Cut the string in the center. Say: \"I release this tie. It no longer serves me. I am free.\"\n6. Burn the cut string ends in the fireproof dish.\n7. Let the white candle burn. Snuff the black candle — do not reuse it.\n8. Dispose of the black candle and string off your property.\n\nBest timing: Saturday, waning moon or last quarter.',notes:'You may feel emotional during or after — that is normal. This works on patterns and habits too, not just people.'},
 {id:'pre_prot_5',category:'spell',title:'Return to Sender Mirror Spell',intent:'Sends negative energy back to where it came from. Defensive, not offensive.',materials:'Small mirror (compact works)\nBlack candle\nSalt\nBlack pepper\nOptional: paper with source name',steps:'1. Place the mirror face-up on your altar.\n2. Surround the mirror with salt mixed with black pepper.\n3. If you know the source, write it on paper and place face-down on the mirror.\n4. Light the black candle beside the mirror.\n5. Say: \"What was sent to me I return. This energy is not mine to carry. Go back to where you came from.\"\n6. Let the candle burn for at least 15 minutes while you visualize energy bouncing off the mirror.\n7. Snuff the candle. Wrap the mirror in dark cloth.\n8. Dispose of salt and paper off your property.\n\nBest timing: Saturday, waning moon.',notes:'You are not sending harm — you are redirecting what was already sent. Clean the mirror with salt water before reuse.'},
 {id:'pre_prot_6',category:'ritual',title:'Smoke Cleansing Your Space',intent:'Purify your home of stagnant, negative, or heavy energy. Foundational practice.',materials:'Dried rosemary bundle, garden sage, or cedar\nFireproof dish\nLighter\nOptional: bell, open window',steps:'1. Open at least one window.\n2. Light your herb bundle, let it flame, blow out so it smokes.\n3. Start at your front door, move clockwise through your home.\n4. Pay attention to corners, doorways, mirrors, and heavy-feeling places.\n5. Say: \"I cleanse this space. Only peace and love remain here.\"\n6. Ring a bell in each room after smoke if you have one.\n7. End at your front door. Extinguish the bundle safely.\n\nBest timing: Saturday for deep cleansing, or any time energy feels off. Waning moon.',notes:'Do this weekly as Saturday practice. After arguments, illness, guests leaving — cleanse. European folk smoke cleansing tradition.'},
 {id:'pre_love_1',category:'spell',title:'Self-Love Candle Spell',intent:'Rebuild your relationship with yourself. Good during self-doubt, after heartbreak, or when your inner voice has been harsh.',materials:'Pink candle\nRose quartz\nLavender or olive oil\nDried rose petals\nPaper and pen',steps:'1. Write something you genuinely appreciate about yourself. Be specific — not \"I am great\" but \"I am resilient\" or \"I show up even when it is hard.\"\n2. Anoint the pink candle with oil, stroking toward you (drawing love in).\n3. Place the paper under the candle holder. Surround with rose petals, set rose quartz nearby.\n4. Light the candle. Say: \"I am worthy of the love I give others. I choose myself today.\"\n5. Sit with the flame. Hand over your heart. Breathe.\n6. Let the candle burn down or snuff and relight daily.\n\nBest timing: Friday (Venus), waxing moon or full moon.',notes:'Do this as a recurring practice. Change the written affirmation each time to keep it honest and specific.'},
 {id:'pre_love_2',category:'spell',title:'Honey Jar for Sweetening',intent:'Sweeten a relationship or situation toward you. Works for romance, friendship, work relationships, or self-talk.',materials:'Small jar with lid\nHoney\nPaper and pen\nPink or red candle\nOptional: cinnamon, rose petals, lavender',steps:'1. Write your intention on paper. For a specific person, write their name and yours crossed over each other. For self-love, just your name.\n2. Fold the paper toward you three times.\n3. Place in the jar. Add herbs — cinnamon for passion, rose for love, lavender for peace.\n4. Fill with honey. Say: \"As this honey is sweet, so is [name/situation] sweet to me.\"\n5. Seal the jar. Drip candle wax over the lid.\n6. Relight a new candle on the jar every Friday to keep the spell working.\n\nBest timing: Friday (Venus), waxing moon.',notes:'Honey jars work slowly and steadily over time. Feed with a new candle weekly. When done, bury in your yard or at a crossroads.'},
 {id:'pre_love_3',category:'spell',title:'Rose Quartz Self-Worth Meditation',intent:'For days when you feel disconnected from your own worth. Not a big production — just you and a stone and some honesty.',materials:'Rose quartz\nQuiet space\nOptional: pink candle, lavender oil on wrists',steps:'1. Hold rose quartz against your chest in both hands.\n2. Close your eyes. Take 5 slow breaths.\n3. With each exhale, name something you are holding against yourself.\n4. With each inhale, say silently: \"I forgive this. I release this.\"\n5. When the heaviness lifts, shift to: \"I am enough as I am right now. Not when I fix something. Right now.\"\n6. Sit for 2-3 more minutes. Let whatever comes up come up.\n7. Carry the rose quartz for the rest of the day.\n\nBest timing: Friday, or any time you need it.',notes:'Not about forcing positivity. About being honest and then being kind about the honesty.'},
 {id:'pre_love_4',category:'spell',title:'Love Drawing Spell Jar',intent:'Attract loving energy — romantic or otherwise. Opens you to receive love without targeting a specific person.',materials:'Small glass jar\nDried rose petals\nLavender\nCinnamon\nSugar or honey\nRose quartz chip\nPink candle for sealing\nPaper and pen',steps:'1. Write what you want to feel in love — not a person but qualities. Example: \"I attract love that is safe, passionate, honest, and mutual.\"\n2. Fold toward you three times.\n3. Place in jar. Layer rose petals, lavender, pinch of cinnamon.\n4. Add sugar or honey for sweetness. Drop in rose quartz.\n5. Seal and drip pink candle wax over lid.\n6. Say: \"Love that is meant for me, I am open. Find me ready.\"\n7. Place on altar or bedroom windowsill.\n\nBest timing: Friday, waxing moon to full moon.',notes:'Never use love spells to target a specific person or override free will. This changes your energy, not anyone else. Replace every 3-6 months.'},
 {id:'pre_love_5',category:'spell',title:'Friendship Strengthening Spell',intent:'Strengthen an existing friendship or attract genuine new ones.',materials:'Pink candle\nYellow candle\nRosemary (loyalty)\nLavender (peace)\nOptional: rose quartz + citrine',steps:'1. Place pink candle (affection) and yellow candle (joy) side by side.\n2. Sprinkle rosemary and lavender between and around them.\n3. Name the friend, or describe what you need: \"Friends who show up, who are honest, who make me laugh.\"\n4. Light both. Say: \"Connection that is real, come close. Friendships built on truth and care, I welcome you.\"\n5. Let burn 15+ minutes while you think about genuine friendship.\n\nBest timing: Friday or Wednesday, waxing moon.',notes:'Good friendships are spellwork too. Do not underestimate the magic of a solid support system.'},
 {id:'pre_money_1',category:'spell',title:'Cinnamon Money Drawing Spell',intent:'Quick prosperity boost. Do on the first of the month or before any financial opportunity.',materials:'Ground cinnamon\nYour front door\nOptional: green candle, citrine',steps:'1. Stand at your open front door, facing inward.\n2. Place a pinch of cinnamon in your dominant palm.\n3. State your intention — be specific. Not just \"money\" but \"enough to cover rent\" or \"a new client this month.\"\n4. Blow the cinnamon into your home through the front door.\n5. Say: \"Abundance enters. Prosperity flows to me.\"\n6. Close the door. Do not sweep the cinnamon up.\n\nBest timing: First of the month, Thursday, new or waxing moon.',notes:'Simplest money spell there is and one of the most effective. Some witches do this every first of the month.'},
 {id:'pre_money_2',category:'spell',title:'Prosperity Spell Jar',intent:'Long-term abundance magnet for your workspace or altar.',materials:'Small glass jar\nBasil (dried)\nCinnamon stick or powder\nWhole cloves (3)\nBay leaf\nRice or sesame seeds\nA coin\nCitrine or pyrite chip\nGreen candle for sealing\nPaper and pen',steps:'1. Write your financial goal or ABUNDANCE on paper. Add a prosperity sigil if you like.\n2. Fold toward you three times. Place in jar.\n3. Layer basil, cinnamon, cloves, rice/sesame seeds.\n4. Add coin and crystal.\n5. Write a money amount on bay leaf, add on top.\n6. Seal. Drip green candle wax over lid.\n7. Say: \"Money flows to me easily and consistently.\"\n8. Shake the jar gently every Thursday to reactivate.\n\nBest timing: Thursday (Jupiter), new or waxing moon.',notes:'Shake on Thursdays. Replace every 6 months. Bury the old jar at a crossroads or in your front yard.'},
 {id:'pre_money_3',category:'spell',title:'Bay Leaf Abundance Burning',intent:'Quick money wish. Takes 2 minutes.',materials:'Dried bay leaf\nPen\nFireproof dish\nLighter',steps:'1. Write your financial intention on a dried bay leaf. Be specific.\n2. Hold the leaf and visualize the intention as already done. Feel the relief and stability.\n3. Light the bay leaf (it will flame up — hold carefully or use tongs).\n4. Drop into fireproof dish. Say: \"This intention is released. What I seek is already on its way.\"\n5. Scatter ashes outside or flush.\n\nBest timing: Thursday, Sunday. Waxing to full moon.',notes:'One of the most popular spells in eclectic witchcraft. Keep dried bay leaves in your kitchen for anytime use.'},
 {id:'pre_money_4',category:'spell',title:'Green Candle Money Magnet',intent:'Sustained prosperity spell for ongoing financial goals — income, business growth, debt payoff.',materials:'Green candle\nOlive oil\nDried basil\nGround cinnamon\nCitrine or aventurine\nPaper and pen\nOptional: coin under candle',steps:'1. Write your financial intention on paper.\n2. Anoint green candle with olive oil, stroking toward you.\n3. Roll the oiled candle in basil and cinnamon.\n4. Place paper under candle holder. Set crystal beside it.\n5. Light candle. Say: \"Prosperity comes to me. I attract wealth through my work, my worth, and my intention.\"\n6. Let burn 15+ minutes visualizing your goal.\n7. Snuff and repeat daily for 7 days, or let burn completely.\n\nBest timing: Thursday or Sunday, waxing moon.',notes:'The 7-day version is more powerful. Repeat your intention aloud each day. Keep citrine in your wallet after.'},
 {id:'pre_money_5',category:'spell',title:'Wallet Prosperity Charm',intent:'Carried charm that keeps money energy on you at all times.',materials:'Bay leaf\nCitrine or aventurine (pocket size)\nOptional: drop of cinnamon oil',steps:'1. Write PROSPERITY or a dollar amount on the bay leaf.\n2. Add a drop of cinnamon oil if you have it.\n3. Hold bay leaf and citrine together.\n4. Say: \"Money stays with me. Money grows for me.\"\n5. Place bay leaf in your wallet. Carry citrine in same bag or pocket.\n6. Replace bay leaf monthly at the new moon.\n\nBest timing: Thursday, new moon.',notes:'The bay leaf will dry and crumble over time — that means it is working and releasing energy. Refresh monthly.'},
 {id:'pre_money_6',category:'spell',title:'New Client / Business Attraction Spell',intent:'Draw new clients, customers, or opportunities. For freelancers, business owners, or job hunters.',materials:'Green candle\nGold candle (or second green)\nCinnamon\nBasil\nBay leaf\nHoney\nPaper and pen',steps:'1. Write your business name or the job you want on paper.\n2. Below it: \"Clients and opportunities find me easily. I am booked, valued, and paid well.\"\n3. Drizzle honey over the words.\n4. Fold toward you three times. Place between both candles.\n5. Sprinkle cinnamon and basil around them. Light both candles.\n6. State your intention aloud — how many clients, what kind of work, what income.\n7. Write your goal on bay leaf, burn it, add ashes to the setup.\n8. Let candles burn 20+ minutes. Snuff and repeat for 7 days starting Thursday.\n\nBest timing: Thursday, waxing moon.',notes:'Pair with real-world action — update your site, send that email, make that post. Spellwork amplifies effort, it does not replace it.'},
 {id:'pre_heal_1',category:'spell',title:'Emotional Release Candle Ritual',intent:'Process and release a heavy emotion — grief, anger, guilt, anxiety. Not about fixing it. About letting it move.',materials:'White or blue candle\nPaper and pen\nFireproof dish\nSalt\nOptional: amethyst or smoky quartz',steps:'1. Sit quietly. Three deep breaths.\n2. Write what you are feeling. Do not censor yourself. Name the emotion, the situation, the person.\n3. Read it once to yourself. Feel it fully.\n4. Light the candle. Say: \"I acknowledge this. I have carried it. I am choosing to set it down.\"\n5. Burn the paper in the fireproof dish.\n6. Sprinkle salt over the ashes to neutralize.\n7. Sit with the candle a few more minutes. Hold amethyst or smoky quartz.\n8. Dispose of ashes outside your home.\n\nBest timing: Saturday, waning moon. But honestly, whenever you need it.',notes:'You might cry. That is the spell working. If you burn the paper without connecting to the emotion, it is just paper. The honesty is the magic.'},
 {id:'pre_heal_2',category:'spell',title:'Anxiety Grounding Spell Jar',intent:'A calm-down tool. Hold it, shake it gently, and let it bring you back when anxiety spikes.',materials:'Small glass jar\nSalt\nDried lavender\nDried chamomile\nAmethyst chip\nBlack tourmaline chip\nPaper with a grounding phrase\nBlue candle for sealing',steps:'1. Write a centering phrase: \"I am here. I am safe.\" or \"Breathe.\" or \"This will pass.\"\n2. Fold and place in the jar.\n3. Layer salt, lavender, chamomile. Add both crystal chips.\n4. Seal. Drip blue candle wax over seal.\n5. Hold in both hands. Say: \"When the noise is loud, this jar holds my calm.\"\n6. Keep on your desk, nightstand, or in your bag.\n7. When anxiety hits, hold the jar. Three slow breaths. Read your word through the glass.\n\nBest timing: Monday or Saturday. Any moon phase.',notes:'Not a replacement for professional help if needed. But the physical act of holding something with intention interrupts the spiral.'},
 {id:'pre_heal_3',category:'ritual',title:'Forgiveness Letter Burning',intent:'Release resentment toward someone — including yourself. Not excusing what happened. Stopping it from taking up space.',materials:'Paper and pen\nFireproof dish\nWhite candle\nSalt\nOptional: rosemary',steps:'1. Write a letter to the person you need to forgive. Say everything — hurt, anger, disappointment. If it is yourself, write it to yourself.\n2. End with: \"I release this. You no longer hold space in my body or my energy. I take my power back.\"\n3. Light the white candle.\n4. Read the letter aloud.\n5. Burn it in the fireproof dish.\n6. Sprinkle salt over ashes. Say: \"It is done.\"\n7. Dispose of ashes away from your home.\n\nBest timing: Saturday, waning moon or last quarter.',notes:'Often needs to be done more than once. If the feeling returns, do it again. That is not failure — it is layers.'},
 {id:'pre_heal_4',category:'spell',title:'Healing Spell Jar',intent:'Support physical or emotional healing during illness, injury, surgery, or prolonged difficulty.',materials:'Small jar\nSalt\nDried calendula\nDried chamomile\nDried rosemary\nClear quartz chip\nHoney (small drizzle)\nBlue or white candle\nPaper and pen',steps:'1. Write what you are healing from. Be specific.\n2. Fold toward you three times.\n3. Place in jar. Layer salt, calendula, chamomile, rosemary.\n4. Drop in clear quartz. Drizzle honey.\n5. Seal. Drip candle wax over lid.\n6. Say: \"My body and spirit are healing. Recovery comes gently and completely.\"\n7. Keep near your bed or altar during healing.\n\nBest timing: Monday or Sunday. Waxing moon.',notes:'This jar is a companion, not a cure. When you are healed, bury the jar with gratitude.'},
 {id:'pre_heal_5',category:'ritual',title:'Shadow Work Candle Meditation',intent:'Confront a part of yourself you have been avoiding. Not about darkness — about seeing the whole picture.',materials:'Black candle\nWhite candle\nJournal and pen\nObsidian or smoky quartz\nQuiet space',steps:'1. Place black candle (shadow) on your left, white candle (conscious self) on your right. Light both.\n2. Hold obsidian or smoky quartz. Close your eyes.\n3. Ask: \"What am I avoiding? What part of myself am I pretending does not exist?\"\n4. Sit in silence. Let the answer come.\n5. Open your journal. Write whatever came up without judging it.\n6. Say: \"I see you. I do not have to fix you right now. But I see you.\"\n7. Snuff the black candle first. Let white candle burn longer.\n\nBest timing: Saturday, waning or dark moon.',notes:'Do not force it if you are not ready. But if you are stuck or repeating patterns — your shadow is asking for attention. Go slow.'},
 {id:'pre_heal_6',category:'spell',title:'Letting Go Petition Spell',intent:'Release an attachment — a person, outcome, old identity, or expectation you keep gripping.',materials:'Paper and pen\nBlack candle\nFireproof dish\nSalt\nOptional: dried thyme, smoky quartz',steps:'1. Write what you are letting go of. Be very specific — the exact thing, not just \"the past.\"\n2. Read it aloud once. Feel the grip.\n3. Light the black candle.\n4. Fold the paper away from you three times.\n5. Light the paper from the candle and drop into the fireproof dish.\n6. Say: \"I held this because I thought I needed it. I do not. I am choosing to open my hands.\"\n7. Cover ashes with salt. Dispose outside your home.\n8. Let candle burn down completely.\n\nBest timing: Saturday, last quarter or waning crescent.',notes:'The hardest part is the honesty in step 1. Your Cancer sun wants to protect everything — this spell is practice in opening your hands.'},
 {id:'pre_money_7',category:'spell',title:'Full Moon Abundance Water',intent:'Create charged prosperity water during the full moon. Use to anoint candles, add to floor washes, sprinkle on your doorstep, or add to your cinnamon blow on the 1st.',materials:'Glass jar or bowl (clear)\nWater (filtered or spring)\nA coin (silver or gold colored)\n3 basil leaves (fresh or dried)\nOptional: citrine, a pinch of cinnamon\nMoonlight',steps:'1. On the night of the full moon, fill a clear glass jar with water.\n2. Drop in the coin, basil leaves, and citrine if using.\n3. Sprinkle a tiny pinch of cinnamon on the surface.\n4. Hold the jar and say: \"I charge this water with abundance. As the moon is full, so is my life. Prosperity flows to me.\"\n5. Place outside or on a windowsill where it catches moonlight overnight.\n6. Retrieve before sunrise.\n7. Strain out the solid ingredients. Store the water in a sealed jar.\n8. Use within a month: anoint green candles, add a splash to floor wash water, sprinkle across your front doorstep, or add to bath water.\n\nBest timing: Full moon night, ideally on a Thursday.',notes:'Different from regular moon water because of the prosperity ingredients. Label it so you don\'t mix it up. The coin goes back in your wallet after — it carries the charge.'},
 {id:'pre_money_8',category:'spell',title:'Money Bowl (Ongoing Prosperity Altar Piece)',intent:'A living prosperity spell that sits on your altar or workspace and continuously draws abundance. Feed it regularly to keep it working.',materials:'A bowl (green, gold, or ceramic — something that feels abundant to you)\nCoins (as many as you want — variety is good)\nRice or sesame seeds\nCinnamon sticks\nBasil (dried)\nBay leaves\nCitrine and/or pyrite\nA green or gold candle\nOptional: a small magnet (to \"attract\"), cloves, a dollar bill',steps:'1. Choose a bowl that feels right. Cleanse it with smoke or salt water.\n2. Start with a base of rice or sesame seeds (abundance, never going hungry).\n3. Add coins — different denominations represent money flowing from multiple sources.\n4. Tuck in cinnamon sticks, dried basil, and a couple of bay leaves with intentions written on them.\n5. Place citrine and/or pyrite on top.\n6. If using a magnet, place it at the center (drawing money to you).\n7. Set a green or gold candle beside the bowl. Light it and say: \"This bowl is a magnet for wealth. Money comes to me from expected and unexpected places. I am always provided for.\"\n8. Place on your altar, desk, or near your front door.\n\nFEEDING THE BOWL: Every Thursday, add a coin. Once a month, add fresh herbs and a new written bay leaf. Light a candle beside it weekly.\n\nBest timing: Start on a Thursday or new moon.',notes:'A money bowl is one of the most popular ongoing prosperity workings. It grows over time — literally and energetically. The more you feed it and pay attention to it, the more it works. Think of it like a garden. Clean out and refresh fully every 3-6 months.'},
 {id:'pre_money_9',category:'ritual',title:'Thursday Prosperity Candle Ritual (Weekly)',intent:'A simple weekly ritual to keep the prosperity energy flowing consistently. Good for business owners and freelancers who need steady income, not one-time windfalls.',materials:'Green candle (taper or chime — small enough to burn in one sitting)\nOlive oil\nDried basil\nCinnamon\nPaper and pen\nCitrine\nYour money bowl or wallet nearby',steps:'1. Every Thursday evening, sit down with your materials.\n2. Write this week\'s financial intention on a small piece of paper. Be specific to this week: \"Book 2 new clients,\" \"Get paid invoice from X,\" \"Sell 3 items in my shop.\"\n3. Anoint the green candle with olive oil toward you. Roll in basil and cinnamon.\n4. Place the paper under the candle. Set citrine beside it.\n5. Light the candle. Say: \"Jupiter, planet of abundance and expansion, I align with your energy tonight. Prosperity is my right. I work for it and I receive it.\"\n6. Let the candle burn completely (use a small chime candle so this takes 15-20 minutes).\n7. Fold the paper and place it in your wallet or money bowl.\n\nBest timing: Thursday evening, every week. Any moon phase — consistency matters more.',notes:'This is less about one big spell and more about building a weekly relationship with prosperity energy. Consistency is the magic here. Your Cancer moon understands commitment to a routine — lean into that.'},
 {id:'pre_prot_7',category:'ritual',title:'Snake Plant Home Ward',intent:'Turn your snake plant into a living protective ward for your home. Snake plants already purify air — this extends that into energetic purification and boundary protection.',materials:'Your snake plant\nSalt (a pinch)\nBlack tourmaline (small piece to place in the soil)\nRosemary (a sprig or pinch of dried)\nWater for watering\nOptional: a sigil drawn on paper and buried in the soil',steps:'1. Start by connecting with your plant. Place your hands on or near the pot. Plants are alive and responsive — acknowledge it.\n2. Say: \"I ask you to be a guardian of this home. You already clean the air — now I ask you to clean the energy too.\"\n3. Bury a small piece of black tourmaline in the soil near the base. This anchors the protective energy.\n4. Sprinkle a tiny pinch of salt on top of the soil (very small — too much harms the plant).\n5. Tuck a small sprig of dried rosemary into the soil or lay it on top.\n6. Optional: Draw a protection sigil on a small piece of paper, fold it, and bury it in the soil.\n7. Water the plant as normal. As you water, say: \"As I nourish you, you protect this space. We take care of each other.\"\n8. Place the plant near your front door, in a main living area, or in a room that feels energetically heavy.\n\nRENEWING: Every new moon, refresh the rosemary if it has decomposed. Talk to your plant when you water it — restate the intention. Replace the black tourmaline every 6 months (cleanse the old one).\n\nBest timing: Set up on a Saturday (protection) or new moon. Water and refresh on new moons.',notes:'Snake plants are perfect for wards because they are tough, hard to kill, and grow upward like swords — their leaves literally look like blades guarding your space. The sharper the leaves, the stronger the protection energy. If the plant thrives, your ward is strong. If it starts struggling, check in on the energy of your home.'},
 {id:'pre_heal_7',category:'ritual',title:'How to Make Your Own Spell Oils',intent:'A complete guide to creating custom oil blends for wearing, anointing candles, dressing spell tools, and magical skincare. Once you know the method, you can create any blend.',materials:'Carrier oil base (pick one):\n- Jojoba oil (best for wearing on skin — absorbs clean, no residue)\n- Sweet almond oil (light, good all-purpose)\n- Olive oil (traditional for anointing, heavier)\n- Fractionated coconut oil (stays liquid, very light)\n\nEssential oils for your intention (see recipes below)\nSmall glass bottles with caps or rollers (dark glass is best — amber or cobalt)\nOptional: dried herbs, crystal chips, a small funnel\nLabel and pen',steps:'BASE METHOD:\n1. Fill your bottle about 90% with carrier oil.\n2. Add essential oils — start with 10-15 drops total per 10ml roller bottle. You can always add more, but you can\'t take it away.\n3. If adding dried herbs, add a tiny pinch — just enough to infuse, not clog. Small, fine pieces work best.\n4. If adding crystal chips, drop in 1-2 tiny tumbled chips.\n5. Cap the bottle. Roll gently between your palms to blend.\n6. Hold the bottle and state your intention aloud. This is the most important step — charge it.\n7. Label the bottle with the blend name and date.\n8. Let it sit for 24-48 hours before first use so the oils marry.\n\nTO USE: Apply to pulse points (wrists, neck, behind ears) for wearing. Anoint candles by rubbing oil from middle outward (banishing) or middle toward you (drawing). Dab on spell tools, doorframes, or wallet.\n\nSAFETY: Always patch test on inner wrist first. Some oils are photosensitive (citrus oils — avoid sun after applying). Never use undiluted essential oils on skin. Keep away from eyes.\n\nBest timing: Create on the day and moon phase that matches your intention.',notes:'Dark glass bottles protect oils from UV light which breaks them down. Store in a cool, dark place. Oils last 6-12 months. If the smell changes or goes off, remake it. Shake gently before each use.'},
 {id:'pre_heal_8',category:'spell',title:'Autumn Abundance Oil (Wearable)',intent:'A warm, grounding prosperity oil perfect for fall. Wear daily to carry abundance energy with you. Smells like autumn and money magic.',materials:'10ml roller bottle (dark glass)\nJojoba oil (carrier)\nEssential oils:\n- 5 drops cinnamon bark (prosperity, power — use sparingly, it is HOT)\n- 4 drops sweet orange (abundance, joy, attraction)\n- 3 drops clove bud (money drawing, protection)\n- 2 drops ginger (amplification, speed)\n- 1 drop vanilla absolute or extract (comfort, sweetness — optional)\nOptional additions:\n- Tiny pinch of ground cinnamon in the bottle\n- A citrine chip\n- A tiny piece of bay leaf',steps:'1. Fill roller bottle 90% with jojoba oil.\n2. Add essential oils in order listed — cinnamon last since it is the strongest.\n3. Drop in citrine chip and bay leaf piece if using.\n4. Cap and roll between your palms.\n5. Hold the bottle. Say: \"This oil draws abundance to me wherever I go. I carry prosperity on my skin.\"\n6. Let sit 24 hours before first use.\n7. Apply to wrists, neck, and behind ears daily. Reapply as needed.\n\nBest timing: Make on a Thursday during autumn. Waxing moon.',notes:'Cinnamon oil is very strong — if you have sensitive skin, reduce to 2-3 drops or skip it and use cinnamon stick chips in the bottle instead. Patch test first. This blend smells incredible and works as both a spell and a perfume.'},
 {id:'pre_heal_9',category:'spell',title:'Protection Oil (Wearable / Anointing)',intent:'A shielding oil for daily wear or for anointing candles, doorframes, and tools. Wear when going into draining environments or around difficult people.',materials:'10ml roller bottle (dark glass)\nJojoba or olive oil (carrier)\nEssential oils:\n- 5 drops rosemary (protection, purification)\n- 4 drops cedarwood (grounding, shielding)\n- 3 drops frankincense (spiritual protection, blessing)\n- 2 drops black pepper (banishing, strong boundary)\nOptional additions:\n- A black tourmaline chip\n- Tiny pinch of salt\n- A rosemary needle or two',steps:'1. Fill roller bottle 90% with carrier oil.\n2. Add essential oils.\n3. Drop in black tourmaline chip and rosemary needles if using.\n4. Add the tiniest pinch of salt — just a few grains.\n5. Cap and roll between your palms.\n6. Hold and say: \"This oil is my shield. What I wear protects me. Nothing that is not mine can touch me.\"\n7. Let sit 24 hours.\n8. Apply to wrists and back of neck daily. Anoint your front doorframe monthly.\n\nBest timing: Make on a Saturday. Waning moon for banishing protection, new moon for fresh shielding.',notes:'The cedarwood and frankincense base smells warm and grounding — this does not smell \"witchy\" in a way that draws attention. It just smells like you have your life together. Good for work environments.'},
 {id:'pre_heal_10',category:'spell',title:'Self-Love & Intuition Oil (Wearable)',intent:'A soft, nurturing oil for your Cancer sun and Gemini moon. Calms anxiety, opens intuition, and reinforces self-worth. Wear daily or before tarot readings and meditation.',materials:'10ml roller bottle (dark glass)\nJojoba oil (carrier)\nEssential oils:\n- 5 drops lavender (calm, self-love, peace)\n- 4 drops clary sage (intuition, inner wisdom, emotional balance)\n- 3 drops ylang ylang (self-worth, joy, heart opening)\n- 2 drops bergamot (confidence, anxiety relief — photosensitive, avoid sun)\nOptional additions:\n- A rose quartz chip\n- Tiny piece of dried lavender\n- A moonstone chip',steps:'1. Fill roller bottle 90% with jojoba oil.\n2. Add essential oils.\n3. Drop in rose quartz and/or moonstone chip.\n4. Add dried lavender piece if using.\n5. Cap and roll gently.\n6. Hold over your heart. Say: \"This oil reminds me who I am. Calm, intuitive, worthy. I trust myself.\"\n7. Let sit 24 hours.\n8. Apply to wrists, heart center, and third eye (between brows) before meditation, tarot, or any time you need grounding.\n\nBest timing: Make on a Friday (Venus) or Monday (Moon). Full moon for maximum intuitive charge.',notes:'This one is your daily companion oil. The lavender-ylang ylang combination smells beautiful and works double duty as anxiety relief. Bergamot is a citrus oil — if you apply it and go into sun, it can cause sensitivity. Apply to areas that stay covered or skip the bergamot for summer use.'},
 {id:'pre_money_10',category:'spell',title:'Business Success Sigil Candle (7-Day Working)',intent:'A focused 7-day candle spell specifically for business growth. More sustained than a single burning — builds momentum over the week.',materials:'Green pillar candle or 7 green chime candles\nPin or knife for carving\nOlive oil\nCinnamon\nBasil\nPaper and pen\nCitrine\nYour Autumn Abundance Oil (if you made it)',steps:'1. Create a sigil for your business goal. Write your intention (\"MyReliaCare is fully booked\" or \"I have 10 new clients this month\"), then remove vowels and repeating letters from the words. Rearrange the remaining letters into an abstract symbol. That is your sigil.\n2. Carve the sigil into the candle. If using 7 chime candles, carve it into each one.\n3. Anoint with olive oil (or your Autumn Abundance Oil) toward you.\n4. Roll in cinnamon and basil.\n5. Write your full intention on paper. Place under the candle. Set citrine nearby.\n6. Each night for 7 days, light the candle (or a new chime candle each night).\n7. Each night, say your intention aloud. Be specific. Speak as if it is already happening.\n8. On the 7th night, let the final candle burn completely. Fold the paper and place in your wallet or money bowl.\n\nBest timing: Start on a Thursday. Waxing moon is ideal — start the week after the new moon for building energy.',notes:'Sigil magic combined with candle magic is very effective. The 7-day repetition builds serious momentum. Each night you are reinforcing and amplifying. Do not skip nights — if you miss one, start over. Pair with real business actions each day.'},
 {id:'pre_oil_note',category:'ritual',title:'Using Fragrance Oils in Magic (P&J Autumn Set)',intent:'Important notes on working with your P&J Autumn fragrance oil collection. These are fragrance oils, not pure essential oils — they work great in magic but have different rules for use.',materials:'Your P&J Autumn Collection:\nPumpkin Pie, Apple, Vanilla, Cranberry, Caramel Corn, Forest Pine, Harvest Spice, Autumn Wreath, Apple Cider, Basil, Cinnamon, Brown Sugar, Snickerdoodle, Candy Corn',steps:'BEST USES FOR FRAGRANCE OILS IN MAGIC:\n- Anoint candles (add a few drops and rub into the wax)\n- Add a drop or two to spell jars before sealing\n- Add to a diffuser during ritual work to set the energy\n- Drop onto cotton balls and tuck into sachets, drawers, or your car\n- Add to homemade floor washes (a few drops in mop water)\n- Anoint petition papers (dab a drop on the corners)\n- Drop onto dried herbs in a bowl for scented altar offerings\n\nFOR WEARING ON SKIN:\nFragrance oils are stronger than essential oils and more likely to irritate skin. If you want to wear them:\n1. Always dilute heavily — 3-5 drops per 10ml of carrier oil (jojoba is best)\n2. Patch test on your inner wrist and wait 24 hours before wearing\n3. If any irritation, use the blend for candles and sachets instead\n4. Never apply undiluted fragrance oil directly to skin\n\nBest timing: Any time.',notes:'Fragrance oils carry intention just as well as essential oils. The magic is in your focus and intention, not the purity of the oil. These are perfect for candle work, spell jars, and diffusing during rituals.'},
 {id:'pre_oil_prosperity',category:'spell',title:'Autumn Money Magnet Oil Blend',intent:'A prosperity blend using your P&J oils. Warm, sweet, abundant energy. Use to anoint green candles, add to money spell jars, dab on your wallet, or diffuse while doing business work.',materials:'Small glass bottle or 10ml roller\nJojoba oil (carrier base)\nP&J oils:\n- 3 drops Cinnamon (prosperity, speed, power)\n- 3 drops Basil (money drawing, abundance)\n- 2 drops Brown Sugar (sweetening, attraction, comfort)\n- 2 drops Apple (harvest, abundance, health)\n- 1 drop Harvest Spice (amplification, warmth, success)\nOptional: citrine chip in the bottle',steps:'1. Fill bottle 90% with jojoba oil.\n2. Add oils in order listed.\n3. Drop in citrine chip if using.\n4. Cap and roll gently between your palms.\n5. Hold the bottle. Say: \"This oil draws wealth and opportunity. Abundance follows wherever this scent goes.\"\n6. Let sit 24 hours.\n\nUSES:\n- Anoint green or gold candles for money spells\n- Add 2-3 drops to prosperity spell jars\n- Dab on your wallet, cash register, or business cards\n- Rub on your hands before handling money\n- Diffuse while working on business tasks\n- Anoint your front doorframe monthly\n\nFor skin: patch test first. Apply to wrists before client meetings or financial conversations.\n\nBest timing: Make on a Thursday. Waxing moon.',notes:'Cinnamon and basil are the heavy lifters here. Brown sugar adds a sweetening quality — people are drawn to you and your work. The apple rounds it out with harvest energy. Smells like fall abundance.'},
 {id:'pre_oil_protection2',category:'spell',title:'Forest Shield Protection Oil Blend',intent:'A grounding protective blend using your P&J oils. Woodsy and clean — good for daily shielding, anointing doorways, and protection candle work.',materials:'Small glass bottle or 10ml roller\nJojoba oil (carrier base)\nP&J oils:\n- 4 drops Forest Pine (purification, protection, grounding)\n- 3 drops Cinnamon (power, protection, strength)\n- 2 drops Basil (protection, ward against negativity)\n- 1 drop Cranberry (protection, energy, vitality)\nOptional: black tourmaline chip, tiny pinch of salt',steps:'1. Fill bottle 90% with jojoba oil.\n2. Add oils in order.\n3. Drop in black tourmaline chip and a few grains of salt if using.\n4. Cap and roll between your palms.\n5. Hold and say: \"This oil shields me. I carry protection like armor. Nothing harmful can reach me.\"\n6. Let sit 24 hours.\n\nUSES:\n- Anoint black candles for protection spells\n- Dab on doorframes, window sills, and thresholds\n- Apply to wrists and back of neck before going into draining environments (patch test first)\n- Add to protection spell jars\n- Anoint your snake plant ward pot\n- Diffuse after cleansing your space to seal in the clean energy\n\nBest timing: Make on a Saturday. Waning moon for banishing, new moon for fresh shields.',notes:'Forest Pine is the star here — trees are natural protectors and the scent immediately grounds you. The cinnamon adds strength. This smells like walking through a forest in October. Nobody will question it.'},
 {id:'pre_oil_comfort',category:'spell',title:'Hearthfire Comfort & Healing Oil Blend',intent:'A warm, nurturing blend for emotional healing, comfort during hard times, self-care rituals, and calming anxiety. Feels like a hug in a bottle.',materials:'Small glass bottle or 10ml roller\nJojoba oil (carrier base)\nP&J oils:\n- 3 drops Vanilla (comfort, love, warmth, soothing)\n- 3 drops Apple Cider (warmth, home, hearth magic, grounding)\n- 2 drops Pumpkin Pie (abundance, comfort, home protection)\n- 2 drops Brown Sugar (sweetness, self-love, attraction of good things)\n- 1 drop Cinnamon (warmth, gentle power)\nOptional: rose quartz chip',steps:'1. Fill bottle 90% with jojoba oil.\n2. Add oils in order.\n3. Drop in rose quartz chip if using.\n4. Cap and roll gently.\n5. Hold over your heart. Say: \"This oil holds me when I cannot hold myself. Warmth, comfort, and healing live here.\"\n6. Let sit 24 hours.\n\nUSES:\n- Apply to wrists and heart center before bed on hard days (patch test first)\n- Anoint white or blue candles for emotional healing spells\n- Add to healing spell jars\n- Diffuse during journaling, tarot pulls, or shadow work\n- Dab on your pillow for comfort during grief or anxiety\n- Use during your Friday self-love practice\n\nBest timing: Make on a Friday (Venus) or Monday (Moon). Any moon phase — comfort does not wait.',notes:'This one is your emotional first aid kit in a bottle. The vanilla-apple cider-pumpkin combination smells exactly like being home and safe. Use it liberally. Your Cancer sun will love this one.'},
 {id:'pre_oil_attract',category:'spell',title:'Sweet Attraction Oil Blend',intent:'A magnetic blend for drawing good things to you — love, friendship, opportunities, clients, good luck. Sweet and inviting. Makes people want to be around you.',materials:'Small glass bottle or 10ml roller\nJojoba oil (carrier base)\nP&J oils:\n- 3 drops Vanilla (attraction, love, warmth)\n- 3 drops Snickerdoodle (sweetening, charm, irresistibility)\n- 2 drops Caramel Corn (joy, playfulness, magnetic energy)\n- 2 drops Apple (health, attraction, harvest)\n- 1 drop Cinnamon (speed, amplification)\nOptional: citrine or rose quartz chip depending on what you want to attract',steps:'1. Fill bottle 90% with jojoba oil.\n2. Add oils in order.\n3. Add crystal chip — citrine for opportunities and money, rose quartz for love and friendship.\n4. Cap and roll between your palms.\n5. Hold and say: \"I am magnetic. Good things and good people are drawn to me effortlessly.\"\n6. Let sit 24 hours.\n\nUSES:\n- Wear on pulse points before social events, dates, or networking (patch test first)\n- Anoint pink candles for love or friendship spells\n- Anoint green candles for client attraction\n- Dab on business cards or marketing materials\n- Diffuse before guests come over\n- Add to honey jar spells\n\nBest timing: Make on a Friday (love/friendship) or Thursday (opportunities/business). Waxing moon.',notes:'This one smells like a bakery and people will ask you what you are wearing. That is the point. Sweetness draws people in. The cinnamon gives it a subtle kick of power underneath. Your Leo rising energy is all over this blend — magnetic and warm.'},
 {id:'pre_int_1',category:'intention',title:'New Moon Intention Setting Ritual',intent:'A structured monthly ritual for setting clear intentions at the new moon. The most powerful time to plant seeds for what you want to grow.',materials:'Journal and pen\nWhite or black candle\nClear quartz\nQuiet space\nOptional: your Self-Love oil or any spell oil',steps:'1. Find quiet. Light your candle. Hold clear quartz.\n2. Close your eyes and take 5 slow breaths. Let the last cycle go.\n3. Open your journal. Write the date and moon phase.\n4. Answer these prompts:\n   - What do I want to call in this cycle?\n   - What am I ready to commit to?\n   - What needs to shift for this to happen?\n   - What am I willing to let go of to make space?\n5. Distill 1-3 clear intentions. Write them present tense: \"I am...\" or \"I have...\" not \"I want...\"\n6. Read them aloud to the candle flame.\n7. Place clear quartz on top of your journal overnight to charge.\n8. Revisit at the full moon to check progress.\n\nBest timing: New moon, evening.',notes:'Keep it to 1-3 intentions max. Too many dilutes the energy. Your Gemini moon will want to list 15 things. Rein it in.'},
 {id:'pre_int_2',category:'intention',title:'Daily Morning Intention (2-Minute Practice)',intent:'Set the tone for your day with one clear intention. Takes less than 2 minutes. The simplest and most powerful daily practice there is.',materials:'Nothing required\nOptional: a candle, your daily crystal, tea or coffee',steps:'1. Before you look at your phone, pause.\n2. Take 3 breaths.\n3. Ask yourself: What is my one intention for today?\n4. It can be anything — \"I am patient today.\" \"I trust my decisions.\" \"I follow through on what I said I would do.\" \"I rest without guilt.\"\n5. Say it once, silently or aloud.\n6. That is it. Move on with your day.\n\nOptional layers:\n- Light a candle while you say it\n- Hold your daily crystal\n- Stir your coffee/tea clockwise while repeating it\n\nBest timing: Every morning, first thing.',notes:'One intention, every morning. Retrains your brain to start the day with purpose instead of reactivity. Consistency over intensity.'},
 {id:'pre_int_3',category:'intention',title:'Weekly Intention Check-In (Sunday)',intent:'A short weekly review to close the week and set direction for the next one. Pairs with your Sunday Reset Ritual.',materials:'Journal and pen\nOptional: candle, tea, tarot deck',steps:'1. Sunday evening. Light a candle if you want.\n2. Write the date. Answer honestly:\n   - What did I accomplish this week? (List everything, even small things.)\n   - Where did I show up for myself?\n   - Where did I fall short — and why? No judgment. Just honesty.\n   - What am I carrying into next week that I should not be?\n   - What is my focus for next week?\n3. Write one clear intention for the week ahead.\n4. Optional: pull a tarot card for the week and journal your first reaction.\n5. Close your journal. Blow out the candle.\n\nBest timing: Sunday evening.',notes:'Insight without follow-through is just journaling. This check-in turns reflection into direction.'},
 {id:'pre_int_4',category:'intention',title:'Seasonal Intention Ritual — Spring (Ostara)',intent:'Align with spring energy: new growth, fresh starts, planting what you want to harvest by autumn.',materials:'Green candle\nSeeds (any kind — even kitchen seeds)\nSmall pot of soil or a yard spot\nPaper and pen\nClear quartz\nOptional: fresh flowers',steps:'1. Light the green candle.\n2. Write 3 intentions for the season — things you want to grow over 3 months. Think of them as seeds.\n3. Read them aloud.\n4. Plant actual seeds in soil as you state each intention. One per intention.\n5. Say: \"As these seeds grow, so do my intentions. I tend to them. I water them. I trust the process.\"\n6. Place clear quartz near the pot.\n7. Water regularly — each time, restate your intentions.\n8. By summer solstice, check your growth — the plants and your goals.\n\nBest timing: Spring equinox (~March 20) or early spring. Waxing moon.',notes:'If the seeds grow, your intentions have strong energy. If they struggle, reassess — maybe the intention needs adjusting, not more force. The plants are your mirror.'},
 {id:'pre_int_5',category:'intention',title:'Seasonal Intention Ritual — Summer (Litha)',intent:'Peak energy — the longest day. Intentions for visibility, confidence, stepping into your power, and showing your work to the world.',materials:'Gold or yellow candle\nSunstone, citrine, or carnelian\nPaper and pen\nSunlight\nOptional: sunflowers, your Attraction Oil',steps:'1. Do this during daylight — outside or near a sunny window.\n2. Light the gold/yellow candle.\n3. Write 3 intentions. Summer is about being seen and taking action. \"My business is visible.\" \"I share my work confidently.\" \"I take up space.\"\n4. Hold your crystal in sunlight.\n5. Read your intentions aloud with conviction — your Leo rising is made for this.\n6. Place the paper on your altar in direct sunlight for the rest of the day.\n7. Say: \"The sun feeds my ambition. I am powerful, visible, and ready.\"\n\nBest timing: Summer solstice (~June 21) or anytime in June. Full moon if possible.',notes:'Summer intentions should feel bold. This is not the season for quiet, inward goals — that is winter. Push yourself to be louder than you think you should be.'},
 {id:'pre_int_6',category:'intention',title:'Seasonal Intention Ritual — Autumn (Mabon)',intent:'Harvest and gratitude. Reaping what you planted, releasing what did not grow, preparing for rest.',materials:'Orange or brown candle\nPaper and pen\nApple (cut in half to reveal the star/pentacle inside)\nCinnamon\nOptional: your Autumn Money Magnet Oil, fall leaves',steps:'1. Light the orange or brown candle.\n2. Cut an apple in half horizontally — notice the natural pentacle shape of the seeds. Place on your altar.\n3. Write two lists:\n   - HARVEST: What grew? What worked? What am I grateful for?\n   - RELEASE: What did not grow? What am I letting go of before winter?\n4. Read the harvest list aloud with genuine gratitude.\n5. Read the release list, fold it away from you, burn it safely.\n6. Sprinkle cinnamon over the harvest list. Fold toward you, place on altar.\n7. Say: \"I receive what I have earned. I release what did not serve me. I enter the dark half of the year with gratitude.\"\n8. Eat the apple — take the harvest into your body.\n\nBest timing: Autumn equinox (~September 22). Waning moon for releasing, any phase for gratitude.',notes:'The apple pentacle is one of the oldest symbols in folk witchcraft. Simple and powerful.'},
 {id:'pre_int_7',category:'intention',title:'Seasonal Intention Ritual — Winter (Yule)',intent:'Rest, reflection, and quiet preparation. Inner work, rest without guilt, and slowly dreaming what spring will bring.',materials:'White or red candle\nPaper and pen\nEvergreen sprigs (pine, cedar)\nClear quartz or amethyst\nOptional: cinnamon, orange slices, your Hearthfire Comfort Oil',steps:'1. Light the candle. Place evergreen on your altar — life persists even in the dark.\n2. Sit quietly. This is the longest night. Honor the darkness.\n3. Write 3 intentions for the inner season. Winter intentions are soft: \"I rest without guilt.\" \"I listen to what my body needs.\" \"I let things be quiet.\" \"I dream about what I want to build next.\"\n4. Hold your crystal. Read intentions aloud — quietly. Winter voice, not summer voice.\n5. Say: \"In the stillness, I find myself. The light will return. For now, I rest.\"\n6. Place the paper under your pillow for the longest night.\n7. In the morning, move it to your altar for the season.\n\nBest timing: Winter solstice (~December 21). New moon energy.',notes:'Your Cancer sun needs winter. It needs permission to retreat into the shell and just exist. This ritual gives that permission. Rest is sacred work.'},
 {id:'pre_int_8',category:'intention',title:'Goal-Setting Spell Format (Sigil + Petition)',intent:'A master template for turning any goal into a spell. Works for business, personal, health, creative — anything. Combines sigil creation with petition magic.',materials:'Paper and pen\nCandle (color matched to goal)\nOlive oil or matching spell oil\nRelevant herbs and crystal\nFireproof dish',steps:'1. STATE YOUR GOAL: One sentence. Present tense. \"I have 10 clients by March.\" \"I am debt free.\" \"I trust myself.\"\n\n2. CREATE YOUR SIGIL: Write the sentence. Remove all vowels. Remove repeating consonants. Arrange remaining letters into an abstract symbol. This is your sigil.\n\n3. WRITE YOUR PETITION: On a separate paper, write your name 3 times. Turn the paper 90 degrees and write your intention 3 times over your name. Anoint the four corners and center with spell oil.\n\n4. DRESS YOUR CANDLE: Anoint with oil toward you (drawing in) or away (pushing out). Roll in matching herbs.\n\n5. ACTIVATE: Place petition under candle. Draw sigil on candle or paper beside it. Light candle. Read intention aloud 3 times.\n\n6. CLOSE: Let candle burn completely or over consecutive days. Fold petition toward you and carry, or burn to release.\n\nBest timing: Match to goal — Thursday for money, Friday for love, Saturday for protection. Waxing moon for attracting, waning for releasing.',notes:'This is your master template. Once you know this format, you can create a spell for anything. Petition + sigil + candle is one of the most effective frameworks in eclectic witchcraft.'},
 {id:'pre_moon_1',category:'moon',title:'Full Moon Ritual Script',intent:'A complete full moon ritual for manifestation, release, and recharging. The most powerful night of the lunar cycle.',materials:'White or silver candle\nMoonstone or clear quartz\nPaper and pen\nFireproof dish\nSalt\nBowl of water (for moon water)\nCrystals and tools to charge\nOptional: spell oil, tarot deck',steps:'PREPARATION:\n- Clean your space. Tidy your altar.\n- Open a window if possible — let moonlight in.\n- Place crystals, tools, and water bowl where they catch moonlight.\n\nRITUAL:\n1. Light your candle. Hold moonstone or clear quartz.\n2. Take 5 deep breaths. Say: \"The moon is full. I am full. What I have been building comes to light.\"\n\n3. CELEBRATE: Write what has manifested since the new moon. Every win, every step. Read aloud with gratitude.\n\n4. RELEASE: On separate paper, write what you are releasing — what no longer serves you. Read it once. Burn it in the fireproof dish. Sprinkle salt over ashes.\n\n5. CHARGE: Place crystals, tools, and tarot deck in moonlight. Say: \"I charge these tools with the full moon. They serve me and my highest good.\"\n\n6. DIVINE: Pull a tarot card. Ask: \"What does the full moon want me to know?\" Journal your response.\n\n7. CLOSE: Let candle burn or snuff. Leave water and crystals out overnight. Retrieve before sunrise.\n\nBest timing: Full moon night, or the night before/after.',notes:'Full moon energy lasts about 3 days. Do not stress about the exact night. Emotions run high — that is normal. Let yourself feel.'},
 {id:'pre_moon_2',category:'moon',title:'New Moon Ritual Script',intent:'A complete new moon ritual for planting intentions, starting fresh, and going inward. The darkest night holds the most potential.',materials:'Black or white candle\nClear quartz or obsidian\nJournal and pen\nOptional: seeds, new moon spell oil, tarot deck',steps:'PREPARATION:\n- Dim the lights. The new moon is dark — honor that.\n- Cleanse your space with smoke, salt, or sound.\n\nRITUAL:\n1. Light your candle. Single flame in darkness = what you are about to create.\n2. Take 5 deep breaths. Say: \"The slate is clean. The moon is dark and listening. I am ready to begin.\"\n\n3. REFLECT: Journal briefly — what ended last cycle? What cleared out? What made space?\n\n4. SET INTENTIONS: Write 1-3 intentions for this lunar cycle. Present tense. Specific. \"I book 2 new clients.\" \"I finish my website.\" \"I speak kindly to myself every day.\"\n\n5. READ ALOUD: Read each intention to the flame.\n\n6. SEED: Plant a seed per intention if you have them. If not, draw a small seed next to each in your journal.\n\n7. DIVINE: Pull a tarot card. Ask: \"What energy supports me this cycle?\" Journal it.\n\n8. CLOSE: Sit in silence. Say: \"It is planted. I trust the dark to hold it until it is ready.\" Snuff the candle.\n\nBest timing: New moon night.',notes:'New moons are quiet energy. Do not make this big and loud — that is full moon energy. This is intimate, internal, still. Your Cancer sun thrives here.'},
 {id:'pre_moon_3',category:'moon',title:'Moon Water Recipes (5 Types)',intent:'Moon water is water charged under the moon. Different moons and additions create different types.',materials:'Glass jar or bowl\nWater (filtered or spring)\nMoonlight\nAdditional ingredients vary by type',steps:'BASIC MOON WATER:\nFill glass jar. Place under full moon overnight. Retrieve before sunrise. Store sealed. Use within 1 month.\n\nPROSPERITY MOON WATER:\nAdd: 3 basil leaves, a coin, pinch of cinnamon.\nUse: anoint money candles, sprinkle on doorstep, add to floor wash.\n\nLOVE/SELF-LOVE MOON WATER:\nAdd: rose petals, rose quartz chip, drop of vanilla extract.\nUse: self-love bath, anoint pink candles, sip with intention.\n\nPROTECTION MOON WATER:\nAdd: rosemary sprig, pinch of salt, black tourmaline beside (not in) jar.\nUse: sprinkle at doorways, cleansing spray, anoint thresholds.\n\nINTUITION MOON WATER:\nAdd: moonstone in water, lavender oil drop on lid (not in water), mugwort nearby.\nUse: sip before tarot, anoint third eye, wash hands before divination.\n\nNEW MOON DARK WATER:\nCharge under new moon (no moonlight visible). Obsidian beside jar.\nUse: banishing, shadow work, cord cutting, ending rituals.\n\nBest timing: Full moon for most types. New moon for dark water.',notes:'Label with date and type. Do not drink water with crystals soaked in it unless the crystal is water-safe (rose quartz is fine, selenite is NOT). When unsure, place crystal beside jar, not in it.'},
 {id:'pre_moon_4',category:'moon',title:'Lunar Cycle Spell Timing Guide',intent:'A complete reference for what magic works best during each moon phase. Use to plan your spellwork for maximum effectiveness.',materials:'Reference only',steps:'NEW MOON (Day 0-1):\nIntention setting, new beginnings, starting projects, planting seeds, rest, divination.\n\nWAXING CRESCENT (Day 2-6):\nAttraction spells, hope, momentum, gathering materials, affirmations, confidence.\n\nFIRST QUARTER (Day 7-9):\nOvercoming obstacles, courage, decision making, action magic, protection.\n\nWAXING GIBBOUS (Day 10-13):\nRefinement, patience, adjusting existing spells, trust, gratitude for progress.\n\nFULL MOON (Day 14-16):\nEVERYTHING — most powerful time. Manifestation, charging tools, divination, love, prosperity, release, moon water.\n\nWANING GIBBOUS (Day 17-20):\nGratitude, sharing, introspection, slowing down, gentle releasing.\n\nLAST QUARTER (Day 21-24):\nBanishing, cord cutting, breaking habits, forgiveness, letting go, clearing clutter, reversal work.\n\nWANING CRESCENT (Day 25-28):\nRest, surrender, cleansing, preparing for new cycle, self-care, meditation, endings.\n\nQUICK RULE:\nMoon getting bigger (waxing) = drawing things IN\nMoon getting smaller (waning) = pushing things OUT\nFull = maximum power for anything\nNew = fresh start, quiet, seeds',notes:'You do not have to wait for the perfect phase. If you need protection now, do it now. But when you can time it, aligning with the moon makes your work stronger.'},
 {id:'pre_tarot_1',category:'tarot',title:'How to Cleanse & Charge Your Tarot Deck',intent:'Keep your deck energetically clean and connected to you. Cleanse when readings feel off, after someone else handles your cards, or with a new deck.',materials:'Your tarot deck\nSmoke (rosemary, cedar, or garden sage)\nMoonlight\nClear quartz or selenite\nOptional: salt, a cloth bag',steps:'CLEANSING METHODS (pick one or combine):\n\n1. SMOKE: Pass each card through smoke, or fan smoke over the full deck.\n\n2. MOONLIGHT: Place deck in a window under the full moon overnight.\n\n3. CRYSTAL: Place selenite or clear quartz on top of your deck overnight.\n\n4. KNOCK: Hold deck in one hand, knock 3 times with the other. Breaks up stagnant energy fast.\n\n5. SALT CIRCLE: Place deck in center of a salt circle for a few hours. Put deck in a cloth bag first — do not let salt touch cards.\n\n6. SHUFFLE: Shuffle thoroughly with intention of clearing. Sometimes simplest works.\n\nCHARGING:\n1. After cleansing, hold deck in both hands.\n2. Say: \"This deck is mine. It speaks truth to me. I trust what it shows me.\"\n3. Sleep with it under your pillow one night to bond.\n4. Pull a card each morning for a week to build the relationship.\n\nBest timing: Full moon for charging. Cleanse anytime readings feel cloudy.',notes:'No rules about others touching your deck — some witches are strict, others are not. Do what feels right. If a reading feels off after someone handles your cards, cleanse. Trust your gut.'},
 {id:'pre_tarot_2',category:'tarot',title:'Essential Tarot Spreads (5 Layouts)',intent:'Five go-to spreads from single pulls to the Celtic Cross. Your foundation — create your own once you know these.',materials:'Tarot deck\nJournal\nOptional: candle, crystal, quiet space',steps:'1. SINGLE CARD PULL:\nDraw 1 card. Ask: \"What do I need to know right now?\" or \"What is today\'s energy?\"\nBest for: daily practice, quick check-ins.\n\n2. THREE-CARD SPREAD:\nDraw 3, lay left to right.\nLayouts:\n- Past | Present | Future\n- Situation | Challenge | Advice\n- Mind | Body | Spirit\n- Keep | Release | Expect\nBest for: most questions. Your everyday workhorse.\n\n3. FIVE-CARD CROSS:\nCard 1 (center): The situation\nCard 2 (left): What led here\nCard 3 (right): Where this is going\nCard 4 (above): What you are conscious of\nCard 5 (below): What you are not seeing\nBest for: more depth than 3 cards, less than Celtic Cross.\n\n4. NEW MOON SPREAD (4 cards):\nCard 1: What is ending\nCard 2: What is beginning\nCard 3: What intention to set\nCard 4: What energy supports me this cycle\nBest for: new moon ritual.\n\n5. CELTIC CROSS (10 cards):\n1: Present situation\n2: Challenge/crossing\n3: Foundation/root cause\n4: Recent past\n5: Best possible outcome\n6: Near future\n7: Your attitude\n8: External influences\n9: Hopes and fears\n10: Final outcome\nBest for: deep dives, major decisions, monthly big reads.',notes:'Start with single pulls and 3-card spreads. Build the relationship with your deck before jumping to Celtic Cross.'},
 {id:'pre_tarot_3',category:'tarot',title:'Tarot Journaling Prompts',intent:'Prompts for journaling with your tarot pulls to deepen intuition and track patterns over time.',materials:'Tarot deck\nJournal and pen',steps:'DAILY PULL FORMAT:\nDate:\nCard drawn:\nMy first gut reaction (before looking anything up):\nWhat I think this means for today:\nEnd of day — was the card accurate?\n\nWEEKLY PULL FORMAT:\nDate and moon phase:\nCard for the week:\nWhat energy does this bring?\nWhat should I watch for?\nEnd of week — how did this card show up?\n\nDEEPER PROMPTS (use with any card):\n- What part of me does this card reflect right now?\n- What is this card asking me to look at that I have been avoiding?\n- If this card were a person giving me advice, what would they say?\n- What would change if I fully embodied this card\'s energy?\n- What is the shadow side of this card — do I see it in myself?\n\nMONTHLY REVIEW:\nFlip through your pulls. Note:\n- Which cards showed up more than once?\n- Suits dominating? (Cups=emotions, Pentacles=material, Swords=mental, Wands=action)\n- Major arcana patterns?\n- Most accurate intuitive hit this month?\n\nBest timing: Daily pulls morning. Weekly Sunday. Monthly review at new moon.',notes:'The journaling is where real growth happens. After 3 months of daily journaling, you will not need to look up card meanings anymore. Your own intuitive language develops.'},
 {id:'pre_tarot_4',category:'tarot',title:'Quick Reference — Major Arcana Meanings',intent:'All 22 Major Arcana cards with upright and reversed key meanings. Quick lookup during readings.',materials:'Reference only',steps:'0 THE FOOL: New beginnings, leap of faith, innocence. Rev: recklessness, fear of change.\nI THE MAGICIAN: Manifestation, willpower, resourcefulness. Rev: manipulation, untapped potential.\nII HIGH PRIESTESS: Intuition, mystery, inner voice. Rev: ignoring intuition, secrets.\nIII THE EMPRESS: Abundance, nurturing, fertility, sensuality. Rev: neglecting self-care, creative block.\nIV THE EMPEROR: Structure, authority, stability. Rev: rigidity, control issues.\nV HIEROPHANT: Tradition, mentorship, spiritual guidance. Rev: rebellion, questioning beliefs.\nVI THE LOVERS: Love, union, choices, alignment. Rev: disharmony, misalignment.\nVII THE CHARIOT: Willpower, determination, victory. Rev: lack of direction.\nVIII STRENGTH: Courage, patience, inner strength. Rev: self-doubt, insecurity.\nIX THE HERMIT: Solitude, introspection, guidance. Rev: isolation, withdrawal.\nX WHEEL OF FORTUNE: Change, cycles, fate, turning points. Rev: bad luck, resistance to change.\nXI JUSTICE: Fairness, truth, cause and effect. Rev: dishonesty, avoidance.\nXII HANGED MAN: Surrender, new perspective, pause. Rev: stalling, resistance.\nXIII DEATH: Endings, transformation, letting go. Rev: resisting change, fear.\nXIV TEMPERANCE: Balance, patience, moderation. Rev: imbalance, excess.\nXV THE DEVIL: Shadow self, attachment, addiction. Rev: breaking free, reclaiming power.\nXVI THE TOWER: Sudden change, upheaval, revelation. Rev: fear of change, avoidance.\nXVII THE STAR: Hope, faith, renewal, inspiration. Rev: hopelessness, disconnection.\nXVIII THE MOON: Illusion, fear, subconscious, intuition. Rev: clarity, releasing fear.\nXIX THE SUN: Joy, success, vitality, confidence. Rev: temporary sadness.\nXX JUDGEMENT: Reflection, reckoning, awakening. Rev: self-doubt, avoiding a calling.\nXXI THE WORLD: Completion, wholeness, accomplishment. Rev: unfinished business.',notes:'These are starting points, not rules. Your intuitive hit matters more than the textbook meaning. If The Tower feels gentle in a reading, trust that.'},
 {id:'pre_tarot_5',category:'tarot',title:'Quick Reference — Minor Arcana by Suit',intent:'Key themes and number meanings for the four Minor Arcana suits. Quick lookup during readings.',materials:'Reference only',steps:'THE FOUR SUITS:\n\nCUPS (Water): Emotions, relationships, love, intuition, healing.\nWANDS (Fire): Action, passion, creativity, ambition, energy.\nSWORDS (Air): Mind, communication, conflict, truth, decisions.\nPENTACLES (Earth): Money, career, health, material world, stability.\n\nNUMBER MEANINGS (all suits):\nAce: New beginning, spark, opportunity.\n2: Balance, partnership, choice.\n3: Growth, collaboration, expansion.\n4: Stability, rest, foundation.\n5: Conflict, change, challenge.\n6: Harmony, transition, healing.\n7: Reflection, perseverance, strategy.\n8: Movement, mastery, progress.\n9: Near completion, resilience, attainment.\n10: Completion, fulfillment, endings.\n\nCOURT CARDS:\nPage: Student, message, curiosity.\nKnight: Action, pursuit, movement.\nQueen: Mastery, nurturing, inward power.\nKing: Authority, leadership, outward power.\n\nQUICK READING TRICK:\nSuit = area of life. Number = where in the journey. Court card = who or what energy. Combine for your answer.\n\nLots of one suit in a reading:\nAll Cups = emotional situation\nAll Swords = mental/conflict\nAll Pentacles = money/work\nAll Wands = creative/action energy',notes:'Pay attention to suit patterns in your readings. They tell you which area of life is dominant before you even read individual cards.'},
 {id:'pre_basic_1',category:'ritual',title:'How to Cast a Circle',intent:'A circle is sacred space. It creates a boundary between the mundane world and your magical working — keeps your energy focused in and unwanted energy out. Not every spell needs one, but knowing how is foundational.',materials:'You (that is all you actually need)\nOptional: salt, candles (4 for the quarters), athame or wand or your finger, crystals for the quarters, incense\n\nQUARTER CORRESPONDENCES:\nNorth = Earth (salt, green candle, pentacle, stone)\nEast = Air (incense, yellow candle, feather, wand)\nSouth = Fire (red candle, athame, carnelian)\nWest = Water (bowl of water, blue candle, shell, chalice)',steps:'SIMPLE CIRCLE (no tools needed):\n1. Stand in your space. Take 3 deep breaths. Ground yourself — feet on the floor, feel your weight.\n2. Point your dominant hand (or a wand/athame) toward the ground in front of you.\n3. Walk clockwise (deosil) in a circle around your workspace. As you walk, visualize a line of light — white, gold, or blue — flowing from your hand and forming a boundary on the ground.\n4. When you complete the circle, say: \"The circle is cast. I stand between the worlds. This space is sacred and protected.\"\n5. Do your spell, ritual, or working inside the circle.\n6. When finished, walk counterclockwise (widdershins) around the space, visualizing the light retracting back into your hand.\n7. Say: \"The circle is open but never broken. Blessed be.\"\n\nFULL CIRCLE WITH QUARTERS:\n1. Set up your 4 quarter markers (candles, crystals, or symbols) at North, East, South, West.\n2. Ground and center. Begin facing East (the direction of new beginnings).\n3. Cast the circle walking clockwise as above.\n4. Call the quarters — face each direction and invite the element:\n   East: \"I call upon Air — clarity, communication, and new beginnings. Welcome.\"\n   South: \"I call upon Fire — passion, courage, and transformation. Welcome.\"\n   West: \"I call upon Water — emotion, intuition, and healing. Welcome.\"\n   North: \"I call upon Earth — stability, abundance, and grounding. Welcome.\"\n5. Light each quarter candle as you call it.\n6. Return to center. Say: \"The circle is cast. The quarters are called. I am protected and held. Let the work begin.\"\n7. Do your working.\n8. To close: thank each quarter in reverse (North, West, South, East). Snuff each candle. Walk counterclockwise to open the circle.\n\nBest timing: Anytime you want to create formal sacred space.',notes:'You do NOT need a circle for every spell. Quick candle work, daily practices, and simple intentions are fine without one. Use a circle for: bigger rituals, deep emotional work, shadow work, anything that moves a lot of energy, full/new moon rituals, or when you want extra protection during a working. Trust your gut — if it feels like you need one, cast one.'},
 {id:'pre_basic_2',category:'ritual',title:'Grounding & Centering',intent:'The foundation of everything. Ground before spellwork, after spellwork, when anxious, when scattered, when overstimulated. This is how you come back to yourself.',materials:'Nothing required\nOptional: black tourmaline, smoky quartz, bare feet on earth or floor',steps:'GROUNDING (connecting to the earth):\n1. Stand or sit with your feet flat on the floor. Shoes off if possible.\n2. Close your eyes. Take 3 slow breaths.\n3. Visualize roots growing from the soles of your feet, pushing down through the floor, into the earth. See them going deep — past the foundation, past the rock, into the dark warm center of the earth.\n4. Feel the earth\'s energy flowing back up through the roots, into your feet, up your legs, filling your whole body. Heavy, warm, steady.\n5. You are anchored. You are here.\n\nCENTERING (coming back to yourself):\n1. After grounding, place your hand on your chest.\n2. Feel your heartbeat. That is your center.\n3. Breathe into that point. Imagine all of your scattered energy — the thoughts, the anxiety, the noise — pulling inward toward that one point in your chest.\n4. Everything consolidates. You are not everywhere. You are right here, in your body, in this moment.\n\nQUICK VERSION (30 seconds):\nFeet on floor. Three breaths. Hand on chest. Roots down. Energy in. Done.\n\nWHEN TO USE:\n- Before any spellwork or ritual\n- After intense magical work (especially circle work, shadow work, or emotional spells)\n- When you feel scattered, anxious, or overstimulated\n- When your Gemini moon is running 47 mental tabs at once\n- Before tarot readings\n- First thing in the morning if you wake up anxious\n\nBest timing: Any time. Multiple times a day if needed.',notes:'This is the most important skill in witchcraft. More important than any spell. If you can ground and center, you can do anything else from a solid foundation. Practice it until it takes seconds.'},
 {id:'pre_basic_3',category:'ritual',title:'How to Create a Sigil',intent:'A sigil is a symbol you create to represent a specific intention. It bypasses your conscious mind and plants your goal directly into your subconscious. One of the most versatile tools in witchcraft.',materials:'Paper and pen\nOptional: candle, spell oil for anointing the sigil',steps:'THE WORD METHOD (most common):\n1. Write your intention clearly in one sentence. Present tense. Example: \"I AM FINANCIALLY ABUNDANT\"\n2. Remove all vowels: M FNNCLL BNDNT\n3. Remove repeating consonants (keep only one of each): M F N C L B D T\n4. Take these remaining letters and combine them into one abstract symbol. Overlap, stack, rotate, connect — make it look like a symbol, not letters.\n5. Simplify until it feels right. It should not look like readable text.\n6. That is your sigil.\n\nTHE DESIRE METHOD:\n1. Write your intention on paper.\n2. Stare at it. Read it a few times. Let it settle in your mind.\n3. Close your eyes. Let a shape form in your mind — lines, curves, points, whatever appears.\n4. Draw what you see. Refine it until it clicks.\n\nACTIVATING YOUR SIGIL:\nA sigil is inert until activated. Activation methods:\n- FIRE: Burn the sigil (most common). Draw it on paper, light it, release it.\n- CANDLE: Carve or draw the sigil onto a candle. Burn the candle.\n- BODY: Draw the sigil on your skin with oil or eyeliner. Wear it.\n- WATER: Draw the sigil on paper, place under a glass of water, drink the water.\n- GAZE: Stare at the sigil until your vision blurs and the symbol \"disappears\" into your subconscious. Then destroy the paper.\n- HIDE: Draw it on something hidden — under your mattress, inside your wallet, behind a picture frame. Let it work passively.\n\nTHE KEY RULE: Once activated, forget about it. The sigil works in your subconscious. Obsessing over it pulls it back into your conscious mind and weakens it.\n\nBest timing: Create on the day that matches your intention. Activate on a waxing moon (building) or full moon (power).',notes:'Sigils are free, require no supplies, and work for literally anything. Business goals, confidence, protection, love, health — anything you can write as an intention, you can turn into a sigil. Combine with candle magic for extra power (carve sigil into candle, anoint, burn).'},
 {id:'pre_basic_4',category:'ritual',title:'How to Charge & Program Crystals',intent:'Crystals hold and amplify energy, but they need to be cleansed of old energy and charged with your specific intention to work effectively.',materials:'Your crystal\nMoonlight, sunlight, or smoke\nOptional: salt, selenite, sound (bell or singing bowl)',steps:'CLEANSING (clear old energy):\nPick one method:\n- MOONLIGHT: Place under full moon overnight.\n- SMOKE: Pass through rosemary, cedar, or sage smoke.\n- SALT: Bury in salt for a few hours. NOT for soft or porous stones (selenite, malachite, turquoise — salt damages them).\n- SOUND: Ring a bell or singing bowl near the crystal.\n- SELENITE: Place on a selenite slab overnight. Selenite cleanses other crystals without needing to be cleansed itself.\n- RUNNING WATER: Hold under cool running water for 30 seconds. NOT for water-soluble stones (selenite, halite, desert rose).\n\nCHARGING (filling with energy):\n- SUNLIGHT: Place in sunlight for 1-4 hours. NOT for stones that fade (amethyst, rose quartz, citrine, fluorite — brief sun is fine, not all day).\n- MOONLIGHT: Place under full moon. Works for all crystals.\n- EARTH: Bury in soil for 24 hours.\n- YOUR ENERGY: Hold in your hands, breathe on it, pour your intention into it.\n\nPROGRAMMING (giving it a job):\n1. Cleanse and charge your crystal first.\n2. Hold it in both hands.\n3. Close your eyes. State your intention clearly — what do you want this crystal to do?\n4. Examples: \"This citrine draws abundance and business success to me.\" \"This black tourmaline protects this home.\" \"This rose quartz reminds me of my worth.\"\n5. Breathe on the crystal — you are literally putting your energy and intention into it.\n6. Say: \"You are charged. You are programmed. Do your work.\"\n\nRE-CLEANSE AND RE-CHARGE:\n- Monthly at the full moon (easy habit)\n- After heavy use (lots of spellwork, carrying it during stressful times)\n- When it feels \"dead\" or heavy in your hand\n\nBest timing: Cleanse at waning moon or full moon. Charge and program at full moon or waxing moon.',notes:'Every crystal in your collection should have a job. An unprogrammed crystal is like an employee with no task — it just sits there. Give each one a clear purpose and it works harder for you.'},
 {id:'pre_basic_5',category:'ritual',title:'Setting Up & Maintaining an Altar',intent:'Your altar is your workspace, your sacred space, and a physical anchor for your practice. It does not need to be elaborate. It needs to be intentional.',materials:'A flat surface (table, shelf, dresser top, windowsill — anywhere)\nCloth (optional but sets the space apart)\nCandle (any color — white is universal)\nSomething from each element is traditional but not required:\n- Earth: crystal, salt, plant, coin\n- Air: feather, incense, bell\n- Fire: candle, matches\n- Water: small bowl of water, shell\nAnything else meaningful to you',steps:'SETTING UP:\n1. Choose your spot. It can be a full table or a corner of a shelf. What matters is that it is your space dedicated to your practice.\n2. Cleanse the area with smoke or salt water.\n3. Lay a cloth if you want (color can match the season or your current focus).\n4. Place your items with intention — there are no rules about exact placement. Traditional layout puts Earth/North at the back, Air/East to the right, Fire/South at the front, Water/West to the left, and your working candle in the center.\n5. Add personal items: photos, written intentions, tarot cards, your spell oils, anything that holds meaning.\n6. Light your candle. Say: \"This space is sacred. It is mine. It holds my practice and my intention.\"\n\nMAINTAINING:\n- Keep it clean. Dust collects stale energy.\n- Refresh weekly (Sundays during your reset ritual).\n- Update seasonally — swap colors, crystals, herbs, and decor to match the season or your current focus.\n- Remove completed spell remains promptly.\n- Your altar should reflect where you are RIGHT NOW, not where you were 3 months ago.\n\nCURRENT FOCUS SUGGESTIONS:\nSince you are focused on abundance and self-love right now:\n- Green cloth or accent\n- Citrine + rose quartz as anchors\n- Money bowl on or near the altar\n- Your Autumn Money Magnet Oil + Self-Love Oil\n- A written abundance intention\n- Fresh cinnamon sticks\n- A bay leaf with your financial goal written on it\n\nBest timing: Set up on a new moon for fresh starts. Refresh every Sunday.',notes:'Your altar is alive. It changes as you change. If it feels stale, it probably is — refresh it. If you walk past it without noticing it, it is not working. An altar should pull your attention every time you see it.'},
 {id:'pre_basic_6',category:'ritual',title:'How to Anoint a Candle (Candle Dressing)',intent:'Anointing (also called dressing) a candle programs it with your intention and the properties of whatever oil and herbs you use. This is the foundation of candle magic.',materials:'Candle (any size or color)\nOil (olive oil, spell oil, or specific essential/fragrance oil)\nOptional: dried herbs to roll the candle in\nOptional: pin or knife for carving',steps:'CHOOSING YOUR CANDLE COLOR:\nWhite = universal, purity, any purpose (use when you do not have the right color)\nBlack = protection, banishing, absorbing negativity\nRed = passion, courage, strength, lust\nPink = love, self-love, friendship, emotional healing\nGreen = money, prosperity, abundance, growth, fertility\nBlue = healing, peace, truth, communication\nYellow = clarity, intellect, confidence, joy\nPurple = spiritual power, psychic ability, wisdom\nGold = success, wealth, solar energy, personal power\nOrange = creativity, energy, attraction, opportunity\n\nCANDLE DRESSING METHOD:\n1. CARVE (optional): Use a pin or knife to carve your name, intention, sigil, or symbols into the wax.\n2. OIL DIRECTION MATTERS:\n   - Drawing something TO you: rub oil from the top of the candle toward the middle, then from the bottom toward the middle. You are pulling energy inward.\n   - Pushing something AWAY: rub oil from the middle outward toward both ends. You are pushing energy out.\n3. ROLL IN HERBS (optional): While the oil is still wet, roll the candle in dried herbs that match your intention. Basil + cinnamon for money. Rose petals for love. Rosemary for protection.\n4. CHARGE: Hold the dressed candle. State your intention aloud. Feel it. Then place in your holder.\n5. LIGHT with purpose. Say your intention again as you strike the match.\n\nIMPORTANT RULES:\n- Never blow out a spell candle — snuff it. Blowing scatters the energy.\n- If you snuff and relight over multiple days, restate your intention each time.\n- Let the candle burn completely when possible for full release.\n- Never leave candles unattended.\n\nBest timing: Match to your intention. Start candle spells on the corresponding day and moon phase.',notes:'Candle magic is the backbone of most eclectic witchcraft. Once you know how to dress a candle, you can do almost any spell. Every candle spell in your Book of Shadows uses this technique.'},
 {id:'pre_basic_7',category:'ritual',title:'How to Write a Petition',intent:'A petition is a written magical request — your intention on paper, charged and activated. Used in candle magic, spell jars, burning rituals, and under crystals or your pillow.',materials:'Paper (unlined is traditional but lined works fine)\nPen (some traditions say specific colors — black for banishing, green for money, red for love — but any pen works)\nSpell oil for anointing\nOptional: candle for burning',steps:'BASIC PETITION:\n1. Write your intention on the paper. Be specific and present tense. \"I have 10 clients by March 1.\" \"My home is protected.\" \"I am confident and trust myself.\"\n2. Fold the paper TOWARD you to draw something in. Fold AWAY from you to push something out.\n3. Turn the paper 90 degrees and fold again in the same direction. Repeat once more (3 folds total).\n4. Place under a candle, in a spell jar, under your pillow, in your wallet, etc.\n\nNAME PAPER (for work involving a specific person or yourself):\n1. Write the person\'s full name 3 times, one under the other.\n2. Turn the paper 90 degrees clockwise.\n3. Write your intention 3 times, crossing over the name.\n4. Anoint the 4 corners and center of the paper with spell oil (\"five-spot\" pattern).\n5. Fold toward you (drawing) or away (pushing).\n\nPETITION + SIGIL COMBO:\n1. Write your intention. Create a sigil from it (see How to Create a Sigil).\n2. Draw the sigil on the back of the petition paper.\n3. Anoint with spell oil. Fold.\n4. Place under candle or in spell jar. The sigil amplifies the written word.\n\nACTIVATING:\n- Place under a burning candle (the heat and flame charge it)\n- Burn the petition to release the intention to the universe\n- Bury it (your yard = keep it close, crossroads = send it out, off property = banish)\n- Carry it (wallet, bag, pocket)\n- Place in a spell jar and seal\n\nBest timing: Match to your intention.',notes:'Petitions and sigils together are extremely powerful. You already have the Goal-Setting Spell Format entry that combines both with candle magic — that is your master template. This entry covers the basics so you understand each piece.'},
 {id:'pre_basic_8',category:'ritual',title:'Magical Timing Quick Reference',intent:'A cheat sheet for when to do what — days of the week, moon phases, and times of day all in one place.',materials:'Reference only',steps:'DAYS OF THE WEEK:\nSunday (Sun): Success, personal power, vitality, new projects, confidence\nMonday (Moon): Intuition, emotions, dreams, psychic work, fertility\nTuesday (Mars): Courage, protection, boundaries, strength, competition\nWednesday (Mercury): Communication, clarity, divination, travel, intellect\nThursday (Jupiter): Prosperity, abundance, luck, growth, expansion, legal matters\nFriday (Venus): Love, self-love, beauty, friendship, pleasure, art\nSaturday (Saturn): Protection, banishing, endings, shadow work, discipline, boundaries\n\nMOON PHASES:\nNew Moon: Set intentions, plant seeds, begin\nWaxing: Build, attract, draw in, grow\nFull Moon: Maximum power, manifest, charge, celebrate, divine\nWaning: Release, banish, cut cords, let go, cleanse\nDark Moon: Rest, shadow work, endings, be still\n\nTIME OF DAY:\nDawn: New beginnings, hope, fresh energy\nNoon: Peak power (like a daily full moon)\nDusk: Transition, balance between worlds, liminal magic\nMidnight: Deep magic, spirit work, divination, the witching hour\n\nCOMBINING FOR POWER:\nWant maximum prosperity magic? Thursday + waxing moon + noon.\nDeep protection? Saturday + waning moon + midnight.\nSelf-love boost? Friday + full moon + dusk.\n\nBUT REMEMBER: Do the spell when you need it. Perfect timing enhances magic — it does not make or break it. A protection spell done Tuesday at 2 PM because you need it NOW is better than waiting for Saturday.',notes:'Print this or screenshot it. Refer to it when planning your spellwork. Over time you will memorize it, but having the reference saves second-guessing.'}
 ];

 
 let spells = [];
 let currentSpellFilter = 'all';
 let editingSpellId = null;
 let currentCorrSubFilter = 'all';

 function loadSpells() {
 var saved = localStorage.getItem('spellbook_kasey');
 if (saved) {
 try { spells = JSON.parse(saved); } catch(e) { spells = []; }
 }
 // Seed preloaded spells if not already present
 var existingIds = {};
 spells.forEach(function(s) { existingIds[s.id] = true; });
 var added = false;
 preloadedSpells.forEach(function(ps) {
 if (!existingIds[ps.id]) { spells.push(ps); added = true; }
 });
 if (added) {
 localStorage.setItem('spellbook_kasey', JSON.stringify(spells));
 }
 renderSpells();
 loadFromFirebase('spellbook_kasey').then(function(data) {
 if (data && Array.isArray(data)) {
 spells = data;
 localStorage.setItem('spellbook_kasey', JSON.stringify(spells));
 renderSpells();
 } else if (saved) {
 syncToFirebase('spellbook_kasey', spells);
 }
 });
 setupFirebaseListener('spellbook_kasey', function(data) {
 if (data && Array.isArray(data)) {
 spells = data;
 localStorage.setItem('spellbook_kasey', JSON.stringify(spells));
 renderSpells();
 }
 });
 }

 function saveSpellData() {
 localStorage.setItem('spellbook_kasey', JSON.stringify(spells));
 syncToFirebase('spellbook_kasey', spells);
 }

 function filterSpells(cat) {
 currentSpellFilter = cat;
 document.querySelectorAll('.spell-cat-btn').forEach(function(b) { b.classList.remove('active'); });
 event.target.classList.add('active');
 renderSpells();
 }

 var dailyPracticeSchedule = {
 0: { day:'Sunday', ruler:'Sun', color:'Gold / Yellow', crystal:'Citrine', candle:'Gold or yellow', focus:'Success, vitality, personal power, new projects',
 morning:{title:'Morning Light Intention', time:'~5 min', desc:'Light a gold or yellow candle. Hold citrine in your hand. Set one clear intention for the day — something you want to accomplish or embody. Apply Autumn Money Magnet Oil to wrists. Speak it aloud. Let the candle burn while you get ready (or snuff safely).'},
 evening:{title:'Tarot Pull + Reflection', time:'~10 min', desc:'Pull a single tarot card for the week ahead. Journal what comes up — what energy is present, what to watch for. Place the card on your altar for the week as a visual anchor.'},
 weekly:{title:'Sunday Reset Ritual', time:'~20-30 min', desc:'This is your weekly big ritual. Cleanse your space with rosemary or cedar smoke. Refresh your altar — swap crystals, clear old spell remains, add fresh elements. Charge your crystals and tools under sunlight. Review last week\'s intentions and set new ones. Light a candle dressed with cinnamon oil for a strong start to the week.'}
 },
 1: { day:'Monday', ruler:'Moon', color:'Silver / White', crystal:'Moonstone', candle:'White or silver', focus:'Intuition, emotions, dreams, psychic work',
 morning:{title:'Moon Water + Intention', time:'~5 min', desc:'If you have moon water, drink a small sip or add to your tea with the intention of opening your intuition for the day. Hold moonstone for a moment and take three deep breaths. Set a quiet intention — Mondays are for listening, not pushing.'},
 evening:{title:'Dream Prep', time:'~10 min', desc:'Place mugwort or lavender under your pillow or in a sachet on your nightstand. Before sleep, hold your moonstone and ask for clarity in your dreams. Keep a notebook by your bed. If you journal tonight, focus on emotions — what are you actually feeling right now?'}
 },
 2: { day:'Tuesday', ruler:'Mars', color:'Red', crystal:'Carnelian', candle:'Red', focus:'Courage, strength, protection, boundaries',
 morning:{title:'Protection Carry', time:'~3 min', desc:'Carry black tourmaline or carnelian in your pocket today. As you pick it up, say (aloud or silently): I am protected. I am strong. Nothing that is not mine can reach me. Apply Forest Shield Protection Oil to wrists and back of neck. That is your shield for the day.'},
 evening:{title:'Boundary Candle', time:'~10 min', desc:'Light a red candle. Think about where your boundaries were tested this week or where you need to be firmer. Write it down on a small piece of paper. Fold it away from you and place it under the candle. Let it burn for a few minutes while you sit with that energy. Snuff the candle — relight tomorrow if the work feels unfinished.'}
 },
 3: { day:'Wednesday', ruler:'Mercury', color:'Yellow / Purple', crystal:'Fluorite', candle:'Yellow', focus:'Communication, intellect, clarity, divination',
 morning:{title:'Clarity Tea', time:'~5 min', desc:'Brew mint or lemon balm tea with intention. As you stir, stir clockwise and think about what you need to communicate clearly today — a conversation, a decision, an idea. Drink with presence. Carry fluorite if you have a lot of mental work today.'},
 evening:{title:'Quick Divination', time:'~10 min', desc:'Pull 1-3 tarot or oracle cards. Ask: What do I need to know right now? or What am I not seeing? Sit with the cards for a few minutes. Journal one sentence about each card — gut reaction only, don\'t overthink it. Your Gemini moon will want to analyze — let your Cancer intuition lead instead.'}
 },
 4: { day:'Thursday', ruler:'Jupiter', color:'Green / Royal Blue', crystal:'Green Aventurine', candle:'Green', focus:'Prosperity, abundance, luck, growth, expansion',
 morning:{title:'Cinnamon Abundance', time:'~5 min', desc:'If it\'s the first Thursday of the month, blow cinnamon through your front door for prosperity. Otherwise, light a green candle and hold aventurine or citrine. Apply Autumn Money Magnet Oil to your wrists. Say: I am a magnet for abundance. Clients, money, and opportunities find me easily. Keep the candle burning while you start your work (or snuff safely).'},
 evening:{title:'Gratitude + Prosperity Check', time:'~10 min', desc:'Write down three things that went well financially or professionally this week — even tiny things count. Place a bay leaf in your wallet if you haven\'t in a while. Hold citrine and visualize your business goals as already accomplished. Feel it, don\'t just think it.'}
 },
 5: { day:'Friday', ruler:'Venus', color:'Pink / Green', crystal:'Rose Quartz', candle:'Pink', focus:'Love, self-love, beauty, friendship, pleasure',
 morning:{title:'Self-Love Ritual', time:'~5 min', desc:'This is your day. Apply Self-Love & Intuition Oil to your wrists and heart center — every touch is an act of care. Hold rose quartz over your heart for a moment. Say: I am worthy of the love I give others. Light a pink candle if you have time.'},
 evening:{title:'Rose Quartz Bath or Ritual', time:'~10-15 min', desc:'If you can, take a bath with rose petals, lavender, and a pink candle nearby. If not, wash your hands or face in warm water with a drop of rose water. Hold rose quartz. This is not about doing magic — it\'s about receiving. Let yourself be soft tonight.'}
 },
 6: { day:'Saturday', ruler:'Saturn', color:'Black', crystal:'Black Tourmaline or Obsidian', candle:'Black', focus:'Protection, banishing, endings, boundaries, shadow work',
 morning:{title:'Smoke Cleanse', time:'~5 min', desc:'Burn rosemary, garden sage, or cedar and walk through your home. Pay attention to corners, doorways, and anywhere energy feels stale. Open a window to let it move out. This is your weekly energetic reset. Set black tourmaline by your front door if it\'s not there already.'},
 evening:{title:'Release Writing', time:'~10 min', desc:'Write down one thing you need to let go of — a thought pattern, a grudge, a fear, an old version of yourself. Read it once. Then burn it safely (in a fireproof dish). As it burns, say: I release this. It no longer serves me. Sit with the quiet after. Saturday nights are for shedding.'}
 }
 };

 function renderDailyPractice() {
 var container = document.getElementById('spellList');
 if (!container) return;
 var today = new Date().getDay();
 var sched = dailyPracticeSchedule[today];
 var days = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
 var h = '';

 // Today's practice card
 h += '<div style="text-align:center;margin-bottom:16px;"><span style="font-family:Dancing Script,cursive;font-size:1.3rem;color:#a8c99b;">' + sched.day + '\'s Practice</span><br>';
 h += '<span style="font-size:0.72rem;color:#c4d9b5;letter-spacing:0.08em;text-transform:uppercase;">Ruled by ' + sched.ruler + '</span></div>';

 // Today's details
 h += '<div class="spell-card corr-card" style="border-left-color:#4a5c3f;">';
 h += '<div style="display:flex;gap:10px;flex-wrap:wrap;margin-bottom:10px;">';
 h += '<span style="font-size:0.72rem;background:rgba(168,201,155,0.15);padding:3px 8px;color:#4a6a3e;">Candle: ' + sched.candle + '</span>';
 h += '<span style="font-size:0.72rem;background:rgba(168,201,155,0.15);padding:3px 8px;color:#4a6a3e;">Crystal: ' + sched.crystal + '</span>';
 h += '<span style="font-size:0.72rem;background:rgba(168,201,155,0.15);padding:3px 8px;color:#4a6a3e;">Color: ' + sched.color + '</span>';
 h += '</div>';
 h += '<div class="spell-card-intent" style="margin-bottom:6px;">' + sched.focus + '</div>';
 h += '</div>';

 // Morning
 h += '<div class="spell-card" style="border-left-color:#8fa87a;">';
 h += '<div class="spell-card-header"><div class="spell-card-title">' + sched.morning.title + '</div><span class="spell-card-tag" style="background:rgba(168,201,155,0.15);color:#4a6a3e;">' + sched.morning.time + '</span></div>';
 h += '<div class="spell-card-body">' + sched.morning.desc + '</div></div>';

 // Evening
 h += '<div class="spell-card" style="border-left-color:#8fa87a;">';
 h += '<div class="spell-card-header"><div class="spell-card-title">' + sched.evening.title + '</div><span class="spell-card-tag" style="background:rgba(168,201,155,0.15);color:#4a6a3e;">' + sched.evening.time + '</span></div>';
 h += '<div class="spell-card-body">' + sched.evening.desc + '</div></div>';

 // Weekly ritual (show on Sunday)
 if (sched.weekly) {
 h += '<div style="text-align:center;margin:20px 0 12px;"><svg viewBox="0 0 200 16" width="160" height="14" fill="none" style="display:block;margin:0 auto;"><line x1="8" y1="8" x2="52" y2="8" stroke="#8fa87a" stroke-width="0.5" opacity="0.35"/><circle cx="62" cy="8" r="4" fill="none" stroke="#8fa87a" stroke-width="0.6" opacity="0.35"/><circle cx="76" cy="8" r="4" fill="none" stroke="#8fa87a" stroke-width="0.6" opacity="0.35"/><path d="M76,4 A4,4 0 0,1 76,12 A2.5,4 0 0,0 76,4" fill="#8fa87a" opacity="0.4"/><circle cx="90" cy="8" r="4" fill="none" stroke="#8fa87a" stroke-width="0.6" opacity="0.35"/><path d="M90,4 A4,4 0 0,1 90,12 L90,4 Z" fill="#8fa87a" opacity="0.4"/><circle cx="104" cy="8" r="4.5" fill="#8fa87a" opacity="0.5"/><circle cx="118" cy="8" r="4" fill="none" stroke="#8fa87a" stroke-width="0.6" opacity="0.35"/><path d="M118,4 A4,4 0 0,0 118,12 L118,4 Z" fill="#8fa87a" opacity="0.4"/><circle cx="132" cy="8" r="4" fill="none" stroke="#8fa87a" stroke-width="0.6" opacity="0.35"/><path d="M132,4 A4,4 0 0,0 132,12 A2.5,4 0 0,1 132,4" fill="#8fa87a" opacity="0.4"/><circle cx="146" cy="8" r="4" fill="none" stroke="#8fa87a" stroke-width="0.6" opacity="0.35"/><line x1="156" y1="8" x2="198" y2="8" stroke="#8fa87a" stroke-width="0.5" opacity="0.35"/></svg></div>';
 h += '<div style="text-align:center;margin-bottom:12px;"><span style="font-family:Dancing Script,cursive;font-size:1.1rem;color:#a8c99b;">Weekly Ritual</span></div>';
 h += '<div class="spell-card" style="border-left-color:#4a5c3f;background:#edecd5;">';
 h += '<div class="spell-card-header"><div class="spell-card-title">' + sched.weekly.title + '</div><span class="spell-card-tag" style="background:rgba(168,201,155,0.15);color:#4a6a3e;">' + sched.weekly.time + '</span></div>';
 h += '<div class="spell-card-body">' + sched.weekly.desc + '</div></div>';
 }

 // Quick view of other days
 h += '<div style="text-align:center;margin:24px 0 12px;"><svg viewBox="0 0 200 16" width="160" height="14" fill="none" style="display:block;margin:0 auto;"><line x1="8" y1="8" x2="52" y2="8" stroke="#8fa87a" stroke-width="0.5" opacity="0.35"/><circle cx="62" cy="8" r="4" fill="none" stroke="#8fa87a" stroke-width="0.6" opacity="0.35"/><circle cx="76" cy="8" r="4" fill="none" stroke="#8fa87a" stroke-width="0.6" opacity="0.35"/><path d="M76,4 A4,4 0 0,1 76,12 A2.5,4 0 0,0 76,4" fill="#8fa87a" opacity="0.4"/><circle cx="90" cy="8" r="4" fill="none" stroke="#8fa87a" stroke-width="0.6" opacity="0.35"/><path d="M90,4 A4,4 0 0,1 90,12 L90,4 Z" fill="#8fa87a" opacity="0.4"/><circle cx="104" cy="8" r="4.5" fill="#8fa87a" opacity="0.5"/><circle cx="118" cy="8" r="4" fill="none" stroke="#8fa87a" stroke-width="0.6" opacity="0.35"/><path d="M118,4 A4,4 0 0,0 118,12 L118,4 Z" fill="#8fa87a" opacity="0.4"/><circle cx="132" cy="8" r="4" fill="none" stroke="#8fa87a" stroke-width="0.6" opacity="0.35"/><path d="M132,4 A4,4 0 0,0 132,12 A2.5,4 0 0,1 132,4" fill="#8fa87a" opacity="0.4"/><circle cx="146" cy="8" r="4" fill="none" stroke="#8fa87a" stroke-width="0.6" opacity="0.35"/><line x1="156" y1="8" x2="198" y2="8" stroke="#8fa87a" stroke-width="0.5" opacity="0.35"/></svg></div>';
 h += '<div style="text-align:center;margin-bottom:14px;"><span style="font-family:Dancing Script,cursive;font-size:1.1rem;color:#a8c99b;">Full Week at a Glance</span></div>';

 for (var d = 0; d < 7; d++) {
 var ds = dailyPracticeSchedule[d];
 var isToday = (d === today);
 h += '<div class="spell-card" style="border-left-color:' + (isToday ? '#4a5c3f' : 'rgba(143,168,122,0.4)') + ';' + (isToday ? 'background:#edecd5;' : 'opacity:0.85;') + 'cursor:pointer;" onclick="this.classList.toggle(\'expanded-day\')">';
 h += '<div class="spell-card-header"><div class="spell-card-title">' + ds.day + (isToday ? ' (today)' : '') + '</div><span class="spell-card-tag" style="background:rgba(168,201,155,0.15);color:#4a6a3e;">' + ds.ruler + '</span></div>';
 h += '<div class="spell-card-intent">' + ds.focus + '</div>';
 h += '<div class="day-practice-details" style="display:none;margin-top:10px;border-top:1px solid rgba(122,138,110,0.15);padding-top:10px;">';
 h += '<div style="font-size:0.75rem;font-weight:600;color:#5a7a4a;margin-bottom:4px;">Morning: ' + ds.morning.title + ' (' + ds.morning.time + ')</div>';
 h += '<div style="font-size:0.8rem;color:#5a4a4c;margin-bottom:10px;">' + ds.morning.desc + '</div>';
 h += '<div style="font-size:0.75rem;font-weight:600;color:#5a7a4a;margin-bottom:4px;">Evening: ' + ds.evening.title + ' (' + ds.evening.time + ')</div>';
 h += '<div style="font-size:0.8rem;color:#5a4a4c;">' + ds.evening.desc + '</div>';
 if (ds.weekly) {
 h += '<div style="font-size:0.75rem;font-weight:600;color:#4a5c3f;margin:10px 0 4px;">Weekly: ' + ds.weekly.title + ' (' + ds.weekly.time + ')</div>';
 h += '<div style="font-size:0.8rem;color:#5a4a4c;">' + ds.weekly.desc + '</div>';
 }
 h += '</div></div>';
 }

 container.innerHTML = h;

 // Add click to expand
 container.querySelectorAll('.expanded-day').forEach(function(el) { el.querySelector('.day-practice-details').style.display = 'block'; });
 container.addEventListener('click', function(e) {
 var card = e.target.closest('.spell-card[onclick]');
 if (card) {
 var det = card.querySelector('.day-practice-details');
 if (det) det.style.display = det.style.display === 'none' ? 'block' : 'none';
 }
 });
 }

 function renderSpells() {
 var container = document.getElementById('spellList');
 if (!container) return;
 var search = (document.getElementById('spellSearch') || {}).value || '';
 search = search.toLowerCase();
 var subcatLabels = {herb:'Herbs & Plants',crystal:'Crystals & Stones',color:'Colors',day:'Days of the Week',element:'Elements',incense:'Incense & Resins',natural:'Natural Items',oil:'Oils',moon:'Moon Phases'};
 var subcatLabelsShort = {herb:'Herb',crystal:'Crystal',color:'Color',day:'Day',element:'Element',incense:'Incense',natural:'Natural',oil:'Oil',moon:'Moon'};

 if (currentSpellFilter === 'dailypractice') {
 renderDailyPractice();
 return;
 }

 if (currentSpellFilter === 'correspondence') {
 var subBtns = '<div class="spell-sub-filters"><button class="spell-sub-btn' + (currentCorrSubFilter==='all'?' active':'') + '" onclick="currentCorrSubFilter=\'all\';renderSpells()">All</button>';
 Object.keys(subcatLabels).forEach(function(k) {
 subBtns += '<button class="spell-sub-btn' + (currentCorrSubFilter===k?' active':'') + '" onclick="currentCorrSubFilter=\'' + k + '\';renderSpells()">' + subcatLabels[k] + '</button>';
 });
 subBtns += '</div>';
 var cFiltered = correspondenceDB.filter(function(c) {
 if (currentCorrSubFilter !== 'all' && c.subcat !== currentCorrSubFilter) return false;
 if (search && c.title.toLowerCase().indexOf(search) === -1 && (c.intent||'').toLowerCase().indexOf(search) === -1 && (c.steps||'').toLowerCase().indexOf(search) === -1 && (c.materials||'').toLowerCase().indexOf(search) === -1 && (c.notes||'').toLowerCase().indexOf(search) === -1) return false;
 return true;
 });
 if (cFiltered.length === 0) { container.innerHTML = subBtns + '<div class="spell-empty">Nothing found.</div>'; return; }
 container.innerHTML = subBtns + cFiltered.map(function(c) {
 var h = '<div class="spell-card corr-card spell-expandable" onclick="this.classList.toggle(\'spell-open\')">';
 h += '<div class="spell-card-header"><div class="spell-card-title">' + c.title + '</div>';
 h += '<span class="spell-card-tag corr-tag">' + (subcatLabelsShort[c.subcat] || c.subcat) + '</span></div>';
 if (c.intent) h += '<div class="spell-card-intent">' + c.intent + '</div>';
 h += '<div class="spell-card-expand-icon">tap to expand</div>';
 h += '<div class="spell-card-details">';
 if (c.materials) h += '<div class="corr-element">' + c.materials + '</div>';
 if (c.steps) { h += '<div class="spell-card-section-label">How to Use</div>'; h += '<div class="spell-card-body">' + c.steps + '</div>'; }
 if (c.notes) h += '<div class="spell-card-notes">' + c.notes + '</div>';
 h += '</div></div>'; return h;
 }).join('');
 return;
 }

 var filtered = spells.filter(function(s) {
 if (currentSpellFilter !== 'all' && s.category !== currentSpellFilter) return false;
 if (search && s.title.toLowerCase().indexOf(search) === -1 && (s.intent || '').toLowerCase().indexOf(search) === -1 && (s.steps || '').toLowerCase().indexOf(search) === -1 && (s.materials || '').toLowerCase().indexOf(search) === -1 && (s.notes || '').toLowerCase().indexOf(search) === -1) return false;
 return true;
 });
 var corrResults = [];
 if (search && currentSpellFilter === 'all') {
 corrResults = correspondenceDB.filter(function(c) {
 return c.title.toLowerCase().indexOf(search) !== -1 || (c.intent||'').toLowerCase().indexOf(search) !== -1 || (c.steps||'').toLowerCase().indexOf(search) !== -1 || (c.materials||'').toLowerCase().indexOf(search) !== -1 || (c.notes||'').toLowerCase().indexOf(search) !== -1;
 });
 }
 if (filtered.length === 0 && corrResults.length === 0 && spells.length === 0) {
 container.innerHTML = '<div class="spell-empty">The pages are blank and the moon is listening.<br>Add your first spell, ritual, or intention.</div>';
 return;
 }
 if (filtered.length === 0 && corrResults.length === 0) {
 container.innerHTML = '<div class="spell-empty">Nothing found for this search or category.</div>';
 return;
 }
 var catLabels = { spell:'Spell', ritual:'Ritual', intention:'Intention', moon:'Moon Work', tarot:'Tarot', correspondence:'Correspondence' };
 var html = filtered.map(function(s) {
 var h = '<div class="spell-card spell-expandable" onclick="this.classList.toggle(\'spell-open\')">';
 h += '<div class="spell-card-header"><div class="spell-card-title">' + (s.title || 'Untitled') + '</div>';
 h += '<span class="spell-card-tag">' + (catLabels[s.category] || s.category) + '</span></div>';
 if (s.intent) h += '<div class="spell-card-intent">' + s.intent.replace(/\\n/g, '<br>') + '</div>';
 h += '<div class="spell-card-expand-icon">tap to expand</div>';
 h += '<div class="spell-card-details">';
 if (s.materials) { h += '<div class="spell-card-section-label">Materials</div>'; h += '<div class="spell-card-body">' + s.materials.replace(/\\n/g, '<br>') + '</div>'; }
 if (s.steps) { h += '<div class="spell-card-section-label">Steps</div>'; h += '<div class="spell-card-body">' + s.steps.replace(/\\n/g, '<br>') + '</div>'; }
 if (s.notes) h += '<div class="spell-card-notes">' + s.notes.replace(/\\n/g, '<br>') + '</div>';
 h += '<div class="spell-card-actions" onclick="event.stopPropagation()">';
 h += '<button onclick="editSpell(\'' + s.id + '\')">Edit</button>';
 h += '<button onclick="deleteSpell(\'' + s.id + '\')">Delete</button>';
 h += '</div></div></div>'; return h;
 }).join('');
 if (corrResults.length > 0) {
 html += '<div style="text-align:center;margin:18px 0 10px;font-family:Dancing Script,cursive;color:#4a5c3f;font-size:1rem;">Reference Matches</div>';
 html += corrResults.map(function(c) {
 var h = '<div class="spell-card corr-card spell-expandable" onclick="this.classList.toggle(\'spell-open\')">';
 h += '<div class="spell-card-header"><div class="spell-card-title">' + c.title + '</div>';
 h += '<span class="spell-card-tag corr-tag">' + (subcatLabelsShort[c.subcat] || c.subcat) + '</span></div>';
 if (c.intent) h += '<div class="spell-card-intent">' + c.intent + '</div>';
 h += '<div class="spell-card-expand-icon">tap to expand</div>';
 h += '<div class="spell-card-details">';
 if (c.materials) h += '<div class="corr-element">' + c.materials + '</div>';
 if (c.steps) { h += '<div class="spell-card-section-label">How to Use</div>'; h += '<div class="spell-card-body">' + c.steps + '</div>'; }
 if (c.notes) h += '<div class="spell-card-notes">' + c.notes + '</div>';
 h += '</div></div>'; return h;
 }).join('');
 }
 container.innerHTML = html;
 }

 function openSpellForm(spell) {
 editingSpellId = spell ? spell.id : null;
 document.getElementById('spellTitle').value = spell ? spell.title : '';
 document.getElementById('spellCategory').value = spell ? spell.category : 'spell';
 document.getElementById('spellIntent').value = spell ? (spell.intent || '') : '';
 document.getElementById('spellMaterials').value = spell ? (spell.materials || '') : '';
 document.getElementById('spellSteps').value = spell ? (spell.steps || '') : '';
 document.getElementById('spellNotes').value = spell ? (spell.notes || '') : '';
 document.querySelector('.spell-form-header h3').textContent = spell ? 'Edit Entry' : 'New Entry';
 document.getElementById('spellFormOverlay').classList.add('active');
 }

 function closeSpellForm() {
 document.getElementById('spellFormOverlay').classList.remove('active');
 editingSpellId = null;
 }

 function saveSpell() {
 var title = document.getElementById('spellTitle').value.trim();
 if (!title) { alert('Give your entry a name.'); return; }
 var entry = {
 id: editingSpellId || ('sp_' + Date.now()),
 title: title,
 category: document.getElementById('spellCategory').value,
 intent: document.getElementById('spellIntent').value.trim(),
 materials: document.getElementById('spellMaterials').value.trim(),
 steps: document.getElementById('spellSteps').value.trim(),
 notes: document.getElementById('spellNotes').value.trim(),
 created: editingSpellId ? (spells.find(function(s){ return s.id === editingSpellId; }) || {}).created || new Date().toISOString() : new Date().toISOString(),
 updated: new Date().toISOString()
 };
 if (editingSpellId) {
 var idx = spells.findIndex(function(s) { return s.id === editingSpellId; });
 if (idx !== -1) spells[idx] = entry;
 } else {
 spells.unshift(entry);
 }
 saveSpellData();
 renderSpells();
 closeSpellForm();
 }

 function editSpell(id) {
 var spell = spells.find(function(s) { return s.id === id; });
 if (spell) openSpellForm(spell);
 }

 function deleteSpell(id) {
 if (!confirm('Remove this entry from your book?')) return;
 spells = spells.filter(function(s) { return s.id !== id; });
 saveSpellData();
 renderSpells();
 }

 // ===== MOON PHASE =====
 function getMoonPhase() {
 var now = new Date();
 // Known new moon: Jan 29, 2025 12:36 UTC
 var knownNew = new Date(Date.UTC(2025, 0, 29, 12, 36, 0));
 var synodic = 29.53058770576;
 var diff = (now.getTime() - knownNew.getTime()) / (1000 * 60 * 60 * 24);
 var cycle = ((diff % synodic) + synodic) % synodic;
 var age = cycle;
 var illumination = Math.round((1 - Math.cos(2 * Math.PI * age / synodic)) / 2 * 100);

 var phase, desc, energy;
 if (age < 1.85) {
 phase = 'New Moon';
 desc = 'Good time to set intentions. Trust what comes up first — your Cancer intuition is sharp. Write it down before your Gemini moon starts second-guessing.';
 energy = 'Stillness, new beginnings, planting seeds';
 } else if (age < 7.38) {
 phase = 'Waxing Crescent';
 desc = 'What you set in motion is building. Stay with it. Your Leo rising wants results now — patience. Just keep showing up.';
 energy = 'Hope, intention, momentum building';
 } else if (age < 9.23) {
 phase = 'First Quarter';
 desc = 'This is where it gets uncomfortable. Your Cancer side wants to pull back — notice that, and stay anyway. Discomfort is not a sign to stop.';
 energy = 'Action, determination, overcoming obstacles';
 } else if (age < 14.77) {
 phase = 'Waxing Gibbous';
 desc = 'Almost there. Your Gemini moon is tempted to start something new — not yet. Finish what you started. Refine, don\'t redirect.';
 energy = 'Patience, refinement, trust';
 } else if (age < 16.61) {
 phase = 'Full Moon';
 desc = 'Feelings are amplified. You already feel everything deeply as a Cancer sun — tonight even more so. Let things surface. Release what\'s been weighing on you.';
 energy = 'Illumination, release, gratitude';
 } else if (age < 22.15) {
 phase = 'Waning Gibbous';
 desc = 'Slow down and take stock. Your Gemini moon wants to skip ahead — resist. Sit with what this cycle showed you before moving on.';
 energy = 'Gratitude, sharing, introspection';
 } else if (age < 24.0) {
 phase = 'Last Quarter';
 desc = 'Time to let go of what\'s not working. Your Cancer instinct is to hold on — not everything needs to stay. Clear space for what\'s next.';
 energy = 'Release, forgiveness, clearing space';
 } else {
 phase = 'Waning Crescent';
 desc = 'Rest. For real. Quiet the Gemini mental chatter, pull back, and do less. You don\'t have to be productive to be worthy.';
 energy = 'Rest, surrender, restoration';
 }

 return { phase: phase, desc: desc, energy: energy, illumination: illumination, age: age, synodic: synodic };
 }

 function drawMoonSVG(phase, illumination) {
 var svg = '<svg class="spellbook-moon" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">';
 // Dark sky circle
 svg += '<circle cx="30" cy="30" r="24" fill="#6d8a5e" opacity="0.15"/>';

 var pct = illumination / 100;
 var isWaxing = phase.indexOf('Waxing') !== -1 || phase === 'First Quarter';

 if (phase === 'New Moon') {
 // Just a faint outline
 svg += '<circle cx="30" cy="30" r="18" fill="none" stroke="#6d8a5e" stroke-width="0.5" opacity="0.25"/>';
 } else if (phase === 'Full Moon') {
 // Full green circle
 svg += '<circle cx="30" cy="30" r="18" fill="#6d8a5e" opacity="0.7"/>';
 } else {
 // Crescent/gibbous using same style as the original cute moon
 // The crescent is drawn as the intersection of two circles
 var r = 18;
 var cx = 30, cy = 30;
 var k = Math.abs(2 * pct - 1);
 var bulge = r * k;

 if (pct < 0.5) {
 // Crescent - thin sliver
 if (isWaxing) {
 // Right side lit - like original design
 svg += '<path d="M' + cx + ',' + (cy - r) + ' A' + r + ',' + r + ' 0 0 1 ' + cx + ',' + (cy + r) + ' A' + bulge + ',' + r + ' 0 0 1 ' + cx + ',' + (cy - r) + '" fill="#6d8a5e" opacity="0.7"/>';
 } else {
 // Left side lit
 svg += '<path d="M' + cx + ',' + (cy - r) + ' A' + r + ',' + r + ' 0 0 0 ' + cx + ',' + (cy + r) + ' A' + bulge + ',' + r + ' 0 0 0 ' + cx + ',' + (cy - r) + '" fill="#6d8a5e" opacity="0.7"/>';
 }
 } else {
 // Gibbous - mostly full
 if (isWaxing) {
 svg += '<path d="M' + cx + ',' + (cy - r) + ' A' + r + ',' + r + ' 0 0 1 ' + cx + ',' + (cy + r) + ' A' + bulge + ',' + r + ' 0 0 0 ' + cx + ',' + (cy - r) + '" fill="#6d8a5e" opacity="0.7"/>';
 } else {
 svg += '<path d="M' + cx + ',' + (cy - r) + ' A' + r + ',' + r + ' 0 0 0 ' + cx + ',' + (cy + r) + ' A' + bulge + ',' + r + ' 0 0 1 ' + cx + ',' + (cy - r) + '" fill="#6d8a5e" opacity="0.7"/>';
 }
 }
 }

 // Little stars (same as original)
 svg += '<circle cx="20" cy="16" r="1" fill="#8fa87a" opacity="0.4"/>';
 svg += '<circle cx="44" cy="22" r="0.8" fill="#8fa87a" opacity="0.3"/>';
 svg += '<circle cx="14" cy="38" r="0.8" fill="#8fa87a" opacity="0.35"/>';
 svg += '<circle cx="42" cy="42" r="1" fill="#8fa87a" opacity="0.3"/>';
 svg += '<circle cx="48" cy="32" r="0.6" fill="#8fa87a" opacity="0.25"/>';
 svg += '</svg>';
 return svg;
 }

 function renderMoonPhase() {
 var badge = document.getElementById('moonBadge');
 var detail = document.getElementById('moonDetail');
 if (!badge) return;
 var m = getMoonPhase();
 var moonSvg = drawMoonSVG(m.phase, m.illumination);

 badge.innerHTML =
 '<div style="flex-shrink:0;width:42px;height:42px;">' + moonSvg.replace('class="spellbook-moon"','style="width:42px;height:42px;"') + '</div>' +
 '<div>' +
 '<div class="moon-phase-name">' + m.phase + '</div>' +
 '<div class="moon-phase-illumination">' + m.illumination + '% illuminated</div>' +
 '</div>';

 if (detail) {
 detail.innerHTML = m.desc;
 }
 }

 // ===== ROUTINE EDITOR =====
 function openRoutineEditor() {
 var body = document.getElementById('routineEditorBody');
 body.innerHTML =
 renderEditorBlock('Morning', 'morning', scheduleData.morning) +
 renderEditorBlock('Daytime', 'daytime', scheduleData.daytime) +
 renderEditorBlock('Evening', 'evening', scheduleData.evening);
 document.getElementById('routineEditorOverlay').classList.add('active');
 }

 function renderEditorBlock(label, key, items) {
 var h = '<div class="routine-block-label">' + label + '</div>';
 items.forEach(function(item, i) {
 var isDayContent = !!item.dayContent;
 h += '<div class="routine-item-edit" data-block="' + key + '" data-idx="' + i + '"'
 + (isDayContent ? ' data-daycontent="' + item.dayContent + '"' : '') + '>'
 + '<div class="routine-edit-row">'
 + '<input class="re-time" value="' + (item.time||'').replace(/"/g,'&quot;') + '" placeholder="Time">'
 + '<input class="re-title" value="' + (item.title||'').replace(/"/g,'&quot;') + '" placeholder="Title">'
 + '</div>'
 + '<textarea class="routine-edit-details" placeholder="Details (optional)"'
 + (isDayContent ? ' disabled' : '') + '>'
 + (isDayContent ? 'Varies by day (skincare/tapping/workout)' : (item.details||'').replace(/</g,'&lt;'))
 + '</textarea>'
 + '<div class="routine-edit-actions">'
 + '<button onclick="moveRoutineItem(\''+key+'\','+i+',-1)">↑</button>'
 + '<button onclick="moveRoutineItem(\''+key+'\','+i+',1)">↓</button>'
 + '<button class="re-del" onclick="removeRoutineItem(\''+key+'\','+i+')">✕ Delete</button>'
 + '</div></div>';
 });
 h += '<button class="routine-add-item" onclick="addRoutineItem(\''+key+'\')">+ Add Item</button>';
 return h;
 }

 function closeRoutineEditor() {
 document.getElementById('routineEditorOverlay').classList.remove('active');
 }

 function readEditorState() {
 ['morning','daytime','evening'].forEach(function(block) {
 var els = document.querySelectorAll('.routine-item-edit[data-block="'+block+'"]');
 scheduleData[block] = Array.from(els).map(function(el, i) {
 var orig = scheduleData[block][i] || {};
 var dc = el.getAttribute('data-daycontent') || null;
 return {
 id: orig.id || (block[0] + '_' + Date.now() + '_' + i),
 time: el.querySelector('.re-time').value,
 title: el.querySelector('.re-title').value,
 details: dc ? '' : el.querySelector('.routine-edit-details').value,
 dayContent: dc || undefined
 };
 });
 });
 }

 function saveRoutineEdits() {
 readEditorState();
 saveScheduleData();
 renderDailySchedule();
 closeRoutineEditor();
 }

 function addRoutineItem(block) {
 readEditorState();
 scheduleData[block].push({ id: block[0]+'_'+Date.now(), time:'', title:'New Item', details:'' });
 openRoutineEditor();
 var body = document.getElementById('routineEditorBody');
 setTimeout(function(){ body.scrollTop = body.scrollHeight; }, 50);
 }

 function removeRoutineItem(block, index) {
 if (!confirm('Delete this item?')) return;
 readEditorState();
 scheduleData[block].splice(index, 1);
 openRoutineEditor();
 }

 function moveRoutineItem(block, index, direction) {
 readEditorState();
 var newIdx = index + direction;
 if (newIdx < 0 || newIdx >= scheduleData[block].length) return;
 var items = scheduleData[block];
 var temp = items[index];
 items[index] = items[newIdx];
 items[newIdx] = temp;
 openRoutineEditor();
 }

 function resetRoutineToDefaults() {
 if (!confirm('Reset entire routine to defaults? This will overwrite your edits.')) return;
 scheduleData = JSON.parse(JSON.stringify(defaultScheduleItems));
 saveScheduleData();
 renderDailySchedule();
 openRoutineEditor();
 }

  document.addEventListener('DOMContentLoaded', function() {

 // Load custom habits first
 loadCustomHabits();
 
 // Force clear old cached habits if they don't match current list
 const saved = localStorage.getItem('bingoState_kasey');
 if (saved) {
 const data = JSON.parse(saved);
 // Check if saved habits include old values that need updating
 if (data.habits && (
 data.habits.includes('Walk 10k Steps') || 
 data.habits.includes('Dry Brushing') ||
 data.habits.includes('Sleep 7+ Hours') ||
 data.habits.includes('Time Outside')
 )) {
 // Clear the old saved state
 localStorage.removeItem('bingoState_kasey');
 }
 }
 
 initBoard();
 loadScheduleData();
 renderDailySchedule();
 loadVideos();
 loadResources();
 loadTodos();
 loadFutureTodos();
 loadSpells();
 renderMoonPhase();

 // Always start on Habits & Wellness tab
 });
 </script>

<script>
function toggleNav() {
    var h = document.getElementById('navHamburger');
    var o = document.getElementById('navOverlay');
    if (!h || !o) return;
    var isOpen = o.classList.contains('open');
    if (isOpen) {
        h.classList.remove('open');
        o.classList.remove('open');
        document.body.style.overflow = '';
    } else {
        h.classList.add('open');
        o.classList.add('open');
        document.body.style.overflow = 'hidden';
    }
}
</script>
</body>
</html>
