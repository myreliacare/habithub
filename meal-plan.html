<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal Plan | Our Life Hub</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&family=Philosopher:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <style>
        :root {
            --dark-bg: #3d2f31;
            --card-bg: #2a1f21;
            --sage-green: #a3b899;
            --muted-sage: #7d8f76;
            --light-text: #e0d2d0;
            --cream: #f2ebe0;
            --border-color: rgba(163, 184, 153, 0.2);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Philosopher', serif;
            background: var(--dark-bg);
            min-height: 100vh;
            padding: 90px 16px 16px;
            color: var(--light-text);
        }
        
        /* Navigation Bar */
        .top-nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: var(--card-bg);
            border-bottom: 1px solid var(--border-color);
            z-index: 9999;
            padding: 0 24px;
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 60px;
        }
        
        .nav-logo {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--sage-green);
            text-decoration: none;
        }
        
        .nav-links {
            display: flex;
            gap: 24px;
            align-items: center;
        }
        
        .nav-link {
            color: rgba(242, 235, 224, 0.7);
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.2s;
            font-weight: 500;
        }
        
        .nav-link:hover {
            color: var(--sage-green);
        }
        
        .nav-link.active {
            color: var(--sage-green);
        }
        
        @media (max-width: 768px) {
            .nav-links {
                gap: 16px;
            }
            .nav-link {
                font-size: 0.85rem;
            }
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 24px;
        }
        
        .header h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: var(--sage-green);
            font-weight: 400;
        }
        
        .header p {
            color: var(--light-text);
            font-size: 0.875rem;
            letter-spacing: 0.05em;
            margin-top: 4px;
            opacity: 0.7;
        }
        
        .toggle-container {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-bottom: 16px;
        }
        
        .toggle-btn {
            padding: 10px 20px;
            border-radius: 4px;
            font-size: 0.875rem;
            font-family: 'Philosopher', serif;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid var(--border-color);
            background: var(--card-bg);
            color: var(--light-text);
            letter-spacing: 0.05em;
        }
        
        .toggle-btn.active {
            background: var(--sage-green);
            color: var(--dark-bg);
            border: 1px solid var(--sage-green);
        }
        
        .goals {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
            display: flex;
            justify-content: center;
            gap: 32px;
            font-size: 0.875rem;
            border: 1px solid var(--border-color);
        }
        
        .goals span {
            color: var(--light-text);
            opacity: 0.7;
        }
        
        .goals strong {
            color: var(--sage-green);
        }
        
        .plan-progress {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 14px 16px;
            margin-bottom: 12px;
            border: 1px solid var(--border-color);
        }
        
        .progress-text {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.8rem;
            margin-bottom: 8px;
        }
        
        .progress-text span:first-child {
            color: var(--sage-green);
            font-weight: 600;
            letter-spacing: 0.03em;
        }
        
        .progress-text span:last-child {
            color: var(--light-text);
            opacity: 0.5;
            font-size: 0.75rem;
        }
        
        .progress-bar {
            height: 6px;
            background: rgba(163, 184, 153, 0.15);
            border-radius: 99px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--sage-green);
            border-radius: 99px;
            transition: width 0.4s ease;
        }
        
        .calendar-header-row {
            text-align: center;
            margin-bottom: 12px;
        }
        
        .calendar-header-row span {
            font-size: 0.7rem;
            letter-spacing: 0.15em;
            color: var(--sage-green);
            font-weight: 600;
        }
        
        .calendar {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 16px;
            border: 1px solid var(--border-color);
        }
        
        .week-label {
            font-size: 0.7rem;
            color: var(--muted-sage);
            letter-spacing: 0.15em;
            margin-bottom: 10px;
            display: flex;
            align-items: baseline;
            gap: 8px;
        }
        
        .week-label span {
            font-size: 0.6rem;
            color: var(--light-text);
            opacity: 0.4;
            letter-spacing: 0.05em;
        }
        
        .day-btn.is-today {
            box-shadow: 0 0 0 2px var(--sage-green), inset 0 0 0 1px rgba(163,184,153,0.3);
        }
        
        .day-btn.is-past .day-check {
            font-size: 0.55rem;
            opacity: 0.7;
        }
        
        .day-check {
            font-size: 0.55rem;
            line-height: 1;
        }
        
        .week-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 6px;
            margin-bottom: 16px;
        }
        
        .week-grid:last-child {
            margin-bottom: 0;
        }
        
        .day-btn {
            aspect-ratio: 1;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            font-family: 'Philosopher', serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 2px;
            font-weight: 500;
        }
        
        .day-letter {
            font-size: 0.65rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            opacity: 0.8;
        }
        
        .day-number {
            font-size: 1rem;
            font-weight: 700;
        }
        
        .day-detail {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 20px;
            border: 1px solid var(--border-color);
        }
        
        .day-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            border-radius: 6px;
            margin-bottom: 16px;
            color: var(--dark-bg);
            flex-wrap: wrap;
            gap: 4px;
        }
        
        .day-header-left {
            display: flex;
            align-items: baseline;
            gap: 8px;
            flex-wrap: wrap;
        }
        
        .day-num {
            font-size: 1.1rem;
            font-weight: 700;
            white-space: nowrap;
        }
        
        .day-theme {
            font-size: 0.875rem;
            opacity: 0.9;
        }
        
        .day-header-right {
            display: flex;
            gap: 16px;
            font-size: 0.75rem;
        }
        
        .meals-container {
            border-radius: 6px;
            overflow: hidden;
            border: 1px solid var(--border-color);
        }
        
        .meal-btn {
            width: 100%;
            background: rgba(61, 47, 49, 0.3);
            border: none;
            border-bottom: 1px solid var(--border-color);
            padding: 14px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: left;
            font-family: 'Philosopher', serif;
        }
        
        .meal-btn:hover {
            background: rgba(163, 184, 153, 0.1);
        }
        
        .meal-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }
        
        .meal-info {
            flex: 1;
        }
        
        .meal-type {
            font-size: 0.65rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--sage-green);
            margin-bottom: 2px;
        }
        
        .meal-name {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--light-text);
            margin-bottom: 2px;
        }
        
        .meal-portion {
            font-size: 0.75rem;
            color: var(--light-text);
            opacity: 0.6;
        }
        
        .meal-arrow {
            color: var(--sage-green);
            font-size: 1.2rem;
            opacity: 0.5;
        }
        
        /* Modal */
        .modal-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10002;
            padding: 20px;
        }
        
        .modal-container.active {
            display: flex;
        }
        
        .modal {
            background: var(--card-bg);
            border-radius: 12px;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            border: 1px solid var(--border-color);
        }
        
        .modal-header {
            padding: 24px 20px 20px;
            color: var(--dark-bg);
            border-radius: 12px 12px 0 0;
            position: relative;
            overflow: visible;
        }
        
        .modal-header h3 {
            font-size: 1.25rem;
            line-height: 1.3;
            margin-bottom: 8px;
            font-weight: 400;
            padding-right: 44px;
            word-wrap: break-word;
        }
        
        .modal-header .meta {
            font-size: 0.875rem;
            opacity: 0.9;
            padding-right: 44px;
        }
        
        .modal-close {
            position: absolute;
            top: 20px;
            right: 12px;
            background: none;
            border: none;
            color: var(--dark-bg);
            opacity: 0.8;
            font-size: 1.5rem;
            cursor: pointer;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-close:hover {
            opacity: 1;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .modal-section {
            margin-bottom: 20px;
        }
        
        .modal-section h4 {
            color: var(--sage-green);
            margin-bottom: 12px;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }
        
        .modal-section ul {
            list-style: none;
        }
        
        .modal-section li {
            color: var(--light-text);
            font-size: 0.875rem;
            margin-bottom: 6px;
            display: flex;
            gap: 8px;
        }
        
        .modal-section li span {
            color: var(--sage-green);
            min-width: 15px;
        }
        
        .step-number {
            background: var(--sage-green);
            color: var(--dark-bg);
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            flex-shrink: 0;
        }
        
        .tip-box {
            background: rgba(163, 184, 153, 0.1);
            border-radius: 8px;
            padding: 12px 16px;
            border: 1px solid var(--border-color);
        }
        
        .tip-box p {
            font-size: 0.875rem;
            color: var(--light-text);
            margin: 0;
        }
        
        .portions-row {
            margin-top: 20px;
            padding-top: 16px;
            border-top: 1px solid var(--border-color);
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .portion-tag {
            background: rgba(163, 184, 153, 0.2);
            border-radius: 9999px;
            padding: 6px 12px;
            color: var(--light-text);
            font-size: 0.75rem;
            border: 1px solid var(--border-color);
        }
        
        @media (max-width: 480px) {
            body {
                padding: 76px 8px 8px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .calendar {
                padding: 12px 8px;
            }
            
            .plan-progress {
                padding: 10px 12px;
            }


            .week-grid {
                gap: 4px;
            }

            .day-btn {
                aspect-ratio: auto;
                padding: 6px 2px;
                border-radius: 4px;
            }

            .day-letter {
                font-size: 0.55rem;
            }

            .day-number {
                font-size: 0.8rem;
            }
            
            .modal {
                max-height: 80vh;
            }
        }

        /* ===== HAMBURGER MENU ===== */
        .nav-hamburger {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            padding: 10px;
            z-index: 10001;
        }
        .nav-hamburger span {
            display: block; width: 24px; height: 2px;
            background: #a3b899; margin: 5px 0;
            transition: all 0.3s ease;
        }
        .nav-hamburger.open span:nth-child(1) { transform: rotate(45deg) translate(5px, 5px); }
        .nav-hamburger.open span:nth-child(2) { opacity: 0; }
        .nav-hamburger.open span:nth-child(3) { transform: rotate(-45deg) translate(5px, -5px); }
        .nav-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: #2a1f21;
            z-index: 10000;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .nav-overlay.open { display: flex; }
        .nav-link-mobile {
            color: rgba(242, 235, 224, 0.7);
            text-decoration: none;
            font-size: 1.3rem;
            font-family: 'Philosopher', Georgia, serif;
            font-weight: 500;
            padding: 18px 40px;
            transition: color 0.2s;
            display: block;
            width: 100%;
            text-align: center;
        }
        .nav-link-mobile:hover { color: #f2ebe0; }
        .nav-link-mobile.active { color: #a3b899; }
        @media (max-width: 768px) {
            .nav-hamburger { display: block; }
            .nav-links { display: none; }
        }
    </style>
</head>
<body>
<nav class="top-nav">
<div class="nav-container">
<a href="index.html" class="nav-logo">Our Life Hub</a>
<div class="nav-links">
<a href="index.html" class="nav-link">Home</a>
<a href="kasey-hub.html" class="nav-link">Kasey</a>
<a href="charlie-hub.html" class="nav-link">Charlie</a>
<a href="our-dreams.html" class="nav-link">Us ‚ô°</a>
<a href="meal-plan.html" class="nav-link active">Meals</a>
<a href="settings.html" class="nav-link">Settings</a>
</div>
<button class="nav-hamburger" id="navHamburger" onclick="toggleNav()" aria-label="Menu">
    <span></span>
    <span></span>
    <span></span>
</button>
</div>
</nav>
<div class="nav-overlay" id="navOverlay" onclick="toggleNav()">
    <a href="index.html" class="nav-link-mobile">Home</a>
    <a href="kasey-hub.html" class="nav-link-mobile">Kasey</a>
    <a href="charlie-hub.html" class="nav-link-mobile">Charlie</a>
    <a href="our-dreams.html" class="nav-link-mobile">Us ‚ô°</a>
    <a href="meal-plan.html" class="nav-link-mobile active">Meals</a>
    <a href="settings.html" class="nav-link-mobile">Settings</a>
</div>

<div class="container">
    <div class="header">
        <h1>Meal Plan</h1>
        <p>Kasey & Charlie ‚Ä¢ Feb 11‚Äì24</p>
    </div>
    
    <div class="toggle-container">
        <button class="toggle-btn active" data-person="kasey">Kasey</button>
        <button class="toggle-btn" data-person="charlie">Charlie</button>
    </div>
    
    <div class="goals">
        <div><span>Protein:</span> <strong id="goal-protein">140-165g</strong></div>
        <div><span>Calories:</span> <strong id="goal-calories">1,500-1,700</strong></div>
    </div>
    
    <div class="plan-progress" id="plan-progress">
        <div class="progress-text"><span id="progress-label">Day 1 of 14</span><span id="progress-dates"></span></div>
        <div class="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>
    </div>

    <div class="calendar">
        <div class="calendar-header-row">
            <span id="cal-month-label">FEBRUARY 2026</span>
        </div>
        <div class="week-label">WEEK 1 <span id="week1-range"></span></div>
        <div class="week-grid" id="week1"></div>
        <div class="week-label">WEEK 2 <span id="week2-range"></span></div>
        <div class="week-grid" id="week2"></div>
    </div>
    
    <div class="day-detail">
        <div class="day-header" id="day-header">
            <div class="day-header-left">
                <div class="day-num" id="day-num">1</div>
                <div class="day-theme" id="day-theme">Italian</div>
            </div>
            <div class="day-header-right">
                <div id="day-protein">145g</div>
                <div id="day-calories">1,600 cal</div>
            </div>
        </div>
        <div class="meals-container" id="meals-container"></div>
    </div>
</div>

<div class="modal-container" id="modal">
    <div class="modal">
        <div class="modal-header" id="modal-header">
            <button class="modal-close" onclick="closeModal()">√ó</button>
            <h3 id="modal-title">Recipe Name</h3>
            <div class="meta" id="modal-meta">25g protein ‚Ä¢ 350 cal ‚Ä¢ 25 min</div>
        </div>
        <div class="modal-body">
            <div class="modal-section">
                <h4>Ingredients</h4>
                <ul id="modal-ingredients"></ul>
            </div>
            <div class="modal-section">
                <h4>Instructions</h4>
                <ul id="modal-steps"></ul>
            </div>
            <div class="tip-box" id="modal-tip" style="display: none;">
                <p></p>
            </div>
            <div class="portions-row" id="modal-portions"></div>
        </div>
    </div>
</div>

<script>
// SNACK MENU - pick whatever sounds good each day (~150-200 cal)
const snackMenu = [
    { name: "Barebell Protein Bar", portion: "20g protein - 200 cal", color: "#7d8f76",
        ingredients: ["1 Barebell protein bar (any flavor)"],
        steps: ["Unwrap. Eat."],
        tip: "High protein, low sugar, zero effort. Keep a box at home and one in your bag.",
        portions: ["20g protein", "200 cal", "0 min"]
    },
    { name: "1 Hard-Boiled Egg", portion: "6g protein - 70 cal", color: "#7d8f76",
        ingredients: ["1 egg"],
        steps: ["Boil a batch on Sunday ‚Äî they keep 7 days in the fridge."],
        tip: "Complete protein plus choline for DNA repair. Batch-prep a dozen at the start of each week.",
        portions: ["6g protein", "70 cal", "0g fiber"]
    },
    { name: "1/2 Cup Cottage Cheese", portion: "14g protein - 90 cal", color: "#7d8f76",
        ingredients: ["1/2 cup low-fat cottage cheese"],
        steps: ["Scoop and eat. Top with anything from this list."],
        tip: "Casein protein for slow, sustained release. Great base for mixing with any fruit on this list.",
        portions: ["14g protein", "90 cal", "0g fiber"]
    },
    { name: "3/4 Cup Greek Yogurt", portion: "18g protein - 100 cal", color: "#7d8f76",
        ingredients: ["3/4 cup nonfat Greek yogurt"],
        steps: ["Scoop into bowl. Add whatever sounds good."],
        tip: "Probiotics for gut health, which is increasingly linked to cancer prevention. Great with berries, honey, or nuts.",
        portions: ["18g protein", "100 cal", "0g fiber"]
    },
    { name: "3/4 Cup Edamame", portion: "18g protein - 190 cal", color: "#7d8f76",
        ingredients: ["3/4 cup shelled edamame", "Flaky sea salt"],
        steps: ["Steam or microwave. Salt. Done."],
        tip: "Soy isoflavones have documented anti-cancer effects. One of the highest-protein plant snacks you can grab.",
        portions: ["18g protein", "190 cal", "4g fiber"]
    },
    { name: "Chocolate Covered Almonds (10)", portion: "4g protein - 150 cal", color: "#7d8f76",
        ingredients: ["10 chocolate covered almonds"],
        steps: ["Eat 10. Try not to eat 30."],
        tip: "Dark chocolate flavanols plus vitamin E from almonds. Portion into small bags for the week.",
        portions: ["4g protein", "150 cal", "2g fiber"]
    },
    { name: "1/4 Cup Hummus", portion: "5g protein - 100 cal", color: "#7d8f76",
        ingredients: ["1/4 cup hummus"],
        steps: ["Scoop with carrots, bell pepper, or a spoon. No judgment."],
        tip: "Chickpea fiber plus tahini healthy fats. Pairs with any raw veggie on this list.",
        portions: ["5g protein", "100 cal", "3g fiber"]
    },
    { name: "1.5 Tbsp Walnut Butter", portion: "3g protein - 140 cal", color: "#7d8f76",
        ingredients: ["1.5 tbsp walnut butter"],
        steps: ["Spread on fruit or eat straight."],
        tip: "Walnuts are the only nut with significant omega-3 ALA. Anti-inflammatory powerhouse.",
        portions: ["3g protein", "140 cal", "1g fiber"]
    },
    { name: "1 Medium Apple", portion: "0g protein - 95 cal", color: "#7d8f76",
        ingredients: ["1 medium apple"],
        steps: ["Slice or just bite into it."],
        tip: "Pectin fiber feeds beneficial gut bacteria. Great with walnut butter from this list.",
        portions: ["0g protein", "95 cal", "4g fiber"]
    },
    { name: "1/2 Banana", portion: "1g protein - 50 cal", color: "#7d8f76",
        ingredients: ["1/2 banana"],
        steps: ["Peel. Eat. Or slice and dip."],
        tip: "Prebiotic fiber for gut health. Potassium for blood pressure.",
        portions: ["1g protein", "50 cal", "1g fiber"]
    },
    { name: "1/2 Cup Mango", portion: "1g protein - 50 cal", color: "#7d8f76",
        ingredients: ["1/2 cup diced mango (fresh or frozen, thawed)"],
        steps: ["Dice fresh or thaw frozen."],
        tip: "Beta-carotene and vitamin C from whole food. Great with cottage cheese or yogurt.",
        portions: ["1g protein", "50 cal", "1g fiber"]
    },
    { name: "1/2 Cup Mixed Berries", portion: "0g protein - 40 cal", color: "#7d8f76",
        ingredients: ["1/2 cup mixed berries (fresh or frozen, thawed)"],
        steps: ["Rinse fresh or thaw frozen."],
        tip: "Anthocyanins and ellagic acid ‚Äî two of the most studied anti-cancer compounds in fruit.",
        portions: ["0g protein", "40 cal", "2g fiber"]
    },
    { name: "1/2 Cup Strawberries", portion: "0g protein - 25 cal", color: "#7d8f76",
        ingredients: ["1/2 cup sliced strawberries"],
        steps: ["Slice and enjoy."],
        tip: "Ellagic acid has been shown to suppress cancer cell growth in lab studies. Also just delicious.",
        portions: ["0g protein", "25 cal", "2g fiber"]
    },
    { name: "1/2 Cup Pineapple", portion: "0g protein - 40 cal", color: "#7d8f76",
        ingredients: ["1/2 cup diced pineapple"],
        steps: ["Dice fresh or use pre-cut."],
        tip: "Bromelain enzyme has anti-inflammatory and potential anti-cancer properties.",
        portions: ["0g protein", "40 cal", "1g fiber"]
    },
    { name: "1/4 Cup Pomegranate Seeds", portion: "1g protein - 35 cal", color: "#7d8f76",
        ingredients: ["1/4 cup pomegranate seeds"],
        steps: ["Pop the seeds out or buy pre-seeded."],
        tip: "Punicalagins and ellagic acid ‚Äî heavily studied for prostate cancer prevention especially.",
        portions: ["1g protein", "35 cal", "2g fiber"]
    },
    { name: "1 Cup Carrot Sticks", portion: "1g protein - 50 cal", color: "#7d8f76",
        ingredients: ["1 cup carrot sticks (or baby carrots)"],
        steps: ["Dip in hummus or eat plain."],
        tip: "Beta-carotene from food is safely protective (unlike supplements). Great dipper.",
        portions: ["1g protein", "50 cal", "4g fiber"]
    },
    { name: "1 Cup Green Tea", portion: "0g protein - 0 cal", color: "#7d8f76",
        ingredients: ["1 cup brewed green tea"],
        steps: ["Steep 3 min in hot (not boiling) water."],
        tip: "EGCG is one of the most studied anti-cancer compounds. Free calories, real protection.",
        portions: ["0g protein", "0 cal", "0g fiber"]
    },
    { name: "1 Tbsp Pumpkin Seeds", portion: "3g protein - 45 cal", color: "#7d8f76",
        ingredients: ["1 tbsp pumpkin seeds (pepitas)"],
        steps: ["Sprinkle on yogurt, cottage cheese, or eat by the handful."],
        tip: "Rich in zinc for immune function. Crunchy topper for anything.",
        portions: ["3g protein", "45 cal", "1g fiber"]
    },
    { name: "1 Tbsp Pistachios", portion: "2g protein - 45 cal", color: "#7d8f76",
        ingredients: ["1 tbsp shelled pistachios"],
        steps: ["Eat as-is or crush over yogurt."],
        tip: "Gamma-tocopherol (vitamin E form) and lutein. Great crunch.",
        portions: ["2g protein", "45 cal", "1g fiber"]
    },
    { name: "1 Tbsp Walnuts", portion: "2g protein - 50 cal", color: "#7d8f76",
        ingredients: ["1 tbsp walnuts, chopped"],
        steps: ["Eat plain, add to yogurt, or top cottage cheese."],
        tip: "The most anti-inflammatory nut. Only nut with significant omega-3 ALA.",
        portions: ["2g protein", "50 cal", "1g fiber"]
    },
    { name: "1 Tbsp Dark Chocolate Chips", portion: "1g protein - 70 cal", color: "#7d8f76",
        ingredients: ["1 tbsp dark chocolate chips"],
        steps: ["Sprinkle on anything. Or just eat them."],
        tip: "Flavanols from dark chocolate. A little goes a long way as a topper.",
        portions: ["1g protein", "70 cal", "1g fiber"]
    },
    { name: "String Cheese", portion: "7g protein - 80 cal", color: "#7d8f76",
        ingredients: ["1 Galbani reduced fat mozzarella string cheese"],
        steps: ["Peel and eat."],
        tip: "Calcium plus protein in a grab-and-go package. Keep these stocked.",
        portions: ["7g protein", "80 cal", "0g fiber"]
    },
    { name: "Trail Mix (pre-made batch)", portion: "10g protein - 200 cal", color: "#7d8f76",
        ingredients: ["2 tbsp walnuts", "2 tbsp dried tart cherries", "1 tbsp cacao nibs", "1 tbsp pumpkin seeds"],
        steps: ["Mix a big batch. Portion into baggies for the week."],
        tip: "Tart cherries have among the highest anti-inflammatory scores. Cacao nibs add flavanols. Concentrated antioxidant snack.",
        portions: ["10g protein", "200 cal", "3g fiber"]
    },
    { name: "Protein Chia Pudding", portion: "23g protein - 190 cal", color: "#7d8f76",
        ingredients: ["2 tbsp chia seeds", "1/2 cup unsweetened almond milk", "1/2 scoop protein powder", "1/2 tsp vanilla"],
        steps: ["Mix all ingredients. Refrigerate 2+ hours or overnight.", "Top with anything from this list."],
        tip: "Omega-3 ALA from chia plus protein powder. Prep several at once for the week.",
        portions: ["23g protein", "190 cal", "8g fiber"]
    }
];

const mealData = {
    kasey: {
        goals: { protein: "140-165g", calories: "1,500-1,700" },
        days: [
            {
                day: 1, theme: "Lemon Garlic", protein: "148g", calories: "1,590", prep: "PREP DAY ‚Äî Prep Session 1 tonight after dinner",
                meals: [
                    { type: "Breakfast", icon: "üåÖ", name: "Cacao Berry Smoothie Bowl", portion: "42g protein - 420 cal", color: "#a3b899",
                        ingredients: ["1 cup unsweetened almond milk", "1.5 tbsp cacao powder (NOT Dutch-processed)", "~1/2 scoop Vital Proteins chocolate collagen (~12g)", "5g L-glutamine", "1 tsp Nature's Way MCT oil", "1 scoop ON Gold Standard Banana Cream whey", "1/2 cup frozen blueberries", "1/2 cup nonfat Greek yogurt", "--- TOPPINGS ---", "2 tbsp walnuts, chopped", "1 tbsp ground flaxseed", "1 tsp honey"],
                        steps: ["Blend almond milk, cacao, collagen, L-glutamine, MCT oil, whey, blueberries, and yogurt until thick.", "Pour into bowl.", "Top with walnuts, flaxseed, honey drizzle."],
                        tip: "Your full supplement stack blended right in. Blueberries are rich in anthocyanins linked to reduced cancer risk. Cacao (non-Dutch) retains maximum flavanols.",
                        portions: ["42g protein", "420 cal", "8g fiber", "5 min"]
                    },
                    { type: "Lunch", icon: "‚òÄÔ∏è", name: "Spicy Black Bean Quesadilla", portion: "32g protein - 420 cal", color: "#a3b899",
                        ingredients: ["2 Mission Carb Balance tortillas", "1/2 cup black beans, drained", "1/3 cup Mexican blend shredded cheese", "2 tbsp salsa", "Hot sauce", "1 tbsp sour cream", "1 Galbani string cheese on the side"],
                        steps: ["Warm a tortilla in a dry pan over medium heat.", "Spread black beans on half, top with cheese.", "Fold and cook 2-3 min per side until golden and melty.", "Repeat with second tortilla if hungry.", "Dip in salsa and sour cream. Hit with hot sauce."],
                        tip: "Day 1 ‚Äî no prep done yet, so this is a quick pantry lunch. Black beans are loaded with antioxidants and fiber. String cheese on the side bumps the protein.",
                        portions: ["32g protein", "420 cal", "12g fiber", "5 min"]
                    },
                    { type: "Dinner", icon: "üåô", name: "Lemon Garlic Chicken over Farro", portion: "48g protein - 530 cal", color: "#a3b899",
                        ingredients: ["6 oz chicken breast cutlet", "1/2 cup cooked farro", "1 tbsp olive oil", "3 cloves garlic, minced", "Juice of 1 lemon", "1/2 tsp oregano", "Red pepper flakes", "1 cup roasted carrots", "2 tbsp shredded Parmesan", "Salt & pepper"],
                        steps: ["Cook farro according to package directions.", "Season chicken with salt, pepper, oregano, red pepper flakes.", "Heat olive oil in a pan over medium-high. Sear chicken 5-6 min per side until golden.", "In the last minute, add garlic to the pan. Squeeze lemon over everything.", "Toss carrots with olive oil, salt, roast at 400¬∞F for 20 min.", "Plate farro, top with chicken, carrots, pan juices, and Parmesan."],
                        tip: "Use the fresh chicken cutlets tonight ‚Äî they need to be cooked first. Garlic contains allicin with potent anti-cancer properties. Lemon boosts iron absorption. Cook extra chicken and farro for lunch prep!",
                        portions: ["48g protein", "530 cal", "6g fiber", "30 min"]
                    },
                    { type: "Dessert", icon: "üç®", name: "Frozen Berry Yogurt Bark", portion: "14g protein - 160 cal", color: "#c4a882",
                        ingredients: ["3/4 cup nonfat Greek yogurt", "1/2 cup mixed berries", "1 tsp honey", "1 tbsp mini dark chocolate chips"],
                        steps: ["Mix yogurt with honey.", "Spread thin on parchment-lined sheet pan.", "Press berries and chocolate chips into yogurt.", "Freeze 2+ hours. Break into pieces."],
                        tip: "Make a batch tonight during prep ‚Äî it freezes perfectly for the whole week. Yogurt probiotics, berry anthocyanins, and chocolate flavanols.",
                        portions: ["14g protein", "160 cal", "2g fiber", "5 min + freeze"]
                    }
                ]
            },
            {
                day: 2, theme: "Chipotle + Bolognese", protein: "148g", calories: "1,550",
                meals: [
                    { type: "Breakfast", icon: "üåÖ", name: "Strawberry-Honey Overnight Oats", portion: "35g protein - 400 cal", color: "#a3b899",
                        ingredients: ["1/2 cup rolled oats", "1 cup unsweetened almond milk", "~1/2 scoop Vital Proteins chocolate collagen (~12g)", "5g L-glutamine", "1 tsp Nature's Way MCT oil", "3 tbsp hemp hearts", "1 tsp chia seeds", "--- MORNING TOPPINGS ---", "1/2 cup fresh strawberries, sliced", "1 tsp honey", "1 tbsp walnuts, chopped"],
                        steps: ["Combine oats, almond milk, collagen, L-glutamine, MCT oil, hemp hearts, and chia seeds in a jar.", "Stir well. Refrigerate overnight.", "Top with sliced strawberries, honey, and walnuts before eating."],
                        tip: "Prepped last night ‚Äî just grab from the fridge. All your supplements folded in. Fresh strawberries on top before they go bad.",
                        portions: ["35g protein", "400 cal", "8g fiber", "0 min"]
                    },
                    { type: "Lunch", icon: "‚òÄÔ∏è", name: "Chipotle Chicken Wrap", portion: "42g protein - 460 cal", color: "#a3b899",
                        ingredients: ["4 oz shredded chicken (from prep)", "1 Mission Carb Balance tortilla", "1 tbsp chipotle in adobo, minced", "1/4 cup cooked brown rice", "2 tbsp Mexican blend shredded cheese", "2 tbsp salsa", "Squeeze of lime"],
                        steps: ["Warm tortilla in a dry pan or microwave 15 sec.", "Layer rice, chicken, chipotle, cheese, salsa.", "Squeeze lime over. Wrap and eat."],
                        tip: "Chipotle peppers are smoked jalape√±os ‚Äî capsaicin has documented anti-inflammatory and anti-cancer properties. The Carb Balance tortillas add fiber and protein.",
                        portions: ["42g protein", "460 cal", "9g fiber", "5 min"]
                    },
                    { type: "Dinner", icon: "üåô", name: "Cauliflower Bolognese over Protein Spaghetti", portion: "45g protein - 530 cal", color: "#a3b899",
                        ingredients: ["4 oz ground turkey (93% lean)", "1 cup frozen riced cauliflower", "1 cup marinara sauce", "2 oz Kroger Protein Grain & Legume Spaghetti", "1/4 cup diced onion", "2 cloves garlic, minced", "1 tbsp olive oil", "2 tbsp shredded Parmesan", "Red pepper flakes", "Italian seasoning"],
                        steps: ["Cook protein spaghetti al dente. Drain and set aside.", "Heat olive oil. Saut√© onion and garlic 3 min.", "Add ground turkey, break up and brown.", "Stir in riced cauliflower, cook 3 min.", "Pour in marinara. Add Italian seasoning and red pepper flakes. Simmer 10 min.", "Toss with spaghetti. Top with Parmesan."],
                        tip: "Cauliflower is cruciferous ‚Äî ricing it into the sauce sneaks in cancer-fighting sulforaphane. The protein spaghetti adds extra fiber and protein vs regular pasta. Cooked tomato sauce = maximum lycopene.",
                        portions: ["45g protein", "530 cal", "10g fiber", "25 min"]
                    },
                    { type: "Dessert", icon: "üç®", name: "Warm Cinnamon Baked Apple", portion: "1g protein - 150 cal", color: "#c4a882",
                        ingredients: ["1 medium apple, cored", "1 tsp butter", "1/2 tsp cinnamon", "1 tsp honey", "1 tbsp chopped walnuts"],
                        steps: ["Core apple and place in a small oven-safe dish.", "Fill center with butter, cinnamon, honey, walnuts.", "Bake at 375¬∞F for 25 min until soft.", "Or microwave 3-4 min."],
                        tip: "Baked apples caramelize naturally. The pectin feeds good gut bacteria. Cinnamon has anti-inflammatory properties. Walnuts add omega-3s.",
                        portions: ["1g protein", "150 cal", "4g fiber", "25 min"]
                    }
                ]
            },
            {
                day: 3, theme: "Date Night üçΩÔ∏è", protein: "116g", calories: "1,270",
                meals: [
                    { type: "Breakfast", icon: "üåÖ", name: "Egg Muffin Cups + Morning Shake", portion: "38g protein - 380 cal", color: "#a3b899",
                        ingredients: ["--- MORNING BOOST SHAKE ---", "1 cup unsweetened almond milk", "1.5 tbsp cacao powder (NOT Dutch-processed)", "~1/2 scoop Vital Proteins chocolate collagen (~12g)", "5g L-glutamine", "1 tsp Nature's Way MCT oil", "--- EGG MUFFIN CUPS (x2) ---", "2 eggs (from batch of 12)", "1/4 cup chopped spinach (baked in)", "2 tbsp diced onion (baked in)", "2 tbsp shredded cheese (baked in)"],
                        steps: ["Blend shake ingredients and sip alongside breakfast.", "Reheat 2 egg muffin cups in microwave ~45 sec.", "That's it. Prepped on Day 1."],
                        tip: "Batch recipe (makes 12): Whisk 12 eggs + splash of milk. Divide into greased muffin tin. Add spinach, onion, cheese to each. Bake 375¬∞F for 20 min. Freeze extras.",
                        portions: ["38g protein", "380 cal", "2g fiber", "2 min reheat"]
                    },
                    { type: "Lunch", icon: "‚òÄÔ∏è", name: "Spicy Chicken & Black Bean Bowl", portion: "44g protein - 490 cal", color: "#a3b899",
                        ingredients: ["5 oz chicken breast, seasoned and grilled (from prep)", "1/2 cup black beans", "1/2 cup cooked brown rice", "1/4 cup corn", "2 tbsp Mexican blend shredded cheese", "2 tbsp salsa", "1 tbsp sour cream or Greek yogurt", "Hot sauce, garlic powder"],
                        steps: ["Reheat prepped chicken, rice, beans, and corn together.", "Top with cheese, salsa, sour cream.", "Hit it with hot sauce."],
                        tip: "Black beans are among the highest-antioxidant foods by ORAC score. Corn provides ferulic acid with anti-cancer activity. Brown rice adds whole-grain fiber.",
                        portions: ["44g protein", "490 cal", "10g fiber", "3 min reheat"]
                    },
                    { type: "Dinner", icon: "üç∑", name: "The Melting Pot ‚Äî Date Night!", portion: "~30g protein - ~varies", color: "#d4a882",
                        ingredients: ["Reservations", "Good vibes"],
                        steps: ["Get dressed.", "Go to The Melting Pot.", "Enjoy fondue.", "Don't think about macros tonight."],
                        tip: "Happy Friday the 13th! Every good meal plan has room for living your life. Enjoy the night out ‚Äî you've earned it.",
                        portions: ["date night", "enjoy!", "no dishes"]
                    }
                ]
            },
            {
                day: 4, theme: "Valentine's Day ‚ù§Ô∏è", protein: "149g", calories: "1,530", prep: "PREP DAY ‚Äî Prep Session 2 tonight after dinner",
                meals: [
                    { type: "Breakfast", icon: "üåÖ", name: "Protein Yogurt Parfait", portion: "30g protein - 350 cal", color: "#a3b899",
                        ingredients: ["1 cup Oikos Triple Zero vanilla Greek yogurt", "1/2 cup fresh strawberries, sliced", "2 tbsp walnuts, chopped", "1 tsp honey drizzle"],
                        steps: ["Scoop yogurt into a bowl.", "Top with fresh strawberries, walnuts, and honey."],
                        tip: "Use up those fresh strawberries! Ellagic acid in strawberries has been shown to suppress cancer cell growth. Yogurt probiotics support gut health.",
                        portions: ["30g protein", "350 cal", "3g fiber", "3 min"]
                    },
                    { type: "Lunch", icon: "‚òÄÔ∏è", name: "Chipotle Chicken Wrap", portion: "42g protein - 460 cal", color: "#a3b899",
                        ingredients: ["4 oz shredded chicken (from prep)", "1 Mission Carb Balance tortilla", "1 tbsp chipotle in adobo, minced", "1/4 cup cooked brown rice", "2 tbsp Mexican blend shredded cheese", "2 tbsp salsa", "Squeeze of lime"],
                        steps: ["Warm tortilla in a dry pan or microwave 15 sec.", "Layer rice, chicken, chipotle, cheese, salsa.", "Squeeze lime over. Wrap and eat."],
                        tip: "Same great wrap from Day 2 ‚Äî still delicious, still easy. The carb balance tortilla keeps this high-fiber and high-protein.",
                        portions: ["42g protein", "460 cal", "9g fiber", "5 min"]
                    },
                    { type: "Dinner", icon: "üåô", name: "Spicy Turkey Enchiladas", portion: "46g protein - 540 cal", color: "#a3b899",
                        ingredients: ["5 oz ground turkey (93% lean)", "1/4 cup diced onion", "2 cloves garlic, minced", "1 tsp cumin", "1 tsp chili powder", "Red pepper flakes", "3 Mission Carb Balance tortillas", "1 cup enchilada sauce", "1/2 cup Mexican blend shredded cheese", "2 tbsp sour cream", "Hot sauce"],
                        steps: ["Preheat oven to 375¬∞F.", "Brown ground turkey with onion, garlic, cumin, chili powder, and red pepper flakes.", "Divide turkey mix between tortillas. Roll up and place seam-down in a baking dish.", "Pour enchilada sauce over. Top with cheese.", "Bake 20 min until bubbly and golden.", "Top with sour cream and hot sauce."],
                        tip: "Happy Valentine's Day! ‚ù§Ô∏è Cumin and chili powder both have anti-inflammatory properties. The carb balance tortillas keep the fiber high. Make a couple extra for Charlie's portions.",
                        portions: ["46g protein", "540 cal", "8g fiber", "35 min"]
                    },
                    { type: "Dessert", icon: "üç®", name: "Chocolate Avocado Mousse", portion: "3g protein - 170 cal", color: "#c4a882",
                        ingredients: ["1/2 ripe avocado", "2 tbsp cocoa powder", "1 tbsp honey", "1 tbsp almond milk", "Pinch of sea salt"],
                        steps: ["Blend all ingredients until silky smooth.", "Chill 15 min for best texture.", "Top with a few berries if desired."],
                        tip: "You literally cannot taste the avocado ‚Äî it just makes it impossibly creamy. Cocoa is one of the highest-antioxidant foods on earth. Use that avocado before it goes bad!",
                        portions: ["3g protein", "170 cal", "5g fiber", "5 min"]
                    }
                ]
            },
            {
                day: 5, theme: "Italian Comfort", protein: "150g", calories: "1,560",
                meals: [
                    { type: "Breakfast", icon: "üåÖ", name: "Kefir Berry Smoothie", portion: "35g protein - 380 cal", color: "#a3b899",
                        ingredients: ["1 cup Lifeway strawberry kefir", "1/2 cup frozen mixed berries", "~1/2 scoop Vital Proteins chocolate collagen (~12g)", "5g L-glutamine", "1 tsp Nature's Way MCT oil", "1/2 banana"],
                        steps: ["Add all ingredients to a blender.", "Blend until smooth, about 30 seconds.", "Pour and drink."],
                        tip: "Kefir has 12+ strains of probiotics vs yogurt's 2-3. This is a gut health powerhouse. The frozen berries make it thick like a milkshake.",
                        portions: ["35g protein", "380 cal", "4g fiber", "3 min"]
                    },
                    { type: "Lunch", icon: "‚òÄÔ∏è", name: "Lemony Chicken & Grain Bowl", portion: "42g protein - 480 cal", color: "#a3b899",
                        ingredients: ["5 oz grilled chicken (from prep)", "1/2 cup cooked farro or quinoa (from prep)", "1/4 cup chickpeas", "1/4 cup roasted red peppers (jarred)", "1 cup spinach", "1 tbsp olive oil", "Juice of 1/2 lemon", "Garlic powder, red pepper flakes"],
                        steps: ["Reheat chicken and grains.", "Toss spinach with olive oil and lemon juice to slightly wilt.", "Assemble bowl: grains, chicken, chickpeas, roasted red peppers, spinach.", "Sprinkle with garlic powder and red pepper flakes."],
                        tip: "Chickpeas provide folate for DNA repair. Roasted red peppers are loaded with vitamin C. The lemon-olive oil dressing is classic Mediterranean.",
                        portions: ["42g protein", "480 cal", "8g fiber", "3 min reheat"]
                    },
                    { type: "Dinner", icon: "üåô", name: "Ricotta & Spinach Stuffed Zucchini Boats", portion: "42g protein - 480 cal", color: "#a3b899",
                        ingredients: ["2 medium zucchini, halved lengthwise", "1/2 cup ricotta cheese", "1 cup baby spinach, chopped", "2 cloves garlic, minced", "1/4 cup shredded Parmesan", "1 egg", "1/2 cup marinara sauce", "1/2 cup shredded mozzarella", "Italian seasoning, red pepper flakes", "1 tbsp olive oil"],
                        steps: ["Preheat oven to 375¬∞F. Halve zucchini and scoop out centers.", "Mix ricotta, chopped spinach, garlic, Parmesan, egg, Italian seasoning, and red pepper flakes.", "Fill zucchini halves with the ricotta mixture.", "Spoon marinara over the top. Sprinkle with mozzarella.", "Bake 25-30 min until zucchini is tender and cheese is bubbly."],
                        tip: "Use the fresh zucchini and ricotta before they go! Zucchini is rich in vitamin C and potassium. Ricotta adds calcium. The marinara provides lycopene. This is Mediterranean comfort food.",
                        portions: ["42g protein", "480 cal", "5g fiber", "35 min"]
                    },
                    { type: "Dessert", icon: "üç®", name: "Frozen Berry Yogurt Bark", portion: "14g protein - 160 cal", color: "#c4a882",
                        ingredients: ["3/4 cup nonfat Greek yogurt", "1/2 cup mixed berries", "1 tsp honey", "1 tbsp mini dark chocolate chips"],
                        steps: ["Grab from the freezer ‚Äî you made this on Day 1!"],
                        tip: "Already prepped. Just break off a piece. Berry anthocyanins, yogurt probiotics, chocolate flavanols.",
                        portions: ["14g protein", "160 cal", "2g fiber", "0 min"]
                    }
                ]
            },
            {
                day: 6, theme: "Spicy Stew Night", protein: "152g", calories: "1,540",
                meals: [
                    { type: "Breakfast", icon: "üåÖ", name: "Cacao Berry Smoothie Bowl", portion: "42g protein - 420 cal", color: "#a3b899",
                        ingredients: ["1 cup unsweetened almond milk", "1.5 tbsp cacao powder (NOT Dutch-processed)", "~1/2 scoop Vital Proteins chocolate collagen (~12g)", "5g L-glutamine", "1 tsp Nature's Way MCT oil", "1 scoop ON Gold Standard Banana Cream whey", "1/2 cup frozen blueberries", "1/2 cup nonfat Greek yogurt", "--- TOPPINGS ---", "2 tbsp walnuts, chopped", "1 tbsp ground flaxseed", "1 tsp honey"],
                        steps: ["Blend almond milk, cacao, collagen, L-glutamine, MCT oil, whey, blueberries, and yogurt until thick.", "Pour into bowl.", "Top with walnuts, flaxseed, honey drizzle."],
                        tip: "Your full supplement stack blended right in. Blueberries + cacao = massive antioxidant hit to start the day.",
                        portions: ["42g protein", "420 cal", "8g fiber", "5 min"]
                    },
                    { type: "Lunch", icon: "‚òÄÔ∏è", name: "Chicken Burrito Bowl", portion: "43g protein - 480 cal", color: "#a3b899",
                        ingredients: ["5 oz grilled chicken (from prep)", "1/2 cup cooked brown rice", "1/2 cup black beans", "1/4 cup corn", "2 tbsp crumbled feta", "Squeeze of lime", "Hot sauce", "1 tbsp olive oil"],
                        steps: ["Reheat chicken, rice, beans, and corn.", "Assemble bowl. Top with feta and a big squeeze of lime.", "Hot sauce to taste."],
                        tip: "Feta + lime gives this a totally different vibe than the salsa-cheese version. Black beans and whole grain rice provide resistant starch that feeds anti-cancer gut bacteria.",
                        portions: ["43g protein", "480 cal", "9g fiber", "3 min reheat"]
                    },
                    { type: "Dinner", icon: "üåô", name: "Spicy Red Lentil & Cauliflower Stew + Chicken", portion: "48g protein - 510 cal", color: "#a3b899",
                        ingredients: ["4 oz grilled chicken breast", "1/2 cup red lentils", "1 cup cauliflower florets", "1/2 cup diced carrots", "1 cup marinara sauce", "1/2 cup diced onion", "2 cloves garlic, minced", "Red pepper flakes, garlic powder, cumin", "1 tbsp olive oil", "Fresh parsley or cilantro", "Squeeze of lemon"],
                        steps: ["Heat olive oil. Saut√© onion and garlic 3 min.", "Add garlic powder, cumin, red pepper flakes. Cook 30 seconds.", "Add lentils, marinara, cauliflower, carrots, and 1.5 cups water.", "Simmer 20 min until lentils are soft and stew is thick.", "Serve topped with sliced chicken, parsley, and a squeeze of lemon."],
                        tip: "Red lentils provide incredible fiber plus folate for DNA repair. Cauliflower is cruciferous (sulforaphane). Cooked tomato sauce maximizes lycopene. This is one of the most cancer-protective meals in the plan.",
                        portions: ["48g protein", "510 cal", "14g fiber", "30 min"]
                    },
                    { type: "Dessert", icon: "üç®", name: "Warm Cinnamon Baked Apple", portion: "1g protein - 150 cal", color: "#c4a882",
                        ingredients: ["1 medium apple, cored", "1 tsp butter", "1/2 tsp cinnamon", "1 tsp honey", "1 tbsp chopped walnuts"],
                        steps: ["Core apple and place in a small oven-safe dish.", "Fill center with butter, cinnamon, honey, walnuts.", "Bake at 375¬∞F for 25 min until soft.", "Or microwave 3-4 min."],
                        tip: "Pectin from baked apples feeds beneficial gut bacteria. Cinnamon is anti-inflammatory. Walnuts add omega-3s.",
                        portions: ["1g protein", "150 cal", "4g fiber", "25 min"]
                    }
                ]
            },
            {
                day: 7, theme: "Comfort Alfredo", protein: "151g", calories: "1,570",
                meals: [
                    { type: "Breakfast", icon: "üåÖ", name: "Cacao-Berry Overnight Oats", portion: "44g protein - 430 cal", color: "#a3b899",
                        ingredients: ["1/2 cup rolled oats", "1 cup unsweetened almond milk", "1.5 tbsp cacao powder (NOT Dutch-processed)", "~1/2 scoop Vital Proteins chocolate collagen (~12g)", "5g L-glutamine", "1 tsp Nature's Way MCT oil", "1 scoop ON Gold Standard Banana Cream whey", "1 tsp chia seeds", "--- MORNING TOPPINGS ---", "1/2 cup frozen mixed berries (thawed)", "1 tbsp walnuts", "1 tsp honey"],
                        steps: ["Combine oats, almond milk, cacao, collagen, L-glutamine, MCT oil, whey, and chia seeds in a jar.", "Stir well. Refrigerate overnight.", "Top with thawed berries, walnuts, and honey before eating."],
                        tip: "Prepped ‚Äî grab from fridge. Cacao oats are basically dessert for breakfast but with your full supplement stack built in.",
                        portions: ["44g protein", "430 cal", "10g fiber", "0 min"]
                    },
                    { type: "Lunch", icon: "‚òÄÔ∏è", name: "Lemony Chicken & Grain Bowl", portion: "42g protein - 480 cal", color: "#a3b899",
                        ingredients: ["5 oz grilled chicken (from prep)", "1/2 cup cooked farro or quinoa (from prep)", "1/4 cup chickpeas", "1/4 cup roasted red peppers (jarred)", "1 cup spinach", "1 tbsp olive oil", "Juice of 1/2 lemon", "Garlic powder, red pepper flakes"],
                        steps: ["Reheat chicken and grains.", "Toss spinach with olive oil and lemon juice.", "Assemble bowl: grains, chicken, chickpeas, roasted red peppers, spinach.", "Sprinkle with garlic powder and red pepper flakes."],
                        tip: "Classic Mediterranean grain bowl. Olive oil + lemon is the foundation of the diet. Chickpeas add plant protein and fiber.",
                        portions: ["42g protein", "480 cal", "8g fiber", "3 min reheat"]
                    },
                    { type: "Dinner", icon: "üåô", name: "Chicken Alfredo with Protein Pasta", portion: "46g protein - 520 cal", color: "#a3b899",
                        ingredients: ["5 oz chicken breast, sliced", "2 oz Kroger Protein Grain & Legume Spaghetti", "1/2 cup alfredo sauce", "1 cup baby spinach", "2 cloves garlic, minced", "1 tbsp olive oil", "2 tbsp shredded Parmesan", "Red pepper flakes", "Salt & pepper"],
                        steps: ["Cook protein spaghetti al dente.", "Season chicken with salt, pepper, garlic powder. Sear in olive oil 5-6 min per side. Slice.", "In the same pan, add garlic, cook 30 seconds. Add alfredo sauce and warm through.", "Toss in spinach until wilted. Add pasta and toss to coat.", "Plate and top with sliced chicken, Parmesan, and red pepper flakes."],
                        tip: "Comfort food night. The protein pasta bumps this way above regular alfredo nutritionally. Adding spinach sneaks in folate and iron. Garlic adds allicin.",
                        portions: ["46g protein", "520 cal", "6g fiber", "20 min"]
                    },
                    { type: "Dessert", icon: "üç®", name: "Berry Crumble", portion: "5g protein - 180 cal", color: "#c4a882",
                        ingredients: ["1.5 cups mixed berries (fresh or frozen)", "2 tbsp rolled oats", "1 tbsp chopped walnuts", "1 tsp coconut oil", "1 tsp honey", "Pinch cinnamon", "Dollop Greek yogurt for topping"],
                        steps: ["Place berries in a small oven-safe dish.", "Mix oats, walnuts, coconut oil, honey, cinnamon. Crumble over berries.", "Bake at 375¬∞F for 20-25 min until bubbly and golden.", "Top with a spoonful of Greek yogurt."],
                        tip: "Berries, oats, walnuts, and yogurt ‚Äî every bite is anti-cancer. The warm crumble with cold yogurt is ridiculously good.",
                        portions: ["5g protein", "180 cal", "5g fiber", "25 min"]
                    }
                ]
            },
            {
                day: 8, theme: "Sweet Potato Spice", protein: "147g", calories: "1,510", prep: "PREP DAY ‚Äî Prep Session 3 tonight after dinner",
                meals: [
                    { type: "Breakfast", icon: "üåÖ", name: "Egg Muffin Cups + Morning Shake", portion: "38g protein - 380 cal", color: "#a3b899",
                        ingredients: ["--- MORNING BOOST SHAKE ---", "1 cup unsweetened almond milk", "1.5 tbsp cacao powder (NOT Dutch-processed)", "~1/2 scoop Vital Proteins chocolate collagen (~12g)", "5g L-glutamine", "1 tsp Nature's Way MCT oil", "--- EGG MUFFIN CUPS (x2) ---", "2 eggs (from batch)", "Spinach, onion, cheese (baked in)"],
                        steps: ["Blend shake ingredients and sip alongside breakfast.", "Reheat 2 egg muffin cups in microwave ~45 sec."],
                        tip: "Grab from freezer if you're into the second batch, or fridge if they're fresh from last prep. The shake gets your supplements in.",
                        portions: ["38g protein", "380 cal", "2g fiber", "2 min reheat"]
                    },
                    { type: "Lunch", icon: "‚òÄÔ∏è", name: "Chicken Burrito Bowl", portion: "43g protein - 480 cal", color: "#a3b899",
                        ingredients: ["5 oz grilled chicken (from prep)", "1/2 cup cooked brown rice", "1/2 cup black beans", "1/4 cup corn", "2 tbsp crumbled feta", "Squeeze of lime", "Hot sauce", "1 tbsp olive oil"],
                        steps: ["Reheat chicken, rice, beans, and corn.", "Assemble bowl. Top with feta and lime.", "Hot sauce to taste."],
                        tip: "Feta is a Mediterranean staple ‚Äî lower sodium than most cheeses and pairs beautifully with lime and black beans.",
                        portions: ["43g protein", "480 cal", "9g fiber", "3 min reheat"]
                    },
                    { type: "Dinner", icon: "üåô", name: "Spicy Black Bean & Sweet Potato Bowl", portion: "38g protein - 490 cal", color: "#a3b899",
                        ingredients: ["1 medium sweet potato, cubed", "1/2 cup black beans", "1/4 cup corn", "2 tbsp crumbled feta", "1/4 cup cooked brown rice or quinoa", "1 tbsp olive oil", "1 tsp cumin", "1/2 tsp chili powder", "Garlic powder, red pepper flakes", "Squeeze of lime", "Hot sauce"],
                        steps: ["Preheat oven to 400¬∞F. Toss cubed sweet potato with olive oil, cumin, chili powder, garlic powder.", "Roast 25 min until tender and caramelized.", "Warm black beans and corn with a pinch of cumin.", "Bowl: rice, sweet potato, beans, corn.", "Top with feta, lime squeeze, hot sauce."],
                        tip: "Sweet potato provides beta-carotene safely from food. Black beans are antioxidant powerhouses. Cumin has anti-cancer properties. This bowl is a flavor and nutrition bomb.",
                        portions: ["38g protein", "490 cal", "12g fiber", "35 min"]
                    },
                    { type: "Dessert", icon: "üç®", name: "Protein Chia Pudding", portion: "23g protein - 190 cal", color: "#c4a882",
                        ingredients: ["2 tbsp chia seeds", "1/2 cup unsweetened almond milk", "1/2 scoop protein powder", "1/2 tsp vanilla", "1 tsp honey", "Berries for topping"],
                        steps: ["Mix chia seeds, almond milk, protein powder, vanilla, and honey.", "Refrigerate 2+ hours or overnight.", "Top with berries before eating."],
                        tip: "Chia seeds are loaded with omega-3 ALA and fiber. Make a couple of these during tonight's prep session for easy desserts later this week.",
                        portions: ["23g protein", "190 cal", "8g fiber", "5 min + chill"]
                    }
                ]
            },
            {
                day: 9, theme: "Asian Night", protein: "148g", calories: "1,530",
                meals: [
                    { type: "Breakfast", icon: "üåÖ", name: "Kefir Berry Smoothie", portion: "35g protein - 380 cal", color: "#a3b899",
                        ingredients: ["1 cup Lifeway strawberry kefir", "1/2 cup frozen mixed berries", "~1/2 scoop Vital Proteins chocolate collagen (~12g)", "5g L-glutamine", "1 tsp Nature's Way MCT oil", "1/2 banana"],
                        steps: ["Add all ingredients to a blender.", "Blend until smooth.", "Pour and drink."],
                        tip: "Kefir's 12+ probiotic strains are linked to reduced inflammation and better immune function. The frozen berries make it thick and creamy.",
                        portions: ["35g protein", "380 cal", "4g fiber", "3 min"]
                    },
                    { type: "Lunch", icon: "‚òÄÔ∏è", name: "Turkey Taco Wrap", portion: "40g protein - 450 cal", color: "#a3b899",
                        ingredients: ["4 oz seasoned ground turkey (from prep)", "1 Mission Carb Balance tortilla", "1/4 cup cooked brown rice", "2 tbsp Mexican blend shredded cheese", "2 tbsp salsa", "Hot sauce", "1 tbsp sour cream"],
                        steps: ["Warm tortilla. Reheat turkey and rice.", "Layer turkey, rice, cheese, salsa, sour cream.", "Wrap and eat. Add hot sauce."],
                        tip: "Prepped turkey makes this a 3-minute assembly. The carb balance tortillas have more fiber than most whole wheat breads.",
                        portions: ["40g protein", "450 cal", "8g fiber", "3 min"]
                    },
                    { type: "Dinner", icon: "üåô", name: "Asian Garlic-Honey Chicken & Rice", portion: "46g protein - 520 cal", color: "#a3b899",
                        ingredients: ["6 oz chicken breast", "1/2 cup cooked white rice", "1 cup roasted carrots and green beans", "--- GLAZE ---", "2 tbsp soy sauce (or coconut aminos)", "1 tbsp honey", "3 cloves garlic, minced", "1 tsp fresh ginger or 1/2 tsp ground", "Red pepper flakes", "1 tsp sesame oil"],
                        steps: ["Mix soy sauce, honey, garlic, ginger, red pepper flakes, and sesame oil.", "Season chicken with salt & pepper. Sear in a hot pan 5-6 min per side.", "In the last 2 minutes, pour glaze over chicken. Let it caramelize and get sticky.", "Roast carrots and green beans at 400¬∞F with olive oil, salt, 20 min.", "Serve chicken over rice with roasted veggies. Spoon extra glaze from the pan over everything."],
                        tip: "Ginger has documented anti-inflammatory and anti-nausea properties. Garlic's allicin is anti-cancer. The honey glaze caramelizes beautifully ‚Äî you won't miss takeout.\n\nüêü OPTIONAL SWAP: Replace chicken with a 6 oz salmon fillet. Same glaze, same method ‚Äî sear skin-side down first. The strong garlic-honey glaze completely masks any fishiness.",
                        portions: ["46g protein", "520 cal", "4g fiber", "25 min"]
                    },
                    { type: "Dessert", icon: "üç®", name: "Chocolate Covered Almonds + Green Tea", portion: "4g protein - 150 cal", color: "#c4a882",
                        ingredients: ["10 chocolate covered almonds", "1 cup brewed green tea"],
                        steps: ["Steep green tea 3 min in hot (not boiling) water.", "Eat almonds. Sip tea."],
                        tip: "Dark chocolate flavanols + vitamin E from almonds + EGCG from green tea. Three anti-cancer compounds in one low-effort dessert.",
                        portions: ["4g protein", "150 cal", "2g fiber", "5 min"]
                    }
                ]
            },
            {
                day: 10, theme: "Chipotle Orzo", protein: "150g", calories: "1,540",
                meals: [
                    { type: "Breakfast", icon: "üåÖ", name: "Protein Yogurt Parfait", portion: "30g protein - 350 cal", color: "#a3b899",
                        ingredients: ["1 cup Oikos Triple Zero vanilla Greek yogurt", "1/2 cup frozen mixed berries (thawed)", "2 tbsp walnuts, chopped", "1 tsp honey drizzle"],
                        steps: ["Scoop yogurt into a bowl.", "Top with thawed berries, walnuts, and honey."],
                        tip: "Simple, satisfying, probiotic-rich. The berries thaw overnight in the fridge ‚Äî zero effort in the morning.",
                        portions: ["30g protein", "350 cal", "3g fiber", "3 min"]
                    },
                    { type: "Lunch", icon: "‚òÄÔ∏è", name: "Spicy Chicken & Black Bean Bowl", portion: "44g protein - 490 cal", color: "#a3b899",
                        ingredients: ["5 oz chicken breast, seasoned (from prep)", "1/2 cup black beans", "1/2 cup cooked brown rice", "1/4 cup corn", "2 tbsp Mexican blend shredded cheese", "2 tbsp salsa", "Hot sauce, garlic powder"],
                        steps: ["Reheat prepped chicken, rice, beans, and corn.", "Top with cheese, salsa, hot sauce."],
                        tip: "This bowl is a repeat for a reason ‚Äî high-fiber, high-protein, and you never get tired of it with enough hot sauce.",
                        portions: ["44g protein", "490 cal", "10g fiber", "3 min reheat"]
                    },
                    { type: "Dinner", icon: "üåô", name: "One-Pot Chipotle Chicken & Orzo", portion: "48g protein - 520 cal", color: "#a3b899",
                        ingredients: ["5 oz chicken breast", "1/2 cup orzo (or use protein spaghetti broken into pieces)", "1 cup marinara sauce", "1 cup baby spinach", "1-2 chipotle peppers in adobo, minced", "3 cloves garlic, minced", "1 tbsp olive oil", "2 tbsp shredded Parmesan", "1 cup chicken broth", "Red pepper flakes"],
                        steps: ["Season chicken. Sear in olive oil 5-6 min per side. Remove and set aside.", "Saut√© garlic and minced chipotles 30 seconds.", "Add marinara, broth, and orzo. Stir. Simmer 10 min until orzo is tender.", "Nestle chicken back in. Cook 5 more min.", "Stir in spinach until wilted. Top with Parmesan and red pepper flakes."],
                        tip: "Smoky chipotle + marinara is an incredible combo. The one-pot method means the orzo soaks up all that smoky tomato flavor. Lycopene from the marinara, allicin from garlic, capsaicin from chipotle.",
                        portions: ["48g protein", "520 cal", "6g fiber", "25 min"]
                    },
                    { type: "Dessert", icon: "üç®", name: "Frozen Berry Yogurt Bark", portion: "14g protein - 160 cal", color: "#c4a882",
                        ingredients: ["3/4 cup nonfat Greek yogurt", "1/2 cup mixed berries", "1 tsp honey", "1 tbsp mini dark chocolate chips"],
                        steps: ["Make a fresh batch if you're out ‚Äî same method as Day 1.", "Or grab from freezer if you still have some."],
                        tip: "Keep this in rotation. It's basically frozen candy that's actually good for you.",
                        portions: ["14g protein", "160 cal", "2g fiber", "0 min"]
                    }
                ]
            },
            {
                day: 11, theme: "Enchilada Night (Round 2)", protein: "149g", calories: "1,530", prep: "PREP DAY ‚Äî Prep Session 4 tonight after dinner",
                meals: [
                    { type: "Breakfast", icon: "üåÖ", name: "Cacao Berry Smoothie Bowl", portion: "42g protein - 420 cal", color: "#a3b899",
                        ingredients: ["1 cup unsweetened almond milk", "1.5 tbsp cacao powder (NOT Dutch-processed)", "~1/2 scoop Vital Proteins chocolate collagen (~12g)", "5g L-glutamine", "1 tsp Nature's Way MCT oil", "1 scoop ON Gold Standard Banana Cream whey", "1/2 cup frozen blueberries", "1/2 cup nonfat Greek yogurt", "--- TOPPINGS ---", "2 tbsp walnuts, chopped", "1 tbsp ground flaxseed", "1 tsp honey"],
                        steps: ["Blend almond milk, cacao, collagen, L-glutamine, MCT oil, whey, blueberries, and yogurt until thick.", "Pour into bowl. Top with walnuts, flaxseed, honey."],
                        tip: "The OG breakfast. Full supplement stack. Anthocyanins from blueberries, flavanols from cacao, omega-3s from walnuts and flax.",
                        portions: ["42g protein", "420 cal", "8g fiber", "5 min"]
                    },
                    { type: "Lunch", icon: "‚òÄÔ∏è", name: "Turkey Taco Wrap", portion: "40g protein - 450 cal", color: "#a3b899",
                        ingredients: ["4 oz seasoned ground turkey (from prep)", "1 Mission Carb Balance tortilla", "1/4 cup cooked brown rice", "2 tbsp Mexican blend shredded cheese", "2 tbsp salsa", "Hot sauce", "1 tbsp sour cream"],
                        steps: ["Warm tortilla. Reheat turkey and rice.", "Layer, wrap, eat."],
                        tip: "Quick assembly from prepped ingredients. The carb balance tortillas are doing a lot of heavy lifting on fiber here.",
                        portions: ["40g protein", "450 cal", "8g fiber", "3 min"]
                    },
                    { type: "Dinner", icon: "üåô", name: "Spicy Turkey Enchiladas (Round 2)", portion: "46g protein - 540 cal", color: "#a3b899",
                        ingredients: ["5 oz ground turkey (93% lean)", "1/4 cup diced onion", "2 cloves garlic, minced", "1 tsp cumin", "1 tsp chili powder", "Red pepper flakes", "3 Mission Carb Balance tortillas", "1 cup enchilada sauce", "1/2 cup Mexican blend shredded cheese", "2 tbsp sour cream", "Hot sauce"],
                        steps: ["Preheat oven to 375¬∞F.", "Brown turkey with onion, garlic, cumin, chili powder, red pepper flakes.", "Roll in tortillas, place in baking dish. Cover with enchilada sauce and cheese.", "Bake 20 min. Top with sour cream and hot sauce."],
                        tip: "Round 2! These were good enough the first time to earn a repeat. You know the drill by now. Cumin and chili powder both have anti-inflammatory properties.",
                        portions: ["46g protein", "540 cal", "8g fiber", "35 min"]
                    },
                    { type: "Dessert", icon: "üç®", name: "Warm Cinnamon Baked Apple", portion: "1g protein - 150 cal", color: "#c4a882",
                        ingredients: ["1 medium apple, cored", "1 tsp butter", "1/2 tsp cinnamon", "1 tsp honey", "1 tbsp chopped walnuts"],
                        steps: ["Core apple. Fill with butter, cinnamon, honey, walnuts.", "Bake 375¬∞F for 25 min or microwave 3-4 min."],
                        tip: "Quick, warm, comforting. Pectin feeds gut bacteria. Pop it in the oven while the enchiladas bake ‚Äî same temp.",
                        portions: ["1g protein", "150 cal", "4g fiber", "25 min"]
                    }
                ]
            },
            {
                day: 12, theme: "Creamy Lemon", protein: "147g", calories: "1,540",
                meals: [
                    { type: "Breakfast", icon: "üåÖ", name: "Mango-Coconut Overnight Oats", portion: "35g protein - 410 cal", color: "#a3b899",
                        ingredients: ["1/2 cup rolled oats", "1/2 cup unsweetened almond milk", "1/4 cup Simple Truth light coconut milk", "~1/2 scoop Vital Proteins chocolate collagen (~12g)", "5g L-glutamine", "1 tsp Nature's Way MCT oil", "3 tbsp hemp hearts", "1 tsp chia seeds", "--- MORNING TOPPINGS ---", "1/2 cup frozen mango (thawed)", "1 tbsp walnuts", "1 tsp honey"],
                        steps: ["Combine oats, almond milk, coconut milk, collagen, L-glutamine, MCT oil, hemp hearts, and chia seeds in a jar.", "Stir well. Refrigerate overnight.", "Top with thawed mango, walnuts, and honey."],
                        tip: "Coconut milk adds medium-chain fatty acids and a tropical vibe. Mango provides beta-carotene and vitamin C. Uses up that coconut milk.",
                        portions: ["35g protein", "410 cal", "8g fiber", "0 min"]
                    },
                    { type: "Lunch", icon: "‚òÄÔ∏è", name: "White Bean & Spinach Soup", portion: "38g protein - 420 cal", color: "#a3b899",
                        ingredients: ["5 oz shredded chicken (from prep)", "1 cup cannellini beans", "2 cups baby spinach", "1 cup marinara sauce", "2 cloves garlic", "1/2 cup diced carrots", "1 tbsp olive oil", "4 cups low-sodium chicken broth", "Italian seasoning, garlic powder, red pepper flakes"],
                        steps: ["Reheat a portion of the prepped soup.", "Top with a drizzle of olive oil and Parmesan if you want."],
                        tip: "White beans are loaded with resistant starch that feeds anti-cancer gut bacteria. Combined with spinach and tomato sauce, this is a Mediterranean powerhouse.",
                        portions: ["38g protein", "420 cal", "12g fiber", "3 min reheat"]
                    },
                    { type: "Dinner", icon: "üåô", name: "Creamy Lemon Chicken & Farro", portion: "48g protein - 530 cal", color: "#a3b899",
                        ingredients: ["6 oz chicken breast", "1/2 cup cooked farro", "1 cup baby spinach", "3 cloves garlic, minced", "Juice of 1 lemon", "1/4 cup chicken broth", "2 tbsp coconut milk (or splash of cream)", "1 tbsp olive oil", "2 tbsp shredded Parmesan", "Red pepper flakes", "Salt & pepper"],
                        steps: ["Cook farro if not prepped already.", "Season chicken. Sear in olive oil 5-6 min per side. Remove and let rest.", "In the same pan, saut√© garlic 30 seconds.", "Add broth and lemon juice. Let it reduce by half (~2 min).", "Stir in coconut milk. Add spinach, wilt down.", "Slice chicken. Serve over farro with the creamy lemon sauce spooned over. Top with Parmesan and red pepper flakes."],
                        tip: "This is the Mediterranean diet at its best ‚Äî olive oil, lemon, garlic, whole grains, greens. The pan sauce comes together in 3 minutes and tastes restaurant-quality.",
                        portions: ["48g protein", "530 cal", "6g fiber", "25 min"]
                    },
                    { type: "Dessert", icon: "üç®", name: "Berry Crumble", portion: "5g protein - 180 cal", color: "#c4a882",
                        ingredients: ["1.5 cups mixed berries (frozen)", "2 tbsp rolled oats", "1 tbsp chopped walnuts", "1 tsp coconut oil", "1 tsp honey", "Pinch cinnamon", "Dollop Greek yogurt for topping"],
                        steps: ["Place berries in a small oven-safe dish.", "Mix oats, walnuts, coconut oil, honey, cinnamon. Crumble over berries.", "Bake at 375¬∞F for 20-25 min until bubbly.", "Top with yogurt."],
                        tip: "Frozen berries work just as well as fresh here. Pop it in the oven while dinner cooks.",
                        portions: ["5g protein", "180 cal", "5g fiber", "25 min"]
                    }
                ]
            },
            {
                day: 13, theme: "One-Pot Basil", protein: "153g", calories: "1,550",
                meals: [
                    { type: "Breakfast", icon: "üåÖ", name: "Egg Muffin Cups + Morning Shake", portion: "38g protein - 380 cal", color: "#a3b899",
                        ingredients: ["--- MORNING BOOST SHAKE ---", "1 cup unsweetened almond milk", "1.5 tbsp cacao powder (NOT Dutch-processed)", "~1/2 scoop Vital Proteins chocolate collagen (~12g)", "5g L-glutamine", "1 tsp Nature's Way MCT oil", "--- EGG MUFFIN CUPS (x2) ---", "2 eggs (from batch)", "Spinach, onion, cheese (baked in)"],
                        steps: ["Blend shake ingredients and sip alongside breakfast.", "Reheat 2 egg muffin cups in microwave ~45 sec."],
                        tip: "Last round of egg cups! If you've been freezing them, they reheat perfectly. Shake gets the supplements in.",
                        portions: ["38g protein", "380 cal", "2g fiber", "2 min reheat"]
                    },
                    { type: "Lunch", icon: "‚òÄÔ∏è", name: "Chicken Burrito Bowl", portion: "43g protein - 480 cal", color: "#a3b899",
                        ingredients: ["5 oz grilled chicken (from prep)", "1/2 cup cooked brown rice", "1/2 cup black beans", "1/4 cup corn", "2 tbsp crumbled feta", "Squeeze of lime", "Hot sauce"],
                        steps: ["Reheat chicken, rice, beans, corn.", "Top with feta, lime, hot sauce."],
                        tip: "You know the drill. Feta + lime + hot sauce. Black beans and brown rice provide resistant starch for gut health.",
                        portions: ["43g protein", "480 cal", "9g fiber", "3 min reheat"]
                    },
                    { type: "Dinner", icon: "üåô", name: "One-Pot Basil Chicken & Orzo in Marinara", portion: "48g protein - 520 cal", color: "#a3b899",
                        ingredients: ["5 oz chicken breast", "1/2 cup orzo (or broken protein spaghetti)", "1 cup marinara sauce", "1 cup baby spinach", "1/2 cup diced carrots", "3 cloves garlic, minced", "1 tbsp olive oil", "Fresh basil (or dried)", "2 tbsp shredded Parmesan", "1 cup chicken broth", "Red pepper flakes"],
                        steps: ["Sear seasoned chicken in olive oil. Remove and set aside.", "Saut√© garlic and carrots 2 min.", "Add marinara, broth, and orzo. Stir and simmer 10 min.", "Nestle chicken back in. Cook 5 more min until chicken is done.", "Stir in spinach until wilted. Top with basil, Parmesan, red pepper flakes."],
                        tip: "One-pot wonder. The orzo absorbs all the marinara flavor. Cooked tomato sauce = max lycopene. Garlic, spinach, olive oil ‚Äî this is textbook Mediterranean.",
                        portions: ["48g protein", "520 cal", "7g fiber", "25 min"]
                    },
                    { type: "Dessert", icon: "üç®", name: "Protein Chia Pudding", portion: "23g protein - 190 cal", color: "#c4a882",
                        ingredients: ["2 tbsp chia seeds", "1/2 cup unsweetened almond milk", "1/2 scoop protein powder", "1/2 tsp vanilla", "1 tsp honey", "Berries for topping"],
                        steps: ["Should already be prepped ‚Äî grab from fridge.", "Top with berries."],
                        tip: "Omega-3 ALA from chia, protein from powder, antioxidants from berries. Tastes like pudding, performs like a supplement.",
                        portions: ["23g protein", "190 cal", "8g fiber", "0 min"]
                    }
                ]
            },
            {
                day: 14, theme: "Celebration!", protein: "152g", calories: "1,560",
                meals: [
                    { type: "Breakfast", icon: "üåÖ", name: "Kefir Berry Smoothie", portion: "35g protein - 380 cal", color: "#a3b899",
                        ingredients: ["1 cup Lifeway strawberry kefir", "1/2 cup frozen mixed berries", "~1/2 scoop Vital Proteins chocolate collagen (~12g)", "5g L-glutamine", "1 tsp Nature's Way MCT oil", "1/2 banana"],
                        steps: ["Blend everything. Drink."],
                        tip: "Last day! Kefir probiotics + berry antioxidants + your supplement stack. You did 14 days of this.",
                        portions: ["35g protein", "380 cal", "4g fiber", "3 min"]
                    },
                    { type: "Lunch", icon: "‚òÄÔ∏è", name: "White Bean & Spinach Soup", portion: "38g protein - 420 cal", color: "#a3b899",
                        ingredients: ["5 oz shredded chicken (from prep)", "1 cup cannellini beans", "2 cups baby spinach", "1 cup marinara sauce", "2 cloves garlic", "1/2 cup diced carrots", "1 tbsp olive oil", "4 cups low-sodium chicken broth", "Italian seasoning, garlic powder, red pepper flakes"],
                        steps: ["Reheat prepped soup. Drizzle with olive oil."],
                        tip: "Last bowl. White beans + spinach + tomato sauce = the Mediterranean trifecta for gut health and cancer prevention.",
                        portions: ["38g protein", "420 cal", "12g fiber", "3 min reheat"]
                    },
                    { type: "Dinner", icon: "üåô", name: "Chicken & Spinach Baked Pasta", portion: "48g protein - 540 cal", color: "#a3b899",
                        ingredients: ["5 oz chicken breast, diced", "2 oz Kroger Protein Grain & Legume Spaghetti", "1 cup marinara sauce", "1/4 cup ricotta cheese", "1 cup baby spinach", "2 cloves garlic, minced", "1/2 cup shredded mozzarella", "2 tbsp shredded Parmesan", "1 tbsp olive oil", "Italian seasoning, red pepper flakes"],
                        steps: ["Preheat oven to 375¬∞F. Cook protein pasta al dente.", "Sear diced chicken in olive oil with garlic. Season with Italian seasoning and red pepper flakes.", "Toss pasta with marinara, chicken, spinach, and ricotta.", "Pour into a small baking dish. Top with mozzarella and Parmesan.", "Bake 15-20 min until cheese is bubbly and golden."],
                        tip: "Celebration dinner! üéâ Marinara lycopene, garlic allicin, spinach folate, olive oil polyphenols, whole grain protein pasta. Every element is evidence-based Mediterranean. You just crushed 14 days. Start the cycle again or build from the recipe bank!",
                        portions: ["48g protein", "540 cal", "7g fiber", "30 min"]
                    },
                    { type: "Dessert", icon: "üç®", name: "Berry Crumble for Two", portion: "5g protein - 180 cal", color: "#c4a882",
                        ingredients: ["1.5 cups mixed berries (frozen)", "2 tbsp rolled oats", "1 tbsp chopped walnuts", "1 tsp coconut oil", "1 tsp honey", "Pinch cinnamon", "Dollop Greek yogurt for topping"],
                        steps: ["Place berries in a small oven-safe dish.", "Mix oats, walnuts, coconut oil, honey, cinnamon. Crumble over berries.", "Bake at 375¬∞F for 20-25 min until bubbly and golden.", "Top with Greek yogurt. Celebrate!"],
                        tip: "You did it! 14 days of eating well. Berries, oats, walnuts, yogurt ‚Äî every bite is anti-cancer. Now do it again. üí™",
                        portions: ["5g protein", "180 cal", "5g fiber", "25 min"]
                    }
                ]
            }
        ]
    },
    charlie: {
        goals: { protein: "180-210g", calories: "2,200-2,500" },
        days: []
    }
};

// Generate Charlie's meals (scaled up: +30% protein, +40% calories)
mealData.charlie.days = mealData.kasey.days.map(function(day) {
    var cDay = JSON.parse(JSON.stringify(day));
    var kProtein = parseInt(day.protein);
    var kCal = parseInt(day.calories.replace(",", ""));
    cDay.protein = Math.round(kProtein * 1.3) + "g";
    cDay.calories = (Math.round(kCal * 1.4 / 100) * 100).toLocaleString();
    
    cDay.meals = cDay.meals.map(function(meal) {
        var m = JSON.parse(JSON.stringify(meal));
        // Skip scaling for the Melting Pot date night
        if (m.name.indexOf("Melting Pot") !== -1) return m;
        var origProtein = parseInt(m.portion);
        var calMatch = m.portion.match(/(\d+) cal/);
        var origCal = calMatch ? parseInt(calMatch[1]) : 0;
        if (isNaN(origProtein) || origCal === 0) return m;
        var newProtein = Math.round(origProtein * 1.3);
        var newCal = Math.round(origCal * 1.4);
        m.portion = newProtein + "g protein - " + newCal + " cal";
        
        m.portions = m.portions.map(function(p) {
            if (p.indexOf("protein") !== -1) return newProtein + "g protein";
            if (p.indexOf("cal") !== -1) return newCal + " cal";
            if (p.indexOf("fiber") !== -1) {
                var f = parseInt(p);
                return Math.round(f * 1.2) + "g fiber";
            }
            return p;
        });
        
        if (m.type === "Dinner" && m.tip) {
            m.tip += "\n\nCHARLIE: Extra cooked tomato sauce with olive oil boosts lycopene absorption, especially important for prostate cancer prevention given your family history.";
        }
        
        return m;
    });
    return cDay;
});

// ===== PREP SESSION DETAILS =====
var prepSessions = {
    1: {
        name: "Prep Session 1",
        color: "#a3b899",
        portions: ["Covers Days 1‚Äì4 (Wed‚ÄìSat)", "~60-90 min total"],
        ingredients: [
            "--- EGG MUFFIN CUPS (batch of 12) ---",
            "12 eggs + splash of milk",
            "2 cups baby spinach, chopped",
            "1/2 cup diced onion",
            "1 cup shredded cheese (Mexican blend or mozzarella)",
            "Cooking spray or olive oil for muffin tin",
            "--- OVERNIGHT OATS (2 jars) ---",
            "1 cup rolled oats (1/2 cup per jar)",
            "2 cups almond milk",
            "Collagen, L-glutamine, MCT oil (your usual doses per jar)",
            "6 tbsp hemp hearts, 2 tsp chia seeds",
            "Jar 1 toppings: strawberries, honey, walnuts",
            "Jar 2 toppings: frozen berries, honey, walnuts",
            "--- CHICKEN (for lunches Days 2-4) ---",
            "~1.5 lbs chicken breast",
            "Olive oil, garlic powder, cumin, chili powder, salt, pepper",
            "--- CHIPOTLE CHICKEN (for wraps) ---",
            "Set aside ~8 oz of the cooked chicken",
            "2-3 chipotle peppers in adobo, minced",
            "--- LUNCH BASES ---",
            "2 cups brown rice (cook a big batch)",
            "1 can black beans, drained",
            "1 cup corn",
            "--- FROZEN BERRY YOGURT BARK ---",
            "1.5 cups Greek yogurt, 1 cup berries, honey, dark choc chips"
        ],
        steps: [
            "START THE RICE ‚Äî Put 2 cups brown rice on to cook. This takes the longest so get it going first.",
            "EGG MUFFIN CUPS ‚Äî Preheat oven to 375¬∞F. Whisk 12 eggs with a splash of milk, salt & pepper. Grease a muffin tin. Divide spinach, onion, and cheese into cups. Pour egg mixture over. Bake 20 min until set. Cool and store ‚Äî fridge for 3-4 days, freeze the rest.",
            "SEASON & COOK CHICKEN ‚Äî While muffins bake, season ~1.5 lbs chicken with olive oil, garlic powder, cumin, chili powder, salt, pepper. Grill, bake at 400¬∞F for 20 min, or pan-sear. Let rest, then slice/shred.",
            "MAKE CHIPOTLE CHICKEN ‚Äî Take ~8 oz of the cooked chicken, shred it, and toss with 2-3 minced chipotle peppers in adobo. Store separately for wraps.",
            "PORTION LUNCH BASES ‚Äî Divide rice, black beans, and corn into meal prep containers. You'll have chicken + black bean bowl bases AND chipotle wrap fillings ready to grab.",
            "OVERNIGHT OATS ‚Äî Make 2 jars: oats, almond milk, collagen, L-glutamine, MCT oil, hemp hearts, chia seeds. Stir well, refrigerate. Add toppings in the morning.",
            "YOGURT BARK ‚Äî Spread yogurt on a parchment-lined pan, press in berries and chocolate chips, freeze. Done for the week.",
            "LABEL & STORE ‚Äî Put everything in the fridge. You're set through Saturday!"
        ],
        tip: "This is your biggest prep session since it's the first one. Future sessions will be faster because you'll know the rhythm. Put on a podcast or some music ‚Äî this goes quick once you're rolling."
    },
    4: {
        name: "Prep Session 2",
        color: "#a3b899",
        portions: ["Covers Days 5‚Äì7 (Sun‚ÄìTue)", "~45-60 min total"],
        ingredients: [
            "--- CHICKEN (for lunches Days 5-7) ---",
            "~1.5 lbs chicken breast",
            "Olive oil, garlic powder, salt, pepper, oregano",
            "--- LEMONY GRAIN BOWLS (2 servings) ---",
            "1 cup farro or quinoa (dry ‚Äî cook it)",
            "1/2 cup chickpeas",
            "Roasted red peppers (from jar)",
            "Spinach, olive oil, lemon",
            "--- BURRITO BOWL BASE (2 servings) ---",
            "1 cup brown rice (cook fresh or use leftover)",
            "1 can black beans, drained",
            "1/2 cup corn",
            "Feta, lime",
            "--- OVERNIGHT OATS (2 jars) ---",
            "Same base as Session 1",
            "Jar 1: cacao powder, whey, berries (for Day 7)",
            "Jar 2: your choice of toppings"
        ],
        steps: [
            "COOK GRAINS ‚Äî Start farro/quinoa and rice (if you need more). Let them cook while you do everything else.",
            "COOK CHICKEN ‚Äî Season ~1.5 lbs chicken with olive oil, garlic powder, oregano, salt, pepper. Cook however you prefer. Let rest, slice for grain bowls, dice for burrito bowls.",
            "ASSEMBLE LEMONY GRAIN BOWLS ‚Äî Divide grains, chicken, chickpeas, roasted red peppers into 2 containers. Keep spinach and lemon separate (add day-of so spinach doesn't wilt).",
            "ASSEMBLE BURRITO BOWLS ‚Äî Divide rice, black beans, corn, and chicken into 2 containers. Keep feta, lime, and hot sauce separate.",
            "OVERNIGHT OATS ‚Äî Make 2 jars with your supplement base. One with cacao + whey for Day 7.",
            "You're set through Tuesday!"
        ],
        tip: "This one's faster ‚Äî you already know the routine from Session 1. The key is getting all the grains and chicken cooking at the same time so you're just assembling at the end."
    },
    8: {
        name: "Prep Session 3",
        color: "#a3b899",
        portions: ["Covers Days 9‚Äì11 (Thu‚ÄìSat)", "~60 min total"],
        ingredients: [
            "--- EGG MUFFIN CUPS (batch of 12) ---",
            "12 eggs + splash of milk",
            "2 cups baby spinach, chopped",
            "1/2 cup diced onion",
            "1 cup shredded cheese",
            "--- TURKEY TACO MEAT (for wraps Days 9 & 11) ---",
            "1 lb ground turkey (93% lean)",
            "1/2 cup diced onion",
            "3 cloves garlic, minced",
            "2 tsp cumin, 1 tsp chili powder, 1 tsp garlic powder",
            "Red pepper flakes, salt",
            "--- CHICKEN (for lunches) ---",
            "~1 lb chicken breast",
            "Olive oil, garlic powder, cumin, chili powder, salt",
            "--- LUNCH BASES ---",
            "2 cups brown rice",
            "1 can black beans",
            "1/2 cup corn",
            "--- OVERNIGHT OATS (2 jars) ---",
            "Same supplement base as always"
        ],
        steps: [
            "START RICE ‚Äî Get 2 cups brown rice cooking.",
            "EGG MUFFIN CUPS ‚Äî Same method as Session 1: whisk 12 eggs, grease tin, divide spinach/onion/cheese, pour egg, bake 375¬∞F for 20 min. Freeze extras.",
            "COOK TURKEY TACO MEAT ‚Äî Brown 1 lb ground turkey with onion, garlic, cumin, chili powder, garlic powder, red pepper flakes. Let cool and portion into containers.",
            "COOK CHICKEN ‚Äî Season and cook ~1 lb chicken breast. Slice for black bean bowls, dice for burrito bowls.",
            "PORTION LUNCH BASES ‚Äî Divide rice, beans, corn, and chicken into containers. You'll have black bean bowls and burrito bowls covered.",
            "OVERNIGHT OATS ‚Äî Make 2 jars with supplement base.",
            "Covered through Saturday!"
        ],
        tip: "You're a pro at this by now. Same pattern ‚Äî grains and protein cook while you assemble everything else. The turkey taco meat is new but it's dead simple."
    },
    11: {
        name: "Prep Session 4",
        color: "#a3b899",
        portions: ["Covers Days 12‚Äì14 (Sun‚ÄìTue)", "~60 min total"],
        ingredients: [
            "--- WHITE BEAN & SPINACH SOUP (big pot) ---",
            "~8 oz chicken breast (cook and shred)",
            "2 cans cannellini beans",
            "4 cups baby spinach",
            "2 cups marinara sauce",
            "4 cloves garlic",
            "1 cup diced carrots",
            "2 tbsp olive oil",
            "8 cups low-sodium chicken broth",
            "Italian seasoning, garlic powder, red pepper flakes",
            "--- CHICKEN (for burrito bowls Day 13) ---",
            "~8 oz chicken breast (cook alongside soup chicken)",
            "Cumin, garlic powder, chili powder",
            "--- LUNCH BASES ---",
            "1.5 cups brown rice",
            "1 can black beans",
            "Corn, feta, lime",
            "--- OVERNIGHT OATS (2 jars) ---",
            "Jar 1: coconut milk + mango (for Day 12)",
            "Jar 2: your choice",
            "--- CHIA PUDDING ---",
            "2 servings: chia seeds, almond milk, protein powder, vanilla"
        ],
        steps: [
            "START RICE ‚Äî Get 1.5 cups brown rice cooking.",
            "COOK ALL CHICKEN ‚Äî Season ~1 lb total chicken (some for soup, some for burrito bowls). Cook it all at once. Shred the soup portion, dice the bowl portion.",
            "MAKE THE SOUP ‚Äî Saut√© garlic and carrots in olive oil. Add broth, marinara, cannellini beans. Simmer 10 min. Add spinach until wilted. Stir in shredded chicken. Season with Italian seasoning, garlic powder, red pepper flakes. Portion into containers.",
            "PORTION BURRITO BOWLS ‚Äî Divide rice, black beans, corn, and diced chicken into containers for Day 13.",
            "OVERNIGHT OATS ‚Äî Make 2 jars. Use coconut milk + mango for the Day 12 jar.",
            "CHIA PUDDING ‚Äî Mix 2 servings: chia seeds, almond milk, protein powder, vanilla, honey. Refrigerate.",
            "Last prep! You're almost at the finish line!"
        ],
        tip: "Final prep session! The soup is the star here ‚Äî it makes a big batch that covers 2 lunches. After this you just have 3 dinners to cook fresh and you're done with the whole plan. üí™"
    }
};

// State
var currentPerson = "kasey";
var showingSnacks = false;

// ===== DATE SYSTEM =====
// Plan starts Feb 10, 2026 ‚Äî 14 days through Feb 23
var PLAN_START = new Date(2026, 1, 11); // Wed Feb 11
var PLAN_DAYS = 14;
var SHORT_DAYS = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
var SHORT_MONTHS = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];

function getPlanDayFromDate(date) {
    var start = new Date(PLAN_START);
    start.setHours(0,0,0,0);
    var check = new Date(date);
    check.setHours(0,0,0,0);
    var diff = Math.floor((check - start) / (1000 * 60 * 60 * 24));
    return diff + 1; // 1-indexed
}

function getDateForPlanDay(dayNum) {
    var d = new Date(PLAN_START);
    d.setDate(d.getDate() + dayNum - 1);
    return d;
}

// Figure out today's plan day, clamp to 1-14
var todayPlanDay = getPlanDayFromDate(new Date());
if (todayPlanDay < 1) todayPlanDay = 1;
if (todayPlanDay > PLAN_DAYS) todayPlanDay = PLAN_DAYS;
var currentDay = todayPlanDay;

var dayColors = [
    "#a3b899", "#8fa882", "#7d8f76", "#a3b899", "#8fa882", "#b8c9ad", "#7d8f76",
    "#a3b899", "#8fa882", "#7d8f76", "#a3b899", "#8fa882", "#b8c9ad", "#7d8f76"
];

function getData() {
    return mealData[currentPerson];
}

function renderProgress() {
    var pct = Math.round((currentDay / PLAN_DAYS) * 100);
    document.getElementById("progress-fill").style.width = pct + "%";
    
    var startStr = SHORT_MONTHS[PLAN_START.getMonth()] + " " + PLAN_START.getDate();
    var endDate = getDateForPlanDay(PLAN_DAYS);
    var endStr = SHORT_MONTHS[endDate.getMonth()] + " " + endDate.getDate();
    
    document.getElementById("progress-label").textContent = "Day " + currentDay + " of " + PLAN_DAYS;
    document.getElementById("progress-dates").textContent = startStr + " ‚Äì " + endStr;
}

function renderCalendar() {
    var data = getData();
    
    // Week ranges
    var w1Start = getDateForPlanDay(1);
    var w1End = getDateForPlanDay(7);
    var w2Start = getDateForPlanDay(8);
    var w2End = getDateForPlanDay(14);
    document.getElementById("week1-range").textContent = SHORT_MONTHS[w1Start.getMonth()] + " " + w1Start.getDate() + "‚Äì" + w1End.getDate();
    document.getElementById("week2-range").textContent = SHORT_MONTHS[w2Start.getMonth()] + " " + w2Start.getDate() + "‚Äì" + w2End.getDate();
    
    // Month label
    document.getElementById("cal-month-label").textContent = SHORT_MONTHS[PLAN_START.getMonth()].toUpperCase() + " " + PLAN_START.getFullYear();
    
    var todayDayNum = getPlanDayFromDate(new Date());
    
    ["week1", "week2"].forEach(function(id, weekIdx) {
        var grid = document.getElementById(id);
        grid.innerHTML = "";
        for (var i = 0; i < 7; i++) {
            var dayNum = weekIdx * 7 + i + 1;
            var dayDate = getDateForPlanDay(dayNum);
            var dateNum = dayDate.getDate();
            
            var btn = document.createElement("button");
            btn.className = "day-btn";
            
            var isActive = dayNum === currentDay;
            var isToday = dayNum === todayDayNum;
            var isPast = dayNum < todayDayNum;
            var isFuture = dayNum > todayDayNum;
            
            if (isToday) btn.classList.add("is-today");
            if (isPast) btn.classList.add("is-past");
            
            var baseColor = dayColors[dayNum - 1];
            
            if (isActive) {
                btn.style.background = baseColor;
                btn.style.color = "#2a1f21";
            } else if (isPast) {
                btn.style.background = "rgba(163,184,153,0.08)";
                btn.style.color = "rgba(224,210,208,0.4)";
            } else {
                btn.style.background = "rgba(163,184,153,0.1)";
                btn.style.color = "var(--light-text)";
            }
            
            var checkMark = isPast && !isActive ? '<span class="day-check">‚úì</span>' : '';
            var todayDot = isToday && !isActive ? '<span style="width:4px;height:4px;border-radius:50%;background:var(--sage-green);display:inline-block;"></span>' : '';
            
            btn.innerHTML = '<span class="day-letter">' + SHORT_DAYS[dayDate.getDay()] + '</span><span class="day-number">' + dateNum + '</span>' + checkMark + todayDot;
            btn.onclick = (function(d) { return function() { currentDay = d; showingSnacks = false; render(); }; })(dayNum);
            grid.appendChild(btn);
        }
    });
}

function renderDayDetail() {
    var data = getData();
    var day = data.days[currentDay - 1];
    var dayDate = getDateForPlanDay(currentDay);
    var dateStr = SHORT_DAYS[dayDate.getDay()] + ", " + SHORT_MONTHS[dayDate.getMonth()] + " " + dayDate.getDate();
    
    var header = document.getElementById("day-header");
    header.style.background = dayColors[currentDay - 1];
    document.getElementById("day-num").textContent = dateStr;
    document.getElementById("day-theme").textContent = day.theme;
    document.getElementById("day-protein").textContent = day.protein + " protein";
    document.getElementById("day-calories").textContent = day.calories + " cal";
    
    // Prep day banner
    var existingPrep = document.getElementById("prep-banner");
    if (existingPrep) existingPrep.remove();
    if (day.prep) {
        var prepBanner = document.createElement("div");
        prepBanner.id = "prep-banner";
        prepBanner.style.cssText = "background: rgba(163,184,153,0.15); border: 1px solid rgba(163,184,153,0.3); border-radius: 6px; padding: 10px 14px; margin-bottom: 12px; font-size: 0.8rem; color: #a3b899; text-align: center; letter-spacing: 0.03em; cursor: pointer; transition: background 0.2s;";
        prepBanner.innerHTML = "üìã " + day.prep + ' <span style="opacity:0.6; margin-left:6px;">tap for details ‚Ä∫</span>';
        prepBanner.onmouseenter = function() { this.style.background = "rgba(163,184,153,0.25)"; };
        prepBanner.onmouseleave = function() { this.style.background = "rgba(163,184,153,0.15)"; };
        prepBanner.onclick = function() {
            var ps = prepSessions[currentDay];
            if (ps) openModal(ps);
        };
        document.querySelector(".day-detail").insertBefore(prepBanner, document.getElementById("meals-container"));
    }
    
    var container = document.getElementById("meals-container");
    container.innerHTML = "";
    
    if (showingSnacks) {
        // Render snack menu
        var backBtn = document.createElement("button");
        backBtn.className = "meal-btn";
        backBtn.style.background = "rgba(163,184,153,0.15)";
        backBtn.style.borderColor = "#a3b899";
        backBtn.innerHTML = '<div class="meal-icon" style="background:rgba(163,184,153,0.2)">‚Üê</div><div class="meal-info"><div class="meal-type" style="color:#a3b899">Back to ' + dateStr + '</div><div class="meal-name">Return to meals</div></div>';
        backBtn.onclick = function() { showingSnacks = false; render(); };
        container.appendChild(backBtn);
        
        var snackHeader = document.createElement("div");
        snackHeader.style.cssText = "text-align:center; padding: 16px 0 8px; color: rgba(242,235,224,0.5); font-size: 0.8rem; letter-spacing: 0.1em; text-transform: uppercase;";
        snackHeader.textContent = "Mix & match \u2022 build your own snacks";
        container.appendChild(snackHeader);
        
        snackMenu.forEach(function(snack) {
            var btn = document.createElement("button");
            btn.className = "meal-btn";
            btn.innerHTML = '<div class="meal-icon" style="background: rgba(163,184,153,0.15)">\u2728</div>' +
                '<div class="meal-info">' +
                    '<div class="meal-type">Snack</div>' +
                    '<div class="meal-name">' + snack.name + '</div>' +
                    '<div class="meal-portion">' + snack.portion + '</div>' +
                '</div>' +
                '<div class="meal-arrow">\u203A</div>';
            btn.onclick = (function(s) { return function() { openModal(s); }; })(snack);
            container.appendChild(btn);
        });
    } else {
        // Render day meals
        day.meals.forEach(function(meal) {
            var btn = document.createElement("button");
            btn.className = "meal-btn";
            var iconMap = { "sun": "\u2600\uFE0F", "moon": "\uD83C\uDF19", "star": "\u2728", "dessert": "\uD83C\uDF68" };
            var displayIcon = iconMap[meal.icon] || meal.icon;
            btn.innerHTML = '<div class="meal-icon" style="background: rgba(163,184,153,0.15)">' + displayIcon + '</div>' +
                '<div class="meal-info">' +
                    '<div class="meal-type">' + meal.type + '</div>' +
                    '<div class="meal-name">' + meal.name + '</div>' +
                    '<div class="meal-portion">' + meal.portion + '</div>' +
                '</div>' +
                '<div class="meal-arrow">\u203A</div>';
            btn.onclick = (function(m) { return function() { openModal(m); }; })(meal);
            container.appendChild(btn);
        });
        
        // Add snack menu button
        var snackBtn = document.createElement("button");
        snackBtn.className = "meal-btn";
        snackBtn.style.borderColor = "rgba(163,184,153,0.4)";
        snackBtn.style.background = "rgba(163,184,153,0.05)";
        snackBtn.innerHTML = '<div class="meal-icon" style="background: rgba(163,184,153,0.2)">\u2728</div>' +
            '<div class="meal-info">' +
                '<div class="meal-type" style="color:#a3b899">Snack Menu</div>' +
                '<div class="meal-name" style="color:#a3b899">' + snackMenu.length + ' items \u2022 mix & match however you want</div>' +
                '<div class="meal-portion">proteins, fruits, dips, nuts & more</div>' +
            '</div>' +
            '<div class="meal-arrow" style="color:#a3b899">\u203A</div>';
        snackBtn.onclick = function() { showingSnacks = true; render(); };
        container.appendChild(snackBtn);
    }
}

function openModal(meal) {
    var modal = document.getElementById("modal");
    var header = document.getElementById("modal-header");
    header.style.background = meal.color || "#a3b899";
    document.getElementById("modal-title").textContent = meal.name;
    document.getElementById("modal-meta").textContent = meal.portions.join(" \u2022 ");
    
    var ingList = document.getElementById("modal-ingredients");
    ingList.innerHTML = "";
    meal.ingredients.forEach(function(ing) {
        var li = document.createElement("li");
        if (ing.indexOf("---") === 0) {
            li.innerHTML = '<span></span><strong style="color: var(--sage-green); font-size: 0.75rem; letter-spacing: 0.05em;">' + ing.replace(/---/g, "").trim() + '</strong>';
        } else {
            li.innerHTML = '<span>\u2022</span>' + ing;
        }
        ingList.appendChild(li);
    });
    
    var stepList = document.getElementById("modal-steps");
    stepList.innerHTML = "";
    meal.steps.forEach(function(step, i) {
        var li = document.createElement("li");
        li.innerHTML = '<span class="step-number">' + (i + 1) + '</span>' + step;
        stepList.appendChild(li);
    });
    
    var tipBox = document.getElementById("modal-tip");
    if (meal.tip) {
        tipBox.style.display = "block";
        tipBox.querySelector("p").innerHTML = meal.tip.replace(/\n\n/g, "<br><br>");
    } else {
        tipBox.style.display = "none";
    }
    
    var portions = document.getElementById("modal-portions");
    portions.innerHTML = "";
    meal.portions.forEach(function(p) {
        portions.innerHTML += '<span class="portion-tag">' + p + '</span>';
    });
    
    modal.classList.add("active");
}

function closeModal() {
    document.getElementById("modal").classList.remove("active");
}

document.getElementById("modal").addEventListener("click", function(e) {
    if (e.target === this) closeModal();
});

document.addEventListener("keydown", function(e) {
    if (e.key === "Escape") closeModal();
});

document.querySelectorAll(".toggle-btn").forEach(function(btn) {
    btn.addEventListener("click", function() {
        document.querySelectorAll(".toggle-btn").forEach(function(b) { b.classList.remove("active"); });
        this.classList.add("active");
        currentPerson = this.dataset.person;
        document.getElementById("goal-protein").textContent = getData().goals.protein;
        document.getElementById("goal-calories").textContent = getData().goals.calories;
        render();
    });
});

function render() {
    renderProgress();
    renderCalendar();
    renderDayDetail();
}

render();
</script>
<script>
function toggleNav() {
    var h = document.getElementById('navHamburger');
    var o = document.getElementById('navOverlay');
    if (!h || !o) return;
    var isOpen = o.classList.contains('open');
    if (isOpen) {
        h.classList.remove('open');
        o.classList.remove('open');
        document.body.style.overflow = '';
    } else {
        h.classList.add('open');
        o.classList.add('open');
        document.body.style.overflow = 'hidden';
    }
}
</script>
</body>
</html>
