<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Our Life Together</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant:wght@300;400;500;600;700&family=Work+Sans:wght@600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            position: fixed;
            width: 100%;
            height: 100%;
            overflow: hidden;
            touch-action: pan-y;
        }

        body {
            font-family: 'Cormorant', Georgia, 'Times New Roman', serif;
            background: #1a1a1a;
            min-height: 100vh;
            padding: 16px;
            color: #e0e0e0;
            position: relative;
            width: 100%;
            height: 100%;
            overflow-y: auto;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
            overscroll-behavior: contain;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .btn {
            background: transparent;
            border: 1px solid #444;
            color: #999;
            padding: 8px 16px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s ease;
            font-family: inherit;
            text-decoration: none;
            display: inline-block;
        }

        .btn:hover {
            background: #b59197;
            color: #ffffff;
            border-color: #b59197;
        }

        .page-header {
            text-align: center;
            margin-bottom: 32px;
            margin-top: 24px;
        }

        .page-title {
            background: linear-gradient(135deg, #b59197 0%, #7ba886 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 2.5rem;
            font-weight: 400;
            letter-spacing: 0.05em;
            margin-bottom: 8px;
        }

        .page-subtitle {
            color: #999;
            font-size: 0.875rem;
            letter-spacing: 0.05em;
            font-style: italic;
        }

        .section-nav-dropdown {
            margin-bottom: 32px;
        }

        #sectionSelect {
            width: 100%;
            background: #2a2a2a;
            border: 1px solid #7ba886;
            color: #7ba886;
            padding: 16px;
            font-size: 1rem;
            cursor: pointer;
            font-family: inherit;
            font-weight: 500;
            letter-spacing: 0.05em;
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%237ba886' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 20px;
            padding-right: 40px;
        }

        #sectionSelect:hover {
            background-color: #333;
            border-color: #b59197;
        }

        #sectionSelect:focus {
            outline: none;
            border-color: #b59197;
        }

        #sectionSelect option {
            background: #2a2a2a;
            color: #e0e0e0;
            padding: 12px;
        }

        .dreams-tab {
            display: none;
        }

        .dreams-tab.active {
            display: block;
        }

        .section {
            background: #2a2a2a;
            border: 1px solid #b59197;
            padding: 24px;
            margin-bottom: 24px;
        }

        .section-title {
            font-size: 0.75rem;
            font-weight: 400;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: #b59197;
            margin-bottom: 20px;
        }

        .dream-list {
            margin-bottom: 16px;
        }

        .dream-list-toggle {
            background: #1a1a1a;
            padding: 12px 16px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid #444;
            margin-bottom: 0;
            transition: background 0.2s;
        }

        .dream-list-toggle:hover {
            background: #252525;
        }

        .dream-list-toggle-text {
            color: #7ba886;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-weight: 500;
        }

        .dream-list-arrow {
            color: #999;
            transition: transform 0.2s;
            font-size: 0.9rem;
        }

        .dream-list.expanded .dream-list-arrow {
            transform: rotate(180deg);
        }

        .dream-list-content {
            display: none;
            padding-top: 12px;
        }

        .dream-list.expanded .dream-list-content {
            display: block;
        }

        .dream-item {
            background: #1a1a1a;
            padding: 16px;
            margin-bottom: 12px;
            border-left: 3px solid #b59197;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 12px;
        }

        .dream-item.achieved {
            opacity: 0.6;
            border-left-color: #7ba886;
        }

        .dream-item-content {
            flex: 1;
        }

        .dream-item-title {
            color: #fff;
            font-size: 1rem;
            margin-bottom: 6px;
            font-weight: 500;
        }

        .dream-item.achieved .dream-item-title {
            text-decoration: line-through;
        }

        .dream-item-details {
            color: #999;
            font-size: 0.85rem;
            line-height: 1.5;
        }

        .dream-item-image {
            width: 100%;
            max-width: 300px;
            margin-top: 12px;
            margin-bottom: 8px;
            border: 1px solid #444;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .dream-item-image:hover {
            transform: scale(1.02);
        }

        .image-upload-preview {
            max-width: 200px;
            margin-top: 10px;
            border: 1px solid #444;
        }

        .image-upload-label {
            display: inline-block;
            background: transparent;
            border: 1px solid #444;
            color: #999;
            padding: 8px 16px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s ease;
            font-family: inherit;
            margin-top: 6px;
        }

        .image-upload-label:hover {
            background: #b59197;
            color: #ffffff;
            border-color: #b59197;
        }

        .image-upload-input {
            display: none;
        }

        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .lightbox.show {
            display: flex;
        }

        .lightbox-image {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
        }

        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 20px;
            color: #fff;
            font-size: 2rem;
            cursor: pointer;
            background: none;
            border: none;
            padding: 10px;
        }

        .dream-item-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }

        .dream-tag {
            background: #3a3a3a;
            color: #b59197;
            padding: 4px 10px;
            font-size: 0.7rem;
            border: 1px solid #444;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .dream-tag.priority-high {
            background: #4a2a2a;
            color: #ff9999;
            border-color: #ff9999;
        }

        .dream-tag.priority-soon {
            background: #3a3a2a;
            color: #ffcc99;
            border-color: #ffcc99;
        }

        .dream-tag.priority-friends {
            background: #2a3a3a;
            color: #99ccff;
            border-color: #99ccff;
        }

        .dream-tag.occasion-date-night {
            background: #3a2a3a;
            color: #ffb3d9;
            border-color: #ffb3d9;
        }

        .dream-tag.occasion-friends {
            background: #2a3a3a;
            color: #99ccff;
            border-color: #99ccff;
        }

        .dream-tag.occasion-special {
            background: #3a3a2a;
            color: #ffd699;
            border-color: #ffd699;
        }

        .dream-item-actions {
            display: flex;
            gap: 6px;
            flex-direction: column;
        }

        .icon-btn {
            background: transparent;
            border: 1px solid #444;
            color: #999;
            padding: 6px 10px;
            cursor: pointer;
            font-size: 0.75rem;
            transition: all 0.2s ease;
            font-family: inherit;
            min-width: 60px;
        }

        .icon-btn:hover {
            background: #7ba886;
            color: #ffffff;
            border-color: #7ba886;
        }

        .icon-btn.achieved {
            border-color: #7ba886;
            color: #7ba886;
        }

        .icon-btn.achieved:hover {
            background: #7ba886;
            color: #ffffff;
        }

        .add-dream-btn {
            width: 100%;
            background: transparent;
            border: 1px solid #444;
            color: #999;
            padding: 12px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s ease;
            font-family: inherit;
            margin-top: 8px;
        }

        .add-dream-btn:hover {
            background: #b59197;
            color: #ffffff;
            border-color: #b59197;
        }

        .dream-form {
            display: none;
            background: #1a1a1a;
            padding: 20px;
            margin-top: 15px;
            margin-bottom: 20px;
            border: 1px solid #333;
        }

        .dream-form.active {
            display: block;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            color: #999;
            font-size: 0.85rem;
            margin-bottom: 6px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            background: #2a2a2a;
            border: 1px solid #444;
            color: #fff;
            padding: 10px;
            font-size: 0.9rem;
            font-family: inherit;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .form-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: #7ba886;
        }

        .checkbox-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-top: 8px;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            font-size: 0.85rem;
            text-transform: none;
            color: #e0e0e0;
            padding: 8px;
            background: #1a1a1a;
            border: 1px solid #444;
            transition: all 0.2s ease;
        }

        .checkbox-label:hover {
            background: #252525;
            border-color: #7ba886;
        }

        .checkbox-label input[type="checkbox"]:checked + span {
            color: #7ba886;
            font-weight: 600;
        }

        .form-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        .form-actions button[type="submit"] {
            border: 1px solid #b59197;
            color: #b59197;
            background: transparent;
            padding: 8px 16px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s ease;
            font-family: inherit;
        }

        .form-actions button[type="submit"]:hover {
            background: #b59197;
            color: #ffffff;
        }

        .empty-state {
            text-align: center;
            color: #666;
            padding: 40px 20px;
            font-style: italic;
        }

        .celebration {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #2a2a2a;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
            text-align: center;
            display: none;
            z-index: 1000;
            border: 2px solid #b59197;
            max-width: 90%;
        }

        .random-choice {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #2a2a2a;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
            text-align: center;
            display: none;
            z-index: 1000;
            border: 2px solid #7ba886;
            max-width: 90%;
            min-width: 300px;
        }

        .random-choice.show {
            display: block;
        }

        .random-choice h2 {
            background: linear-gradient(135deg, #7ba886 0%, #b59197 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
            font-size: 1.5rem;
            font-weight: 700;
            letter-spacing: 0.1em;
        }

        .random-choice-title {
            color: #fff;
            font-size: 1.8rem;
            margin-bottom: 16px;
            font-weight: 600;
        }

        .random-choice-details {
            color: #999;
            margin-bottom: 24px;
            line-height: 1.6;
            font-size: 1rem;
        }

        .random-choice-image {
            max-width: 100%;
            max-height: 300px;
            margin-bottom: 20px;
            border: 1px solid #444;
        }

        .random-choice-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .celebration.show {
            display: block;
        }

        .celebration h2 {
            background: linear-gradient(135deg, #b59197 0%, #7ba886 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 12px;
            font-size: 2rem;
            font-weight: 700;
            letter-spacing: 0.1em;
        }

        .celebration p {
            color: #999;
            margin-bottom: 24px;
            line-height: 1.6;
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            animation: confetti-fall 3s linear forwards;
            z-index: 9999;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        @media (max-width: 768px) {
            .dream-item {
                flex-direction: column;
            }

            .dream-item-actions {
                flex-direction: row;
                width: 100%;
            }

            .icon-btn {
                flex: 1;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 12px;
            }

            .page-title {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    
    <div class="container">
        <div class="page-header">
            <h1 class="page-title">Our Life Together</h1>
            <p class="page-subtitle">Dreams, goals, ideas & all the things we want to do</p>
        </div>

        <div class="section-nav-dropdown">
            <select id="sectionSelect" onchange="switchToSection(this.value)">
                <option value="restaurants">Restaurants</option>
                <option value="places">Places to Go</option>
                <option value="wishlists">Wishlists</option>
                <option value="travel">Travel</option>
                <option value="shows-movies">TV Shows & Movies</option>
                <option value="bucket">Bucket List</option>
                <option value="home">Dream Home</option>
                <option value="pets">Future Pets</option>
                <option value="traditions">Traditions</option>
            </select>
        </div>

        <!-- RESTAURANTS TAB -->
        <div id="restaurants-tab" class="dreams-tab active">
            <div class="section">
                <h2 class="section-title">Restaurants We Want to Try</h2>
                
                <div style="display: flex; gap: 10px; margin-bottom: 16px;">
                    <button class="add-dream-btn" onclick="showForm('restaurants')" style="flex: 1;">+ Add Restaurant</button>
                    <button class="add-dream-btn" onclick="chooseRandomDream('restaurants')" style="flex: 1; border: 2px solid #7ba886; color: #7ba886; background: transparent;">Choose for Us</button>
                </div>
                
                <div class="dream-form" id="restaurants-form">
                    <form onsubmit="addDream(event, 'restaurants')">
                        <div class="form-group">
                            <label>Restaurant Name</label>
                            <input type="text" name="title" required placeholder="Name of the place">
                        </div>
                        <div class="form-group">
                            <label>Type (Select all that apply)</label>
                            <div class="checkbox-grid">
                                <label class="checkbox-label">
                                    <input type="checkbox" name="restaurantType" value="breakfast">
                                    <span>Breakfast</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="restaurantType" value="brunch">
                                    <span>Brunch</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="restaurantType" value="lunch">
                                    <span>Lunch</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="restaurantType" value="dinner">
                                    <span>Dinner</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="restaurantType" value="cafe">
                                    <span>Cafe</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="restaurantType" value="bar">
                                    <span>Bar</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="restaurantType" value="bakery">
                                    <span>Bakery</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="restaurantType" value="dessert">
                                    <span>Dessert</span>
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Location & Details</label>
                            <textarea name="details" placeholder="Where is it? What kind of food? What do you want to try?"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Add Image (Optional)</label>
                            <input type="file" class="image-upload-input" id="restaurants-image" accept="image/*" onchange="previewImage(event, 'restaurants')">
                            <label for="restaurants-image" class="image-upload-label">Choose Image</label>
                            <div id="restaurants-preview"></div>
                        </div>
                        <div class="form-group">
                            <label>Occasion</label>
                            <select name="occasion">
                                <option value="">Casual</option>
                                <option value="date-night">Date Night</option>
                                <option value="friends">Go with Friends</option>
                                <option value="special">Special Occasion</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Priority</label>
                            <select name="priority">
                                <option value="">I'd Like to Try</option>
                                <option value="soon">I'd Love to Try</option>
                                <option value="high">We Have to Go!</option>
                            </select>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn" onclick="hideForm('restaurants')">Cancel</button>
                            <button type="submit" class="btn">Save</button>
                        </div>
                    </form>
                </div>

                <div class="dream-list" id="restaurants-list">
                    <div class="empty-state">No restaurants yet. Where should you go for date night?</div>
                </div>
            </div>
        </div>

        <!-- PLACES TAB -->
        <div id="places-tab" class="dreams-tab">
            <div class="section">
                <h2 class="section-title">Places We Want to Go</h2>
                
                <div style="display: flex; gap: 10px; margin-bottom: 16px;">
                    <button class="add-dream-btn" onclick="showForm('places')" style="flex: 1;">+ Add Place</button>
                    <button class="add-dream-btn" onclick="chooseRandomDream('places')" style="flex: 1; border: 2px solid #7ba886; color: #7ba886; background: transparent;">Choose for Us</button>
                </div>
                
                <div class="dream-form" id="places-form">
                    <form onsubmit="addDream(event, 'places')">
                        <div class="form-group">
                            <label>Place Name</label>
                            <input type="text" name="title" required placeholder="Where do you want to go?">
                        </div>
                        <div class="form-group">
                            <label>Type (Select all that apply)</label>
                            <div class="checkbox-grid">
                                <label class="checkbox-label">
                                    <input type="checkbox" name="placeType" value="museum">
                                    <span>Museum</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="placeType" value="park">
                                    <span>Park</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="placeType" value="thrift-shop">
                                    <span>Thrift Shop</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="placeType" value="metaphysical-shop">
                                    <span>Metaphysical Shop</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="placeType" value="bookstore">
                                    <span>Bookstore</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="placeType" value="concert">
                                    <span>Concert</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="placeType" value="festival">
                                    <span>Festival</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="placeType" value="market">
                                    <span>Market</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="placeType" value="nature">
                                    <span>Nature Spot</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="placeType" value="entertainment">
                                    <span>Entertainment</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="placeType" value="historic">
                                    <span>Historic Site</span>
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Details</label>
                            <textarea name="details" placeholder="What is it? What do you want to do there?"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Add Image (Optional)</label>
                            <input type="file" class="image-upload-input" id="places-image" accept="image/*" onchange="previewImage(event, 'places')">
                            <label for="places-image" class="image-upload-label">Choose Image</label>
                            <div id="places-preview"></div>
                        </div>
                        <div class="form-group">
                            <label>Priority</label>
                            <select name="priority">
                                <option value="">I'd Like to Go</option>
                                <option value="soon">I'd Love to Go</option>
                                <option value="high">We Have to Go!</option>
                            </select>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn" onclick="hideForm('places')">Cancel</button>
                            <button type="submit" class="btn">Save</button>
                        </div>
                    </form>
                </div>

                <div class="dream-list" id="places-list">
                    <div class="empty-state">No places yet. Where do you want to go?</div>
                </div>
            </div>
        </div>

        <!-- WISHLISTS TAB -->
        <div id="wishlists-tab" class="dreams-tab">
            <div class="section" style="margin-bottom: 24px;">
                <h2 class="section-title">Kasey's Wishlist</h2>
                
                <button class="add-dream-btn" onclick="showForm('kasey-wishlist')">+ Add to Kasey's List</button>
                
                <div class="dream-form" id="kasey-wishlist-form">
                    <form onsubmit="addDream(event, 'kasey-wishlist')">
                        <div class="form-group">
                            <label>Item or Experience</label>
                            <input type="text" name="title" required placeholder="What does Kasey want?">
                        </div>
                        <div class="form-group">
                            <label>Details / Link</label>
                            <textarea name="details" placeholder="Where to find it, price, why you want it..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>Add Image (Optional)</label>
                            <input type="file" class="image-upload-input" id="kasey-wishlist-image" accept="image/*" onchange="previewImage(event, 'kasey-wishlist')">
                            <label for="kasey-wishlist-image" class="image-upload-label">Choose Image</label>
                            <div id="kasey-wishlist-preview"></div>
                        </div>
                        <div class="form-group">
                            <label>Priority</label>
                            <select name="priority">
                                <option value="">Nice to Have</option>
                                <option value="soon">Really Want</option>
                                <option value="high">Top of List</option>
                            </select>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn" onclick="hideForm('kasey-wishlist')">Cancel</button>
                            <button type="submit" class="btn">Save</button>
                        </div>
                    </form>
                </div>

                <div class="dream-list" id="kasey-wishlist-list">
                    <div class="empty-state">Kasey's wishlist is empty</div>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Charlie's Wishlist</h2>
                
                <button class="add-dream-btn" onclick="showForm('charlie-wishlist')">+ Add to Charlie's List</button>
                
                <div class="dream-form" id="charlie-wishlist-form">
                    <form onsubmit="addDream(event, 'charlie-wishlist')">
                        <div class="form-group">
                            <label>Item or Experience</label>
                            <input type="text" name="title" required placeholder="What does Charlie want?">
                        </div>
                        <div class="form-group">
                            <label>Details / Link</label>
                            <textarea name="details" placeholder="Where to find it, price, why you want it..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>Add Image (Optional)</label>
                            <input type="file" class="image-upload-input" id="charlie-wishlist-image" accept="image/*" onchange="previewImage(event, 'charlie-wishlist')">
                            <label for="charlie-wishlist-image" class="image-upload-label">Choose Image</label>
                            <div id="charlie-wishlist-preview"></div>
                        </div>
                        <div class="form-group">
                            <label>Priority</label>
                            <select name="priority">
                                <option value="">Nice to Have</option>
                                <option value="soon">Really Want</option>
                                <option value="high">Top of List</option>
                            </select>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn" onclick="hideForm('charlie-wishlist')">Cancel</button>
                            <button type="submit" class="btn">Save</button>
                        </div>
                    </form>
                </div>

                <div class="dream-list" id="charlie-wishlist-list">
                    <div class="empty-state">Charlie's wishlist is empty</div>
                </div>
            </div>
        </div>

        <!-- TRAVEL TAB -->
        <div id="travel-tab" class="dreams-tab">
            <div class="section">
                <h2 class="section-title">Places We Want to Travel</h2>
                
                <button class="add-dream-btn" onclick="showForm('travel')">+ Add Travel Dream</button>
                
                <div class="dream-form" id="travel-form">
                    <form onsubmit="addDream(event, 'travel')">
                        <div class="form-group">
                            <label>Destination</label>
                            <input type="text" name="title" required placeholder="Where do you want to go?">
                        </div>
                        <div class="form-group">
                            <label>Why / What to Do There</label>
                            <textarea name="details" placeholder="What draws you to this place?"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Add Image (Optional)</label>
                            <input type="file" class="image-upload-input" id="travel-image" accept="image/*" onchange="previewImage(event, 'travel')">
                            <label for="travel-image" class="image-upload-label">Choose Image</label>
                            <div id="travel-preview"></div>
                        </div>
                        <div class="form-group">
                            <label>Priority</label>
                            <select name="priority">
                                <option value="">I'd Like to Go</option>
                                <option value="soon">I'd Love to Go</option>
                                <option value="high">Top of My List!</option>
                            </select>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn" onclick="hideForm('travel')">Cancel</button>
                            <button type="submit" class="btn">Save Dream</button>
                        </div>
                    </form>
                </div>

                <div class="dream-list" id="travel-list">
                    <div class="empty-state">No travel dreams yet. Where do you want to go?</div>
                </div>
            </div>
        </div>

        <!-- TV SHOWS & MOVIES TAB -->
        <div id="shows-movies-tab" class="dreams-tab">
            <div class="section">
                <h2 class="section-title">TV Shows & Movies to Watch Together</h2>
                
                <div style="display: flex; gap: 10px; margin-bottom: 16px;">
                    <button class="add-dream-btn" onclick="showForm('shows-movies')" style="flex: 1;">+ Add Show or Movie</button>
                    <button class="add-dream-btn" onclick="chooseRandomDream('shows-movies')" style="flex: 1; border: 2px solid #7ba886; color: #7ba886; background: transparent;">Choose for Us</button>
                </div>
                
                <div class="dream-form" id="shows-movies-form">
                    <form onsubmit="addDream(event, 'shows-movies')">
                        <div class="form-group">
                            <label>Title</label>
                            <input type="text" name="title" required placeholder="Name of the show or movie">
                        </div>
                        <div class="form-group">
                            <label>Details</label>
                            <textarea name="details" placeholder="Where to watch? Genre? Why you want to see it?"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Add Image (Optional)</label>
                            <input type="file" class="image-upload-input" id="shows-movies-image" accept="image/*" onchange="previewImage(event, 'shows-movies')">
                            <label for="shows-movies-image" class="image-upload-label">Choose Image</label>
                            <div id="shows-movies-preview"></div>
                        </div>
                        <div class="form-group">
                            <label>Priority</label>
                            <select name="priority">
                                <option value="">I'd Like to Watch</option>
                                <option value="soon">I'd Love to Watch</option>
                                <option value="high">We Have to Watch!</option>
                            </select>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn" onclick="hideForm('shows-movies')">Cancel</button>
                            <button type="submit" class="btn">Save</button>
                        </div>
                    </form>
                </div>

                <div class="dream-list" id="shows-movies-list">
                    <div class="empty-state">No shows or movies yet. What do you want to watch together?</div>
                </div>
            </div>
        </div>

        <!-- BUCKET LIST TAB -->
        <div id="bucket-tab" class="dreams-tab">
            <div class="section">
                <h2 class="section-title">Our Bucket List</h2>
                
                <button class="add-dream-btn" onclick="showForm('bucket')">+ Add to Bucket List</button>
                
                <div class="dream-form" id="bucket-form">
                    <form onsubmit="addDream(event, 'bucket')">
                        <div class="form-group">
                            <label>Experience or Goal</label>
                            <input type="text" name="title" required placeholder="What do you want to do together?">
                        </div>
                        <div class="form-group">
                            <label>Details</label>
                            <textarea name="details" placeholder="Any specifics or ideas?"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Add Image (Optional)</label>
                            <input type="file" class="image-upload-input" id="bucket-image" accept="image/*" onchange="previewImage(event, 'bucket')">
                            <label for="bucket-image" class="image-upload-label">Choose Image</label>
                            <div id="bucket-preview"></div>
                        </div>
                        <div class="form-group">
                            <label>Priority</label>
                            <select name="priority">
                                <option value="">I'd Like to Do</option>
                                <option value="soon">I'd Love to Do</option>
                                <option value="high">We Have to Do!</option>
                            </select>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn" onclick="hideForm('bucket')">Cancel</button>
                            <button type="submit" class="btn">Save</button>
                        </div>
                    </form>
                </div>

                <div class="dream-list" id="bucket-list">
                    <div class="empty-state">Start building your bucket list together!</div>
                </div>
            </div>
        </div>

        <!-- DREAM HOME TAB -->
        <div id="home-tab" class="dreams-tab">
            <div class="section">
                <h2 class="section-title">Dream Home Features</h2>
                
                <button class="add-dream-btn" onclick="showForm('home')">+ Add Home Feature</button>
                
                <div class="dream-form" id="home-form">
                    <form onsubmit="addDream(event, 'home')">
                        <div class="form-group">
                            <label>Feature or Room</label>
                            <input type="text" name="title" required placeholder="What do you want in your dream home?">
                        </div>
                        <div class="form-group">
                            <label>Details / Vision</label>
                            <textarea name="details" placeholder="Describe how you imagine it..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>Add Image (Optional)</label>
                            <input type="file" class="image-upload-input" id="home-image" accept="image/*" onchange="previewImage(event, 'home')">
                            <label for="home-image" class="image-upload-label">Choose Image</label>
                            <div id="home-preview"></div>
                        </div>
                        <div class="form-group">
                            <label>Importance</label>
                            <select name="priority">
                                <option value="">Nice to Have</option>
                                <option value="soon">Really Want</option>
                                <option value="high">Must Have</option>
                            </select>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn" onclick="hideForm('home')">Cancel</button>
                            <button type="submit" class="btn">Save</button>
                        </div>
                    </form>
                </div>

                <div class="dream-list" id="home-list">
                    <div class="empty-state">What does your dream home look like?</div>
                </div>
            </div>
        </div>

        <!-- PETS TAB -->
        <div id="pets-tab" class="dreams-tab">
            <div class="section">
                <h2 class="section-title">Future Pets & Animal Dreams</h2>
                
                <button class="add-dream-btn" onclick="showForm('pets')">+ Add Pet Dream</button>
                
                <div class="dream-form" id="pets-form">
                    <form onsubmit="addDream(event, 'pets')">
                        <div class="form-group">
                            <label>Pet Type or Name Idea</label>
                            <input type="text" name="title" required placeholder="What kind of pet?">
                        </div>
                        <div class="form-group">
                            <label>Details</label>
                            <textarea name="details" placeholder="Breed, personality, care needs, name ideas..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>Add Image (Optional)</label>
                            <input type="file" class="image-upload-input" id="pets-image" accept="image/*" onchange="previewImage(event, 'pets')">
                            <label for="pets-image" class="image-upload-label">Choose Image</label>
                            <div id="pets-preview"></div>
                        </div>
                        <div class="form-group">
                            <label>Timeline</label>
                            <select name="priority">
                                <option value="">Someday</option>
                                <option value="soon">Within a Year</option>
                                <option value="high">Ready Now</option>
                            </select>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn" onclick="hideForm('pets')">Cancel</button>
                            <button type="submit" class="btn">Save</button>
                        </div>
                    </form>
                </div>

                <div class="dream-list" id="pets-list">
                    <div class="empty-state">Dream about your future fur (or scale, or feather) babies!</div>
                </div>
            </div>
        </div>

        <!-- TRADITIONS TAB -->
        <div id="traditions-tab" class="dreams-tab">
            <div class="section">
                <h2 class="section-title">Traditions We Want to Start</h2>
                
                <button class="add-dream-btn" onclick="showForm('traditions')">+ Add Tradition Idea</button>
                
                <div class="dream-form" id="traditions-form">
                    <form onsubmit="addDream(event, 'traditions')">
                        <div class="form-group">
                            <label>Tradition Name</label>
                            <input type="text" name="title" required placeholder="What tradition do you want to start?">
                        </div>
                        <div class="form-group">
                            <label>Details</label>
                            <textarea name="details" placeholder="When? How often? What would it look like?"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Add Image (Optional)</label>
                            <input type="file" class="image-upload-input" id="traditions-image" accept="image/*" onchange="previewImage(event, 'traditions')">
                            <label for="traditions-image" class="image-upload-label">Choose Image</label>
                            <div id="traditions-preview"></div>
                        </div>
                        <div class="form-group">
                            <label>Priority</label>
                            <select name="priority">
                                <option value="">Future Idea</option>
                                <option value="soon">Start Soon</option>
                                <option value="high">Start This Year</option>
                            </select>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn" onclick="hideForm('traditions')">Cancel</button>
                            <button type="submit" class="btn">Save</button>
                        </div>
                    </form>
                </div>

                <div class="dream-list" id="traditions-list">
                    <div class="empty-state">What traditions do you want to create together?</div>
                </div>
            </div>
        </div>
    </div>

    <div class="random-choice" id="randomChoice">
        <h2>WE CHOOSE...</h2>
        <div class="random-choice-title" id="randomChoiceTitle"></div>
        <div class="random-choice-details" id="randomChoiceDetails"></div>
        <img class="random-choice-image" id="randomChoiceImage" src="" alt="" style="display: none;">
        <div class="random-choice-buttons">
            <button class="btn" onclick="closeRandomChoice()">Let's Do It!</button>
            <button class="btn" onclick="pickAnotherRandom()">Pick Another</button>
        </div>
    </div>

    <div class="celebration" id="celebration">
        <h2>DREAM ACHIEVED!</h2>
        <p id="celebrationText">Amazing! You made it happen!</p>
        <button class="btn" onclick="closeCelebration()">Continue Dreaming</button>
    </div>

    <div class="lightbox" id="lightbox" onclick="closeLightbox()">
        <button class="lightbox-close" onclick="closeLightbox()">Ã—</button>
        <img class="lightbox-image" id="lightboxImage" src="" alt="">
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getDatabase, ref, onValue, push, set, remove, update } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCDda9sPwSY-RQ5rrM5THOvcLtHvcPRYd4",
            authDomain: "our-habit-hub.firebaseapp.com",
            projectId: "our-habit-hub",
            storageBucket: "our-habit-hub.firebasestorage.app",
            messagingSenderId: "78555830496",
            appId: "1:78555830496:web:3e457e54729cc11b825885"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);

        // Global variables
        const categories = ['restaurants', 'places', 'kasey-wishlist', 'charlie-wishlist', 'travel', 'bucket', 'home', 'pets', 'traditions', 'shows-movies'];
        let dreams = {};
        let isConnected = false;
        let currentImageData = {};

        // Helper function to escape HTML
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Image preview function
        window.previewImage = function(event, category) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    currentImageData[category] = e.target.result;
                    const preview = document.getElementById(`${category}-preview`);
                    preview.innerHTML = `<img src="${e.target.result}" class="image-upload-preview" alt="Preview">`;
                };
                reader.readAsDataURL(file);
            }
        };

        // Open lightbox
        window.openLightbox = function(imageSrc) {
            document.getElementById('lightboxImage').src = imageSrc;
            document.getElementById('lightbox').classList.add('show');
        };

        // Close lightbox
        window.closeLightbox = function() {
            document.getElementById('lightbox').classList.remove('show');
        };

        // Initialize Firebase listeners for all categories
        function initFirebaseListeners() {
            categories.forEach(category => {
                const dreamsRef = ref(database, `dreams/${category}`);
                
                onValue(dreamsRef, (snapshot) => {
                    const data = snapshot.val();
                    dreams[category] = [];
                    
                    if (data) {
                        Object.keys(data).forEach(key => {
                            dreams[category].push({
                                firebaseId: key,
                                ...data[key]
                            });
                        });
                    }
                    
                    renderDreams(category);
                    
                    if (!isConnected) {
                        isConnected = true;
                    }
                }, (error) => {
                    console.error('Firebase error:', error);
                });
            });
        }

        // Switch section
        window.switchToSection = function(section) {
            document.querySelectorAll('.dreams-tab').forEach(t => t.classList.remove('active'));
            document.getElementById(`${section}-tab`).classList.add('active');
        };

        // Show form
        window.showForm = function(category) {
            document.getElementById(`${category}-form`).classList.add('active');
        };

        // Hide form
        window.hideForm = function(category) {
            const form = document.getElementById(`${category}-form`);
            form.classList.remove('active');
            form.querySelector('form').reset();
            // Clear image preview and data
            const preview = document.getElementById(`${category}-preview`);
            if (preview) preview.innerHTML = '';
            delete currentImageData[category];
        };

        // Add dream
        window.addDream = async function(e, category) {
            e.preventDefault();
            const formData = new FormData(e.target);
            
            const dream = {
                id: Date.now(),
                title: formData.get('title'),
                details: formData.get('details') || '',
                priority: formData.get('priority') || '',
                achieved: false,
                dateAdded: new Date().toISOString(),
                image: currentImageData[category] || null
            };

            // Add occasion for restaurants
            if (category === 'restaurants') {
                dream.occasion = formData.get('occasion') || '';
            }

            // Add restaurant types if it's a restaurant (multiple selections)
            if (category === 'restaurants') {
                const types = formData.getAll('restaurantType');
                if (types.length > 0) {
                    dream.restaurantTypes = types;
                }
            }

            // Add place types if it's a place (multiple selections)
            if (category === 'places') {
                const types = formData.getAll('placeType');
                if (types.length > 0) {
                    dream.placeTypes = types;
                }
            }

            // Push to Firebase
            try {
                const dreamsRef = ref(database, `dreams/${category}`);
                await push(dreamsRef, dream);
                window.hideForm(category);
            } catch (error) {
                console.error('Error saving dream:', error);
                alert('Failed to save. Please try again.');
            }
        };

        // Render dreams
        function renderDreams(category) {
            const listContainer = document.getElementById(`${category}-list`);
            
            if (dreams[category].length === 0) {
                const emptyMessages = {
                    restaurants: 'No restaurants yet. Where should you go for date night?',
                    places: 'No places yet. Where do you want to go?',
                    'kasey-wishlist': 'Kasey\'s wishlist is empty',
                    'charlie-wishlist': 'Charlie\'s wishlist is empty',
                    travel: 'No travel dreams yet. Where do you want to go?',
                    'shows-movies': 'No shows or movies yet. What do you want to watch together?',
                    bucket: 'Start building your bucket list together!',
                    home: 'What does your dream home look like?',
                    pets: 'Dream about your future fur (or scale, or feather) babies!',
                    traditions: 'What traditions do you want to create together?'
                };
                listContainer.innerHTML = `<div class="empty-state">${emptyMessages[category]}</div>`;
                listContainer.classList.remove('expanded');
                return;
            }

            // Sort: unachieved first, then by priority
            const sorted = [...dreams[category]].sort((a, b) => {
                if (a.achieved !== b.achieved) return a.achieved ? 1 : -1;
                const priorityOrder = { high: 0, soon: 1, friends: 2, '': 3 };
                return (priorityOrder[a.priority] || 3) - (priorityOrder[b.priority] || 3);
            });

            // Build the HTML string
            let html = `
                <div class="dream-list-toggle" onclick="toggleDreamList('${category}')">
                    <span class="dream-list-toggle-text">View List (${sorted.length} item${sorted.length !== 1 ? 's' : ''})</span>
                    <span class="dream-list-arrow">â–¼</span>
                </div>
                <div class="dream-list-content">
            `;

            sorted.forEach(dream => {
                let priorityTag = '';
                if (dream.priority === 'high') {
                    priorityTag = '<span class="dream-tag priority-high">High Priority</span>';
                } else if (dream.priority === 'soon') {
                    priorityTag = '<span class="dream-tag priority-soon">Soon</span>';
                } else if (dream.priority === 'friends') {
                    priorityTag = '<span class="dream-tag priority-friends">Go with Friends</span>';
                }

                // Add occasion tags for restaurants
                let occasionTag = '';
                if (dream.occasion === 'date-night') {
                    occasionTag = '<span class="dream-tag occasion-date-night">Date Night</span>';
                } else if (dream.occasion === 'friends') {
                    occasionTag = '<span class="dream-tag occasion-friends">Go with Friends</span>';
                } else if (dream.occasion === 'special') {
                    occasionTag = '<span class="dream-tag occasion-special">Special Occasion</span>';
                }

                // Add restaurant type tags if they exist (handle both old single and new multiple)
                let restaurantTypeTags = '';
                if (dream.restaurantTypes && Array.isArray(dream.restaurantTypes)) {
                    // New format: multiple types
                    restaurantTypeTags = dream.restaurantTypes.map(type => {
                        const typeLabel = type.charAt(0).toUpperCase() + type.slice(1);
                        return `<span class="dream-tag">${typeLabel}</span>`;
                    }).join('');
                } else if (dream.restaurantType) {
                    // Old format: single type (for backward compatibility)
                    const typeLabel = dream.restaurantType.charAt(0).toUpperCase() + dream.restaurantType.slice(1);
                    restaurantTypeTags = `<span class="dream-tag">${typeLabel}</span>`;
                }

                // Add place type tags if they exist
                let placeTypeTags = '';
                if (dream.placeTypes && Array.isArray(dream.placeTypes)) {
                    placeTypeTags = dream.placeTypes.map(type => {
                        // Handle hyphenated types like "thrift-shop"
                        const typeLabel = type.split('-').map(word => 
                            word.charAt(0).toUpperCase() + word.slice(1)
                        ).join(' ');
                        return `<span class="dream-tag">${typeLabel}</span>`;
                    }).join('');
                }

                // Combine all tags
                let allTags = '';
                if (restaurantTypeTags || placeTypeTags || occasionTag || priorityTag) {
                    allTags = `<div class="dream-item-meta">${restaurantTypeTags}${placeTypeTags}${occasionTag}${priorityTag}</div>`;
                }

                html += `
                    <div class="dream-item ${dream.achieved ? 'achieved' : ''}">
                        <div class="dream-item-content">
                            <div class="dream-item-title">${escapeHtml(dream.title)}</div>
                            ${dream.details ? `<div class="dream-item-details">${escapeHtml(dream.details)}</div>` : ''}
                            ${dream.image ? `<img src="${dream.image}" class="dream-item-image" onclick="openLightbox(this.src)" alt="${escapeHtml(dream.title)}">` : ''}
                            ${allTags}
                        </div>
                        <div class="dream-item-actions">
                            <button class="icon-btn ${dream.achieved ? 'achieved' : ''}" onclick="toggleAchieved('${category}', '${dream.firebaseId}', ${!dream.achieved})">
                                ${dream.achieved ? 'âœ“ Done' : 'Mark Done'}
                            </button>
                            <button class="icon-btn" onclick="deleteDream('${category}', '${dream.firebaseId}')">Delete</button>
                        </div>
                    </div>
                `;
            });

            html += '</div>';
            listContainer.innerHTML = html;
            
            // Check if this list should be expanded
            const expandedState = localStorage.getItem(`dreamListExpanded_${category}`);
            if (expandedState === 'true') {
                listContainer.classList.add('expanded');
            } else {
                listContainer.classList.remove('expanded');
            }
        }

        // Toggle dream list
        window.toggleDreamList = function(category) {
            const list = document.getElementById(`${category}-list`);
            list.classList.toggle('expanded');
            
            const isExpanded = list.classList.contains('expanded');
            localStorage.setItem(`dreamListExpanded_${category}`, isExpanded);
        };

        // Toggle achieved
        window.toggleAchieved = function(category, firebaseId, newAchievedState) {
            const dreamRef = ref(database, `dreams/${category}/${firebaseId}`);
            update(dreamRef, { achieved: newAchievedState });
            
            if (newAchievedState) {
                const dream = dreams[category].find(d => d.firebaseId === firebaseId);
                if (dream) {
                    showCelebration(dream.title);
                }
            }
        };

        // Delete dream
        window.deleteDream = function(category, firebaseId) {
            if (confirm('Delete this dream?')) {
                const dreamRef = ref(database, `dreams/${category}/${firebaseId}`);
                remove(dreamRef);
            }
        };

        // Show celebration
        function showCelebration(dreamTitle) {
            document.getElementById('celebrationText').textContent = `You achieved: "${dreamTitle}"`;
            document.getElementById('celebration').classList.add('show');
            createConfetti();
        }

        // Close celebration
        window.closeCelebration = function() {
            document.getElementById('celebration').classList.remove('show');
        };

        // Random choice functionality
        let currentRandomCategory = '';

        window.chooseRandomDream = function(category) {
            currentRandomCategory = category;
            
            // Filter to only unachieved dreams
            const unachievedDreams = dreams[category].filter(d => !d.achieved);
            
            if (unachievedDreams.length === 0) {
                alert('No items to choose from yet! Add some first.');
                return;
            }
            
            // Pick a random dream
            const randomDream = unachievedDreams[Math.floor(Math.random() * unachievedDreams.length)];
            showRandomChoice(randomDream);
        };

        function showRandomChoice(dream) {
            document.getElementById('randomChoiceTitle').textContent = dream.title;
            document.getElementById('randomChoiceDetails').textContent = dream.details || '';
            
            const img = document.getElementById('randomChoiceImage');
            if (dream.image) {
                img.src = dream.image;
                img.style.display = 'block';
            } else {
                img.style.display = 'none';
            }
            
            document.getElementById('randomChoice').classList.add('show');
        }

        window.closeRandomChoice = function() {
            document.getElementById('randomChoice').classList.remove('show');
            currentRandomCategory = '';
        };

        window.pickAnotherRandom = function() {
            document.getElementById('randomChoice').classList.remove('show');
            setTimeout(() => {
                window.chooseRandomDream(currentRandomCategory);
            }, 200);
        };

        // Create confetti
        function createConfetti() {
            const colors = ['#b59197', '#7ba886', '#d4a5ae', '#ff9999', '#ffcc99', '#a8e6cf', '#95c9b4'];
            for (let i = 0; i < 100; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.top = '-10px';
                    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                    const size = Math.random() * 8 + 6;
                    confetti.style.width = size + 'px';
                    confetti.style.height = size + 'px';
                    const duration = Math.random() * 2 + 2;
                    confetti.style.animationDuration = duration + 's';
                    document.body.appendChild(confetti);
                    setTimeout(() => confetti.remove(), duration * 1000);
                }, i * 30);
            }
        }

        // Initialize
        initFirebaseListeners();
    </script>
</body>
</html>
